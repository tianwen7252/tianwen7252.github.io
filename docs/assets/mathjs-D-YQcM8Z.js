import{g as Lt}from"./react-DQrQyBkK.js";import{_ as sr,a as Je}from"./antd-BvpiG8Ji.js";var Mi={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Oe(e){return typeof e=="number"}function Le(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Ar(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function $t(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function lr(e){return e&&e.constructor.prototype.isUnit===!0||!1}function fr(e){return typeof e=="string"}var Re=Array.isArray;function ke(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Xr(e){return Array.isArray(e)||ke(e)}function Ti(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Oi(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Bi(e){return e&&e.constructor.prototype.isRange===!0||!1}function rt(e){return e&&e.constructor.prototype.isIndex===!0||!1}function _i(e){return typeof e=="boolean"}function Ii(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Ri(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Pi(e){return typeof e=="function"}function Li(e){return e instanceof Date}function $i(e){return e instanceof RegExp}function tt(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Ar(e)&&!$t(e))}function Ui(e){return e===null}function zi(e){return e===void 0}function Tr(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Kr(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function ki(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function qi(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Hi(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function vr(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function tn(e){return vr(e)||it(e)&&e.args.length===1&&vr(e.args[0])&&"-+~".includes(e.op)}function En(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ut(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function nt(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function qe(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function wn(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function it(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function zr(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gi(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function ji(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ur(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Vi(e){return e&&e.constructor.prototype.isChain===!0||!1}function tr(e){var r=typeof e;return r==="object"?e===null?"null":Le(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function Se(e){var r=typeof e;if(r==="number"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(i){return Se(i)});if(e instanceof Date)return new Date(e.valueOf());if(Le(e))return e;if(tt(e))return Yr(e,Se);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Yr(e,r){var i={};for(var a in e)ae(e,a)&&(i[a]=r(e[a]));return i}function Cu(e,r){for(var i in r)ae(r,i)&&(e[i]=r[i]);return e}function Wi(e,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var i in r)if(ae(r,i)&&!(i in Object.prototype)&&!(i in Function.prototype))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i]&&e[i].constructor===Object?Wi(e[i],r[i]):e[i]=r[i];else{if(Array.isArray(r[i]))throw new TypeError("Arrays are not supported by deepExtend");e[i]=r[i]}return e}function Or(e,r){var i,a,t;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(a=0,t=e.length;a<t;a++)if(!Or(e[a],r[a]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(i in e)if(!(i in r)||!Or(e[i],r[i]))return!1;for(i in r)if(!(i in e))return!1;return!0}else return e===r}}function Fu(e){var r={};return Yi(e,r),r}function Yi(e,r){for(var i in e)if(ae(e,i)){var a=e[i];typeof a=="object"&&a!==null?Yi(a,r):r[i]=a}}function Zt(e,r,i){var a=!0,t;Object.defineProperty(e,r,{get:function(){return a&&(t=i(),a=!1),t},set:function(u){t=u,a=!1},configurable:!0,enumerable:!0})}function ae(e,r){return e&&Object.hasOwnProperty.call(e,r)}function xu(e){return e&&typeof e.factory=="function"}function Su(e,r){for(var i={},a=0;a<r.length;a++){var t=r[a],n=e[t];n!==void 0&&(i[t]=n)}return i}var Pn=["Matrix","Array"],Ln=["number","BigNumber","Fraction"];function Mu(e,r){function i(a){if(a){var t=Yr(e,Se);$n(a,"matrix",Pn),$n(a,"number",Ln),Wi(e,a);var n=Yr(e,Se),u=Yr(a,Se);return r("config",n,t,u),n}else return Yr(e,Se)}return i.MATRIX_OPTIONS=Pn,i.NUMBER_OPTIONS=Ln,Object.keys(Mi).forEach(a=>{Object.defineProperty(i,a,{get:()=>e[a],enumerable:!0,configurable:!0})}),i}function Tu(e,r){return e.indexOf(r)!==-1}function $n(e,r,i){e[r]!==void 0&&!Tu(i,e[r])&&console.warn('Warning: Unknown value "'+e[r]+'" for configuration option "'+r+'". Available options: '+i.map(a=>JSON.stringify(a)).join(", ")+".")}function Un(){return!0}function or(){return!1}function Rr(){}const zn="Argument is not a typed-function.";function Zi(){function e(C){return typeof C=="object"&&C!==null&&C.constructor===Object}const r=[{name:"number",test:function(C){return typeof C=="number"}},{name:"string",test:function(C){return typeof C=="string"}},{name:"boolean",test:function(C){return typeof C=="boolean"}},{name:"Function",test:function(C){return typeof C=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(C){return C instanceof Date}},{name:"RegExp",test:function(C){return C instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(C){return C===null}},{name:"undefined",test:function(C){return C===void 0}}],i={name:"any",test:Un,isAny:!0};let a,t,n=0,u={createCount:0};function p(C){const I=a.get(C);if(I)return I;let L='Unknown type "'+C+'"';const q=C.toLowerCase();let V;for(V of t)if(V.toLowerCase()===q){L+='. Did you mean "'+V+'" ?';break}throw new TypeError(L)}function h(C){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const L=I?p(I).index:t.length,q=[];for(let j=0;j<C.length;++j){if(!C[j]||typeof C[j].name!="string"||typeof C[j].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const ee=C[j].name;if(a.has(ee))throw new TypeError('Duplicate type name "'+ee+'"');q.push(ee),a.set(ee,{name:ee,test:C[j].test,isAny:C[j].isAny,index:L+j,conversionsTo:[]})}const V=t.slice(L);t=t.slice(0,L).concat(q).concat(V);for(let j=L+q.length;j<t.length;++j)a.get(t[j]).index=j}function c(){a=new Map,t=[],n=0,h([i],!1)}c(),h(r);function s(){let C;for(C of t)a.get(C).conversionsTo=[];n=0}function o(C){const I=t.filter(L=>{const q=a.get(L);return!q.isAny&&q.test(C)});return I.length?I:["any"]}function f(C){return C&&typeof C=="function"&&"_typedFunctionData"in C}function l(C,I,L){if(!f(C))throw new TypeError(zn);const q=L&&L.exact,V=Array.isArray(I)?I.join(","):I,j=b(V),ee=D(j);if(!q||ee in C.signatures){const be=C._typedFunctionData.signatureMap.get(ee);if(be)return be}const K=j.length;let re;if(q){re=[];let be;for(be in C.signatures)re.push(C._typedFunctionData.signatureMap.get(be))}else re=C._typedFunctionData.signatures;for(let be=0;be<K;++be){const Fe=j[be],pe=[];let je;for(je of re){const d=T(je.params,be);if(!(!d||Fe.restParam&&!d.restParam)){if(!d.hasAny){const S=E(d);if(Fe.types.some($=>!S.has($.name)))continue}pe.push(je)}}if(re=pe,re.length===0)break}let X;for(X of re)if(X.params.length<=K)return X;throw new TypeError("Signature not found (signature: "+(C.name||"unnamed")+"("+D(j,", ")+"))")}function m(C,I,L){return l(C,I,L).implementation}function v(C,I){const L=p(I);if(L.test(C))return C;const q=L.conversionsTo;if(q.length===0)throw new Error("There are no conversions to "+I+" defined.");for(let V=0;V<q.length;V++)if(p(q[V].from).test(C))return q[V].convert(C);throw new Error("Cannot convert "+C+" to "+I)}function D(C){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return C.map(L=>L.name).join(I)}function g(C){const I=C.indexOf("...")===0,q=(I?C.length>3?C.slice(3):"any":C).split("|").map(K=>p(K.trim()));let V=!1,j=I?"...":"";return{types:q.map(function(K){return V=K.isAny||V,j+=K.name+"|",{name:K.name,typeIndex:K.index,test:K.test,isAny:K.isAny,conversion:null,conversionIndex:-1}}),name:j.slice(0,-1),hasAny:V,hasConversion:!1,restParam:I}}function N(C){const I=C.types.map(ee=>ee.name),L=A(I);let q=C.hasAny,V=C.name;const j=L.map(function(ee){const K=p(ee.from);return q=K.isAny||q,V+="|"+ee.from,{name:ee.from,typeIndex:K.index,test:K.test,isAny:K.isAny,conversion:ee,conversionIndex:ee.index}});return{types:C.types.concat(j),name:V,hasAny:q,hasConversion:j.length>0,restParam:C.restParam}}function E(C){return C.typeSet||(C.typeSet=new Set,C.types.forEach(I=>C.typeSet.add(I.name))),C.typeSet}function b(C){const I=[];if(typeof C!="string")throw new TypeError("Signatures must be strings");const L=C.trim();if(L==="")return I;const q=L.split(",");for(let V=0;V<q.length;++V){const j=g(q[V].trim());if(j.restParam&&V!==q.length-1)throw new SyntaxError('Unexpected rest parameter "'+q[V]+'": only allowed for the last parameter');if(j.types.length===0)return null;I.push(j)}return I}function w(C){const I=Ce(C);return I?I.restParam:!1}function y(C){if(!C||C.types.length===0)return Un;if(C.types.length===1)return p(C.types[0].name).test;if(C.types.length===2){const I=p(C.types[0].name).test,L=p(C.types[1].name).test;return function(V){return I(V)||L(V)}}else{const I=C.types.map(function(L){return p(L.name).test});return function(q){for(let V=0;V<I.length;V++)if(I[V](q))return!0;return!1}}}function M(C){let I,L,q;if(w(C)){I=Ge(C).map(y);const V=I.length,j=y(Ce(C)),ee=function(K){for(let re=V;re<K.length;re++)if(!j(K[re]))return!1;return!0};return function(re){for(let X=0;X<I.length;X++)if(!I[X](re[X]))return!1;return ee(re)&&re.length>=V+1}}else return C.length===0?function(j){return j.length===0}:C.length===1?(L=y(C[0]),function(j){return L(j[0])&&j.length===1}):C.length===2?(L=y(C[0]),q=y(C[1]),function(j){return L(j[0])&&q(j[1])&&j.length===2}):(I=C.map(y),function(j){for(let ee=0;ee<I.length;ee++)if(!I[ee](j[ee]))return!1;return j.length===I.length})}function T(C,I){return I<C.length?C[I]:w(C)?Ce(C):null}function O(C,I){const L=T(C,I);return L?E(L):new Set}function _(C){return C.conversion===null||C.conversion===void 0}function R(C,I){const L=new Set;return C.forEach(q=>{const V=O(q.params,I);let j;for(j of V)L.add(j)}),L.has("any")?["any"]:Array.from(L)}function P(C,I,L){let q,V;const j=C||"unnamed";let ee=L,K;for(K=0;K<I.length;K++){const Fe=[];if(ee.forEach(pe=>{const je=T(pe.params,K),d=y(je);(K<pe.params.length||w(pe.params))&&d(I[K])&&Fe.push(pe)}),Fe.length===0){if(V=R(ee,K),V.length>0){const pe=o(I[K]);return q=new TypeError("Unexpected type of argument in function "+j+" (expected: "+V.join(" or ")+", actual: "+pe.join(" | ")+", index: "+K+")"),q.data={category:"wrongType",fn:j,index:K,actual:pe,expected:V},q}}else ee=Fe}const re=ee.map(function(Fe){return w(Fe.params)?1/0:Fe.params.length});if(I.length<Math.min.apply(null,re))return V=R(ee,K),q=new TypeError("Too few arguments in function "+j+" (expected: "+V.join(" or ")+", index: "+I.length+")"),q.data={category:"tooFewArgs",fn:j,index:I.length,expected:V},q;const X=Math.max.apply(null,re);if(I.length>X)return q=new TypeError("Too many arguments in function "+j+" (expected: "+X+", actual: "+I.length+")"),q.data={category:"tooManyArgs",fn:j,index:I.length,expectedLength:X},q;const be=[];for(let Fe=0;Fe<I.length;++Fe)be.push(o(I[Fe]).join("|"));return q=new TypeError('Arguments of type "'+be.join(", ")+'" do not match any of the defined signatures of function '+j+"."),q.data={category:"mismatch",actual:be},q}function U(C){let I=t.length+1;for(let L=0;L<C.types.length;L++)_(C.types[L])&&(I=Math.min(I,C.types[L].typeIndex));return I}function z(C){let I=n+1;for(let L=0;L<C.types.length;L++)_(C.types[L])||(I=Math.min(I,C.types[L].conversionIndex));return I}function Q(C,I){if(C.hasAny){if(!I.hasAny)return 1}else if(I.hasAny)return-1;if(C.restParam){if(!I.restParam)return 1}else if(I.restParam)return-1;if(C.hasConversion){if(!I.hasConversion)return 1}else if(I.hasConversion)return-1;const L=U(C)-U(I);if(L<0)return-1;if(L>0)return 1;const q=z(C)-z(I);return q<0?-1:q>0?1:0}function H(C,I){const L=C.params,q=I.params,V=Ce(L),j=Ce(q),ee=w(L),K=w(q);if(ee&&V.hasAny){if(!K||!j.hasAny)return 1}else if(K&&j.hasAny)return-1;let re=0,X=0,be;for(be of L)be.hasAny&&++re,be.hasConversion&&++X;let Fe=0,pe=0;for(be of q)be.hasAny&&++Fe,be.hasConversion&&++pe;if(re!==Fe)return re-Fe;if(ee&&V.hasConversion){if(!K||!j.hasConversion)return 1}else if(K&&j.hasConversion)return-1;if(X!==pe)return X-pe;if(ee){if(!K)return 1}else if(K)return-1;const je=(L.length-q.length)*(ee?-1:1);if(je!==0)return je;const d=[];let S=0;for(let J=0;J<L.length;++J){const le=Q(L[J],q[J]);d.push(le),S+=le}if(S!==0)return S;let $;for($ of d)if($!==0)return $;return 0}function A(C){if(C.length===0)return[];const I=C.map(p);C.length>1&&I.sort((V,j)=>V.index-j.index);let L=I[0].conversionsTo;if(C.length===1)return L;L=L.concat([]);const q=new Set(C);for(let V=1;V<I.length;++V){let j;for(j of I[V].conversionsTo)q.has(j.from)||(L.push(j),q.add(j.from))}return L}function Z(C,I){let L=I;if(C.some(V=>V.hasConversion)){const V=w(C),j=C.map(F);L=function(){const K=[],re=V?arguments.length-1:arguments.length;for(let X=0;X<re;X++)K[X]=j[X](arguments[X]);return V&&(K[re]=arguments[re].map(j[re])),I.apply(this,K)}}let q=L;if(w(C)){const V=C.length-1;q=function(){return L.apply(this,Ee(arguments,0,V).concat([Ee(arguments,V)]))}}return q}function F(C){let I,L,q,V;const j=[],ee=[];switch(C.types.forEach(function(K){K.conversion&&(j.push(p(K.conversion.from).test),ee.push(K.conversion.convert))}),ee.length){case 0:return function(re){return re};case 1:return I=j[0],q=ee[0],function(re){return I(re)?q(re):re};case 2:return I=j[0],L=j[1],q=ee[0],V=ee[1],function(re){return I(re)?q(re):L(re)?V(re):re};default:return function(re){for(let X=0;X<ee.length;X++)if(j[X](re))return ee[X](re);return re}}}function ue(C){function I(L,q,V){if(q<L.length){const j=L[q];let ee=[];if(j.restParam){const K=j.types.filter(_);K.length<j.types.length&&ee.push({types:K,name:"..."+K.map(re=>re.name).join("|"),hasAny:K.some(re=>re.isAny),hasConversion:!1,restParam:!0}),ee.push(j)}else ee=j.types.map(function(K){return{types:[K],name:K.name,hasAny:K.isAny,hasConversion:K.conversion,restParam:!1}});return $e(ee,function(K){return I(L,q+1,V.concat([K]))})}else return[V]}return I(C,0,[])}function ye(C,I){const L=Math.max(C.length,I.length);for(let K=0;K<L;K++){const re=O(C,K),X=O(I,K);let be=!1,Fe;for(Fe of X)if(re.has(Fe)){be=!0;break}if(!be)return!1}const q=C.length,V=I.length,j=w(C),ee=w(I);return j?ee?q===V:V>=q:ee?q>=V:q===V}function Ae(C){return C.map(I=>k(I)?x(I.referToSelf.callback):B(I)?ze(I.referTo.references,I.referTo.callback):I)}function G(C,I,L){const q=[];let V;for(V of C){let j=L[V];if(typeof j!="number")throw new TypeError('No definition for referenced signature "'+V+'"');if(j=I[j],typeof j!="function")return!1;q.push(j)}return q}function _e(C,I,L){const q=Ae(C),V=new Array(q.length).fill(!1);let j=!0;for(;j;){j=!1;let ee=!0;for(let K=0;K<q.length;++K){if(V[K])continue;const re=q[K];if(k(re))q[K]=re.referToSelf.callback(L),q[K].referToSelf=re.referToSelf,V[K]=!0,ee=!1;else if(B(re)){const X=G(re.referTo.references,q,I);X?(q[K]=re.referTo.callback.apply(this,X),q[K].referTo=re.referTo,V[K]=!0,ee=!1):j=!0}}if(ee&&j)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return q}function Ie(C){const I=/\bthis(\(|\.signatures\b)/;Object.keys(C).forEach(L=>{const q=C[L];if(I.test(q.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function se(C,I){if(u.createCount++,Object.keys(I).length===0)throw new SyntaxError("No signatures provided");u.warnAgainstDeprecatedThis&&Ie(I);const L=[],q=[],V={},j=[];let ee;for(ee in I){if(!Object.prototype.hasOwnProperty.call(I,ee))continue;const xe=b(ee);if(!xe)continue;L.forEach(function(jr){if(ye(jr,xe))throw new TypeError('Conflicting signatures "'+D(jr)+'" and "'+D(xe)+'".')}),L.push(xe);const rr=q.length;q.push(I[ee]);const bu=xe.map(N);let ct;for(ct of ue(bu)){const jr=D(ct);j.push({params:ct,name:jr,fn:rr}),ct.every(Au=>!Au.hasConversion)&&(V[jr]=rr)}}j.sort(H);const K=_e(q,V,Gr);let re;for(re in V)Object.prototype.hasOwnProperty.call(V,re)&&(V[re]=K[V[re]]);const X=[],be=new Map;for(re of j)be.has(re.name)||(re.fn=K[re.fn],X.push(re),be.set(re.name,re));const Fe=X[0]&&X[0].params.length<=2&&!w(X[0].params),pe=X[1]&&X[1].params.length<=2&&!w(X[1].params),je=X[2]&&X[2].params.length<=2&&!w(X[2].params),d=X[3]&&X[3].params.length<=2&&!w(X[3].params),S=X[4]&&X[4].params.length<=2&&!w(X[4].params),$=X[5]&&X[5].params.length<=2&&!w(X[5].params),J=Fe&&pe&&je&&d&&S&&$;for(let xe=0;xe<X.length;++xe)X[xe].test=M(X[xe].params);const le=Fe?y(X[0].params[0]):or,me=pe?y(X[1].params[0]):or,ar=je?y(X[2].params[0]):or,Yt=d?y(X[3].params[0]):or,Ka=S?y(X[4].params[0]):or,Qa=$?y(X[5].params[0]):or,eu=Fe?y(X[0].params[1]):or,ru=pe?y(X[1].params[1]):or,tu=je?y(X[2].params[1]):or,nu=d?y(X[3].params[1]):or,iu=S?y(X[4].params[1]):or,au=$?y(X[5].params[1]):or;for(let xe=0;xe<X.length;++xe)X[xe].implementation=Z(X[xe].params,X[xe].fn);const uu=Fe?X[0].implementation:Rr,ou=pe?X[1].implementation:Rr,su=je?X[2].implementation:Rr,fu=d?X[3].implementation:Rr,cu=S?X[4].implementation:Rr,lu=$?X[5].implementation:Rr,hu=Fe?X[0].params.length:-1,pu=pe?X[1].params.length:-1,vu=je?X[2].params.length:-1,mu=d?X[3].params.length:-1,du=S?X[4].params.length:-1,gu=$?X[5].params.length:-1,Du=J?6:0,Eu=X.length,wu=X.map(xe=>xe.test),yu=X.map(xe=>xe.implementation),Nu=function(){for(let rr=Du;rr<Eu;rr++)if(wu[rr](arguments))return yu[rr].apply(this,arguments);return u.onMismatch(C,arguments,X)};function Gr(xe,rr){return arguments.length===hu&&le(xe)&&eu(rr)?uu.apply(this,arguments):arguments.length===pu&&me(xe)&&ru(rr)?ou.apply(this,arguments):arguments.length===vu&&ar(xe)&&tu(rr)?su.apply(this,arguments):arguments.length===mu&&Yt(xe)&&nu(rr)?fu.apply(this,arguments):arguments.length===du&&Ka(xe)&&iu(rr)?cu.apply(this,arguments):arguments.length===gu&&Qa(xe)&&au(rr)?lu.apply(this,arguments):Nu.apply(this,arguments)}try{Object.defineProperty(Gr,"name",{value:C})}catch{}return Gr.signatures=V,Gr._typedFunctionData={signatures:X,signatureMap:be},Gr}function de(C,I,L){throw P(C,I,L)}function Ge(C){return Ee(C,0,C.length-1)}function Ce(C){return C[C.length-1]}function Ee(C,I,L){return Array.prototype.slice.call(C,I,L)}function Ve(C,I){for(let L=0;L<C.length;L++)if(I(C[L]))return C[L]}function $e(C,I){return Array.prototype.concat.apply([],C.map(I))}function Ne(){const C=Ge(arguments).map(L=>D(b(L))),I=Ce(arguments);if(typeof I!="function")throw new TypeError("Callback function expected as last argument");return ze(C,I)}function ze(C,I){return{referTo:{references:C,callback:I}}}function x(C){if(typeof C!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:C}}}function B(C){return C&&typeof C.referTo=="object"&&Array.isArray(C.referTo.references)&&typeof C.referTo.callback=="function"}function k(C){return C&&typeof C.referToSelf=="object"&&typeof C.referToSelf.callback=="function"}function Y(C,I){if(!C)return I;if(I&&I!==C){const L=new Error("Function names do not match (expected: "+C+", actual: "+I+")");throw L.data={actual:I,expected:C},L}return C}function ne(C){let I;for(const L in C)Object.prototype.hasOwnProperty.call(C,L)&&(f(C[L])||typeof C[L].signature=="string")&&(I=Y(I,C[L].name));return I}function ie(C,I){let L;for(L in I)if(Object.prototype.hasOwnProperty.call(I,L)){if(L in C&&I[L]!==C[L]){const q=new Error('Signature "'+L+'" is defined twice');throw q.data={signature:L,sourceFunction:I[L],destFunction:C[L]},q}C[L]=I[L]}}const fe=u;u=function(C){const I=typeof C=="string",L=I?1:0;let q=I?C:"";const V={};for(let j=L;j<arguments.length;++j){const ee=arguments[j];let K={},re;if(typeof ee=="function"?(re=ee.name,typeof ee.signature=="string"?K[ee.signature]=ee:f(ee)&&(K=ee.signatures)):e(ee)&&(K=ee,I||(re=ne(ee))),Object.keys(K).length===0){const X=new TypeError("Argument to 'typed' at index "+j+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw X.data={index:j,argument:ee},X}I||(q=Y(q,re)),ie(V,K)}return se(q||"",V)},u.create=Zi,u.createCount=fe.createCount,u.onMismatch=de,u.throwMismatchError=de,u.createError=P,u.clear=c,u.clearConversions=s,u.addTypes=h,u._findType=p,u.referTo=Ne,u.referToSelf=x,u.convert=v,u.findSignature=l,u.find=m,u.isTypedFunction=f,u.warnAgainstDeprecatedThis=!0,u.addType=function(C,I){let L="any";I!==!1&&a.has("Object")&&(L="Object"),u.addTypes([C],L)};function he(C){if(!C||typeof C.from!="string"||typeof C.to!="string"||typeof C.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(C.to===C.from)throw new SyntaxError('Illegal to define conversion from "'+C.from+'" to itself.')}return u.addConversion=function(C){he(C);const I=p(C.to);if(I.conversionsTo.every(function(L){return L.from!==C.from}))I.conversionsTo.push({from:C.from,convert:C.convert,index:n++});else throw new Error('There is already a conversion from "'+C.from+'" to "'+I.name+'"')},u.addConversions=function(C){C.forEach(u.addConversion)},u.removeConversion=function(C){he(C);const I=p(C.to),L=Ve(I.conversionsTo,V=>V.from===C.from);if(!L)throw new Error("Attempt to remove nonexistent conversion from "+C.from+" to "+C.to);if(L.convert!==C.convert)throw new Error("Conversion to remove does not match existing conversion");const q=I.conversionsTo.indexOf(L);I.conversionsTo.splice(q,1)},u.resolve=function(C,I){if(!f(C))throw new TypeError(zn);const L=C._typedFunctionData.signatures;for(let q=0;q<L.length;++q)if(L[q].test(I))return L[q];return null},u}const nn=Zi();function Pe(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function Jt(e,r,i){var a={2:"0b",8:"0o",16:"0x"},t=a[r],n="";if(i){if(i<1)throw new Error("size must be in greater than 0");if(!Pe(i))throw new Error("size must be an integer");if(e>2**(i-1)-1||e<-(2**(i-1)))throw new Error("Value must be in range [-2^".concat(i-1,", 2^").concat(i-1,"-1]"));if(!Pe(e))throw new Error("Value must be an integer");e<0&&(e=e+2**i),n="i".concat(i)}var u="";return e<0&&(e=-e,u="-"),"".concat(u).concat(t).concat(e.toString(r)).concat(n)}function an(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:i,precision:a,wordSize:t}=Ji(r);switch(i){case"fixed":return Xi(e,a);case"exponential":return Ki(e,a);case"engineering":return Ou(e,a);case"bin":return Jt(e,2,t);case"oct":return Jt(e,8,t);case"hex":return Jt(e,16,t);case"auto":return Bu(e,a,r).replace(/((\.\d*?)(0+))($|e)/,function(){var n=arguments[2],u=arguments[4];return n!=="."?n+u:u});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ji(e){var r="auto",i,a;if(e!==void 0)if(Oe(e))i=e;else if(Le(e))i=e.toNumber();else if(tt(e))e.precision!==void 0&&(i=kn(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(a=kn(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(r=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:r,precision:i,wordSize:a}}function at(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var i=r[1],a=r[2],t=parseFloat(r[4]||"0"),n=a.indexOf(".");t+=n!==-1?n-1:a.length-1;var u=a.replace(".","").replace(/^0*/,function(p){return t-=p.length,""}).replace(/0*$/,"").split("").map(function(p){return parseInt(p)});return u.length===0&&(u.push(0),t++),{sign:i,coefficients:u,exponent:t}}function Ou(e,r){if(isNaN(e)||!isFinite(e))return String(e);var i=at(e),a=zt(i,r),t=a.exponent,n=a.coefficients,u=t%3===0?t:t<0?t-3-t%3:t-t%3;if(Oe(r))for(;r>n.length||t-u+1>n.length;)n.push(0);else for(var p=Math.abs(t-u)-(n.length-1),h=0;h<p;h++)n.push(0);for(var c=Math.abs(t-u),s=1;c>0;)s++,c--;var o=n.slice(s).join(""),f=Oe(r)&&o.length||o.match(/[1-9]/)?"."+o:"",l=n.slice(0,s).join("")+f+"e"+(t>=0?"+":"")+u.toString();return a.sign+l}function Xi(e,r){if(isNaN(e)||!isFinite(e))return String(e);var i=at(e),a=typeof r=="number"?zt(i,i.exponent+1+r):i,t=a.coefficients,n=a.exponent+1,u=n+(r||0);return t.length<u&&(t=t.concat(Ur(u-t.length))),n<0&&(t=Ur(-n+1).concat(t),n=1),n<t.length&&t.splice(n,0,n===0?"0.":"."),a.sign+t.join("")}function Ki(e,r){if(isNaN(e)||!isFinite(e))return String(e);var i=at(e),a=r?zt(i,r):i,t=a.coefficients,n=a.exponent;t.length<r&&(t=t.concat(Ur(r-t.length)));var u=t.shift();return a.sign+u+(t.length>0?"."+t.join(""):"")+"e"+(n>=0?"+":"")+n}function Bu(e,r,i){if(isNaN(e)||!isFinite(e))return String(e);var a=qn(i==null?void 0:i.lowerExp,-3),t=qn(i==null?void 0:i.upperExp,5),n=at(e),u=r?zt(n,r):n;if(u.exponent<a||u.exponent>=t)return Ki(e,r);var p=u.coefficients,h=u.exponent;p.length<r&&(p=p.concat(Ur(r-p.length))),p=p.concat(Ur(h-p.length+1+(p.length<r?r-p.length:0))),p=Ur(-h).concat(p);var c=h>0?h:0;return c<p.length-1&&p.splice(c+1,0,"."),u.sign+p.join("")}function zt(e,r){for(var i={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},a=i.coefficients;r<=0;)a.unshift(0),i.exponent++,r++;if(a.length>r){var t=a.splice(r,a.length-r);if(t[0]>=5){var n=r-1;for(a[n]++;a[n]===10;)a.pop(),n===0&&(a.unshift(0),i.exponent++,n++),n--,a[n]++}}return i}function Ur(e){for(var r=[],i=0;i<e;i++)r.push(0);return r}function _u(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Iu=Number.EPSILON||2220446049250313e-31;function dr(e,r,i){if(i==null)return e===r;if(e===r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var a=Math.abs(e-r);return a<=Iu?!0:a<=Math.max(Math.abs(e),Math.abs(r))*i}return!1}function kn(e,r){if(Oe(e))return e;if(Le(e))return e.toNumber();r()}function qn(e,r){return Oe(e)?e:Le(e)?e.toNumber():r}function Xt(e,r,i){var a=e.constructor,t=new a(2),n="";if(i){if(i<1)throw new Error("size must be in greater than 0");if(!Pe(i))throw new Error("size must be an integer");if(e.greaterThan(t.pow(i-1).sub(1))||e.lessThan(t.pow(i-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(i-1,", 2^").concat(i-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(t.pow(i))),n="i".concat(i)}switch(r){case 2:return"".concat(e.toBinary()).concat(n);case 8:return"".concat(e.toOctal()).concat(n);case 16:return"".concat(e.toHexadecimal()).concat(n);default:throw new Error("Base ".concat(r," not supported "))}}function Ru(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:i,precision:a,wordSize:t}=Ji(r);switch(i){case"fixed":return Lu(e,a);case"exponential":return Hn(e,a);case"engineering":return Pu(e,a);case"bin":return Xt(e,2,t);case"oct":return Xt(e,8,t);case"hex":return Xt(e,16,t);case"auto":{var n=Gn(r==null?void 0:r.lowerExp,-3),u=Gn(r==null?void 0:r.upperExp,5);if(e.isZero())return"0";var p,h=e.toSignificantDigits(a),c=h.e;return c>=n&&c<u?p=h.toFixed():p=Hn(e,a),p.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return s!=="."?s+o:o})}default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Pu(e,r){var i=e.e,a=i%3===0?i:i<0?i-3-i%3:i-i%3,t=e.mul(Math.pow(10,-a)),n=t.toPrecision(r);if(n.indexOf("e")!==-1){var u=e.constructor;n=new u(n).toFixed()}return n+"e"+(i>=0?"+":"")+a.toString()}function Hn(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function Lu(e,r){return e.toFixed(r)}function Gn(e,r){return Oe(e)?e:Le(e)?e.toNumber():r}function $u(e,r){var i=e.length-r.length,a=e.length;return e.substring(i,a)===r}function Ue(e,r){var i=Uu(e,r);return r&&typeof r=="object"&&"truncate"in r&&i.length>r.truncate?i.substring(0,r.truncate-3)+"...":i}function Uu(e,r){if(typeof e=="number")return an(e,r);if(Le(e))return Ru(e,r);if(zu(e))return!r||r.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return Qi(e,r);if(fr(e))return Lr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var i=Object.keys(e).map(a=>Lr(a)+": "+Ue(e[a],r));return"{"+i.join(", ")+"}"}return String(e)}function Lr(e){for(var r=String(e),i="",a=0;a<r.length;){var t=r.charAt(a);i+=t in jn?jn[t]:t,a++}return'"'+i+'"'}var jn={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function cr(e){var r=String(e);return r=r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r}function Qi(e,r){if(Array.isArray(e)){for(var i="[",a=e.length,t=0;t<a;t++)t!==0&&(i+=", "),i+=Qi(e[t],r);return i+="]",i}else return Ue(e,r)}function zu(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function ge(e,r,i){if(!(this instanceof ge))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=i,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}ge.prototype=new RangeError;ge.prototype.constructor=RangeError;ge.prototype.name="DimensionError";ge.prototype.isDimensionError=!0;function wr(e,r,i){if(!(this instanceof wr))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=i),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}wr.prototype=new RangeError;wr.prototype.constructor=RangeError;wr.prototype.name="IndexError";wr.prototype.isIndexError=!0;function Qe(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function ea(e,r,i){var a,t=e.length;if(t!==r[i])throw new ge(t,r[i]);if(i<r.length-1){var n=i+1;for(a=0;a<t;a++){var u=e[a];if(!Array.isArray(u))throw new ge(r.length-1,r.length,"<");ea(e[a],r,n)}}else for(a=0;a<t;a++)if(Array.isArray(e[a]))throw new ge(r.length+1,r.length,">")}function Vn(e,r){var i=r.length===0;if(i){if(Array.isArray(e))throw new ge(e.length,0)}else ea(e,r,0)}function St(e,r){var i=e.isMatrix?e._size:Qe(e),a=r._sourceSize;a.forEach((t,n)=>{if(t!==null&&t!==i[n])throw new ge(t,i[n])})}function Te(e,r){if(e!==void 0){if(!Oe(e)||!Pe(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new wr(e,r)}}function kr(e){for(var r=0;r<e._dimensions.length;++r){var i=e._dimensions[r];if(i._data&&Re(i._data)){if(i._size[0]===0)return!0}else if(i.isRange){if(i.start===i.end)return!0}else if(fr(i)&&i.length===0)return!0}return!1}function Mt(e,r,i){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(t){if(!Oe(t)||!Pe(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ue(r)+")")}),(Oe(e)||Le(e))&&(e=[e]);var a=i!==void 0?i:0;return un(e,r,0,a),e}function un(e,r,i,a){var t,n,u=e.length,p=r[i],h=Math.min(u,p);if(e.length=p,i<r.length-1){var c=i+1;for(t=0;t<h;t++)n=e[t],Array.isArray(n)||(n=[n],e[t]=n),un(n,r,c,a);for(t=h;t<p;t++)n=[],e[t]=n,un(n,r,c,a)}else{for(t=0;t<h;t++)for(;Array.isArray(e[t]);)e[t]=e[t][0];for(t=h;t<p;t++)e[t]=a}}function ra(e,r){var i=qu(e),a=i.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new ge(0,a,"!=");r=yn(r,a);var t=ta(r);if(a!==t)throw new ge(t,a,"!=");try{return ku(i,r)}catch(n){throw n instanceof ge?new ge(t,a,"!="):n}}function yn(e,r){var i=ta(e),a=e.slice(),t=-1,n=e.indexOf(t),u=e.indexOf(t,n+1)>=0;if(u)throw new Error("More than one wildcard in sizes");var p=n>=0,h=r%i===0;if(p)if(h)a[n]=-r/i;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-i);return a}function ta(e){return e.reduce((r,i)=>r*i,1)}function ku(e,r){for(var i=e,a,t=r.length-1;t>0;t--){var n=r[t];a=[];for(var u=i.length/n,p=0;p<u;p++)a.push(i.slice(p*n,(p+1)*n));i=a}return i}function na(e,r,i,a){var t=a||Qe(e);if(i)for(var n=0;n<i;n++)e=[e],t.unshift(1);for(e=ia(e,r,0);t.length<r;)t.push(1);return e}function ia(e,r,i){var a,t;if(Array.isArray(e)){var n=i+1;for(a=0,t=e.length;a<t;a++)e[a]=ia(e[a],r,n)}else for(var u=i;u<r;u++)e=[e];return e}function qu(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function i(a){Array.isArray(a)?a.forEach(i):r.push(a)}),r}function Cr(e,r){return Array.prototype.map.call(e,r)}function aa(e,r){Array.prototype.forEach.call(e,r)}function Wn(e,r){return Array.prototype.join.call(e,r)}function Tt(e,r){for(var i,a=0,t=0;t<e.length;t++){var n=e[t],u=Array.isArray(n);if(t===0&&u&&(a=n.length),u&&n.length!==a)return;var p=u?Tt(n,r):r(n);if(i===void 0)i=p;else if(i!==p)return"mixed"}return i}function Yn(e,r){return e.indexOf(r)!==-1}function ua(e,r,i,a){if(a<i){if(e.length!==r.length)throw new ge(e.length,r.length);for(var t=[],n=0;n<e.length;n++)t[n]=ua(e[n],r[n],i,a+1);return t}else return e.concat(r)}function oa(){var e=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(i,a){return ua(i,a,r,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Hu(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(var a=r.map(f=>f.length),t=Math.max(...a),n=new Array(t).fill(null),u=0;u<r.length;u++)for(var p=r[u],h=a[u],c=0;c<h;c++){var s=t-h+c;p[c]>n[s]&&(n[s]=p[c])}for(var o=0;o<r.length;o++)Ot(r[o],n);return n}function Ot(e,r){for(var i=r.length,a=e.length,t=0;t<a;t++){var n=i-a+t;if(e[t]<r[n]&&e[t]>1||e[t]>r[n])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(a," with size ").concat(e[t]," to size ").concat(r[n]))}}function Zn(e,r){var i=Qe(e);if(Or(i,r))return e;Ot(i,r);var a=Hu(i,r),t=a.length,n=[...Array(t-i.length).fill(1),...i],u=ju(e);i.length<t&&(u=ra(u,n),i=Qe(u));for(var p=0;p<t;p++)i[p]<a[p]&&(u=Gu(u,a[p],p),i=Qe(u));return u}function Gu(e,r,i){return oa(...Array(r).fill(e),i)}function ju(e){return sr([],e)}function te(e,r,i,a){function t(n){var u=Su(n,r.map(sa));return Vu(e,r,n),i(u)}return t.isFactory=!0,t.fn=e,t.dependencies=r.slice().sort(),a&&(t.meta=a),t}function Jr(e){return typeof e=="function"&&typeof e.fn=="string"&&Array.isArray(e.dependencies)}function Vu(e,r,i){var a=r.filter(n=>!Wu(n)).every(n=>i[n]!==void 0);if(!a){var t=r.filter(n=>i[n]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(t.map(n=>'"'.concat(n,'"')).join(", "),"."))}}function Wu(e){return e&&e[0]==="?"}function sa(e){return e&&e[0]==="?"?e.slice(1):e}function nr(e,r){if(ca(e)&&fa(e,r))return e[r];throw typeof e[r]=="function"&&Nn(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function Qr(e,r,i){if(ca(e)&&fa(e,r))return e[r]=i,i;throw new Error('No access to property "'+r+'"')}function Yu(e,r){return r in e}function fa(e,r){return!e||typeof e!="object"?!1:ae(Ju,r)?!0:!(r in Object.prototype||r in Function.prototype)}function Zu(e,r){if(!Nn(e,r))throw new Error('No access to method "'+r+'"');return e[r]}function Nn(e,r){return e==null||typeof e[r]!="function"||ae(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:ae(Xu,r)?!0:!(r in Object.prototype||r in Function.prototype)}function ca(e){return typeof e=="object"&&e&&e.constructor===Object}var Ju={length:!0,name:!0},Xu={toString:!0,valueOf:!0,toLocaleString:!0};class bn{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(r){return nr(this.wrappedObject,r)}set(r,i){return Qr(this.wrappedObject,r,i),this}has(r){return Yu(this.wrappedObject,r)}entries(){return la(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var i of this.keys())r(this.get(i),i,this)}delete(r){delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}}class Ku{constructor(r,i,a){this.a=r,this.b=i,this.bKeys=a,this[Symbol.iterator]=this.entries}get(r){return this.bKeys.has(r)?this.b.get(r):this.a.get(r)}set(r,i){return this.bKeys.has(r)?this.b.set(r,i):this.a.set(r,i),this}has(r){return this.b.has(r)||this.a.has(r)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return la(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var i of this.keys())r(this.get(i),i,this)}delete(r){return this.bKeys.has(r)?this.b.delete(r):this.a.delete(r)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function la(e,r){return{next:()=>{var i=e.next();return i.done?i:{value:r(i.value),done:!1}}}}function on(){return new Map}function Qu(e){if(!e)return on();if(ha(e))return e;if(tt(e))return new bn(e);throw new Error("createMap can create maps from objects or Maps")}function ha(e){return e?e instanceof Map||e instanceof bn||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var pa=function(){return pa=nn.create,nn},eo=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ro=te("typed",eo,function(r){var{BigNumber:i,Complex:a,DenseMatrix:t,Fraction:n}=r,u=pa();return u.clear(),u.addTypes([{name:"number",test:Oe},{name:"Complex",test:Ar},{name:"BigNumber",test:Le},{name:"Fraction",test:$t},{name:"Unit",test:lr},{name:"identifier",test:p=>/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(p)},{name:"string",test:fr},{name:"Chain",test:Vi},{name:"Array",test:Re},{name:"Matrix",test:ke},{name:"DenseMatrix",test:Ti},{name:"SparseMatrix",test:Oi},{name:"Range",test:Bi},{name:"Index",test:rt},{name:"boolean",test:_i},{name:"ResultSet",test:Ii},{name:"Help",test:Ri},{name:"function",test:Pi},{name:"Date",test:Li},{name:"RegExp",test:$i},{name:"null",test:Ui},{name:"undefined",test:zi},{name:"AccessorNode",test:Tr},{name:"ArrayNode",test:Kr},{name:"AssignmentNode",test:ki},{name:"BlockNode",test:qi},{name:"ConditionalNode",test:Hi},{name:"ConstantNode",test:vr},{name:"FunctionNode",test:Ut},{name:"FunctionAssignmentNode",test:En},{name:"IndexNode",test:nt},{name:"Node",test:qe},{name:"ObjectNode",test:wn},{name:"OperatorNode",test:it},{name:"ParenthesisNode",test:zr},{name:"RangeNode",test:Gi},{name:"RelationalNode",test:ji},{name:"SymbolNode",test:ur},{name:"Map",test:ha},{name:"Object",test:tt}]),u.addConversions([{from:"number",to:"BigNumber",convert:function(h){if(i||Kt(h),_u(h)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+h+"). Use function bignumber(x) to convert to BigNumber.");return new i(h)}},{from:"number",to:"Complex",convert:function(h){return a||lt(h),new a(h,0)}},{from:"BigNumber",to:"Complex",convert:function(h){return a||lt(h),new a(h.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(h){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(h){return a||lt(h),new a(h.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(h){n||Qt(h);var c=new n(h);if(c.valueOf()!==h)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+h+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(h){var c=Number(h);if(isNaN(c))throw new Error('Cannot convert "'+h+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(h){i||Kt(h);try{return new i(h)}catch{throw new Error('Cannot convert "'+h+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(h){n||Qt(h);try{return new n(h)}catch{throw new Error('Cannot convert "'+h+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(h){a||lt(h);try{return new a(h)}catch{throw new Error('Cannot convert "'+h+'" to Complex')}}},{from:"boolean",to:"number",convert:function(h){return+h}},{from:"boolean",to:"BigNumber",convert:function(h){return i||Kt(h),new i(+h)}},{from:"boolean",to:"Fraction",convert:function(h){return n||Qt(h),new n(+h)}},{from:"boolean",to:"string",convert:function(h){return String(h)}},{from:"Array",to:"Matrix",convert:function(h){return t||to(),new t(h)}},{from:"Matrix",to:"Array",convert:function(h){return h.valueOf()}}]),u.onMismatch=(p,h,c)=>{var s=u.createError(p,h,c);if(["wrongType","mismatch"].includes(s.data.category)&&h.length===1&&Xr(h[0])&&c.some(f=>!f.params.includes(","))){var o=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw o.data=s.data,o}throw s},u.onMismatch=(p,h,c)=>{var s=u.createError(p,h,c);if(["wrongType","mismatch"].includes(s.data.category)&&h.length===1&&Xr(h[0])&&c.some(f=>!f.params.includes(","))){var o=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw o.data=s.data,o}throw s},u});function Kt(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function lt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function to(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Qt(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var no="ResultSet",io=[],ao=te(no,io,()=>{function e(r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=r||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(r){return new e(r.entries)},e},{isClass:!0});/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var $r=9e15,Sr=1e9,sn="0123456789abcdef",Bt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",_t="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",fn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-$r,maxE:$r,crypto:!1},va,Er,ve=!0,kt="[DecimalError] ",Fr=kt+"Invalid argument: ",ma=kt+"Precision limit exceeded",da=kt+"crypto unavailable",ga="[object Decimal]",Xe=Math.floor,We=Math.pow,uo=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,oo=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,so=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Da=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pr=1e7,ce=7,fo=9007199254740991,co=Bt.length-1,cn=_t.length-1,W={toStringTag:ga};W.absoluteValue=W.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),oe(e)};W.ceil=function(){return oe(new this.constructor(this),this.e+1,2)};W.clampedTo=W.clamp=function(e,r){var i,a=this,t=a.constructor;if(e=new t(e),r=new t(r),!e.s||!r.s)return new t(NaN);if(e.gt(r))throw Error(Fr+r);return i=a.cmp(e),i<0?e:a.cmp(r)>0?r:new t(a)};W.comparedTo=W.cmp=function(e){var r,i,a,t,n=this,u=n.d,p=(e=new n.constructor(e)).d,h=n.s,c=e.s;if(!u||!p)return!h||!c?NaN:h!==c?h:u===p?0:!u^h<0?1:-1;if(!u[0]||!p[0])return u[0]?h:p[0]?-c:0;if(h!==c)return h;if(n.e!==e.e)return n.e>e.e^h<0?1:-1;for(a=u.length,t=p.length,r=0,i=a<t?a:t;r<i;++r)if(u[r]!==p[r])return u[r]>p[r]^h<0?1:-1;return a===t?0:a>t^h<0?1:-1};W.cosine=W.cos=function(){var e,r,i=this,a=i.constructor;return i.d?i.d[0]?(e=a.precision,r=a.rounding,a.precision=e+Math.max(i.e,i.sd())+ce,a.rounding=1,i=lo(a,ba(a,i)),a.precision=e,a.rounding=r,oe(Er==2||Er==3?i.neg():i,e,r,!0)):new a(1):new a(NaN)};W.cubeRoot=W.cbrt=function(){var e,r,i,a,t,n,u,p,h,c,s=this,o=s.constructor;if(!s.isFinite()||s.isZero())return new o(s);for(ve=!1,n=s.s*We(s.s*s,1/3),!n||Math.abs(n)==1/0?(i=Ze(s.d),e=s.e,(n=(e-i.length+1)%3)&&(i+=n==1||n==-2?"0":"00"),n=We(i,1/3),e=Xe((e+1)/3)-(e%3==(e<0?-1:2)),n==1/0?i="5e"+e:(i=n.toExponential(),i=i.slice(0,i.indexOf("e")+1)+e),a=new o(i),a.s=s.s):a=new o(n.toString()),u=(e=o.precision)+3;;)if(p=a,h=p.times(p).times(p),c=h.plus(s),a=Be(c.plus(s).times(p),c.plus(h),u+2,1),Ze(p.d).slice(0,u)===(i=Ze(a.d)).slice(0,u))if(i=i.slice(u-3,u+1),i=="9999"||!t&&i=="4999"){if(!t&&(oe(p,e+1,0),p.times(p).times(p).eq(s))){a=p;break}u+=4,t=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(oe(a,e+1,1),r=!a.times(a).times(a).eq(s));break}return ve=!0,oe(a,e,o.rounding,r)};W.decimalPlaces=W.dp=function(){var e,r=this.d,i=NaN;if(r){if(e=r.length-1,i=(e-Xe(this.e/ce))*ce,e=r[e],e)for(;e%10==0;e/=10)i--;i<0&&(i=0)}return i};W.dividedBy=W.div=function(e){return Be(this,new this.constructor(e))};W.dividedToIntegerBy=W.divToInt=function(e){var r=this,i=r.constructor;return oe(Be(r,new i(e),0,1,1),i.precision,i.rounding)};W.equals=W.eq=function(e){return this.cmp(e)===0};W.floor=function(){return oe(new this.constructor(this),this.e+1,3)};W.greaterThan=W.gt=function(e){return this.cmp(e)>0};W.greaterThanOrEqualTo=W.gte=function(e){var r=this.cmp(e);return r==1||r===0};W.hyperbolicCosine=W.cosh=function(){var e,r,i,a,t,n=this,u=n.constructor,p=new u(1);if(!n.isFinite())return new u(n.s?1/0:NaN);if(n.isZero())return p;i=u.precision,a=u.rounding,u.precision=i+Math.max(n.e,n.sd())+4,u.rounding=1,t=n.d.length,t<32?(e=Math.ceil(t/3),r=(1/Ht(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),n=qr(u,1,n.times(r),new u(1),!0);for(var h,c=e,s=new u(8);c--;)h=n.times(n),n=p.minus(h.times(s.minus(h.times(s))));return oe(n,u.precision=i,u.rounding=a,!0)};W.hyperbolicSine=W.sinh=function(){var e,r,i,a,t=this,n=t.constructor;if(!t.isFinite()||t.isZero())return new n(t);if(r=n.precision,i=n.rounding,n.precision=r+Math.max(t.e,t.sd())+4,n.rounding=1,a=t.d.length,a<3)t=qr(n,2,t,t,!0);else{e=1.4*Math.sqrt(a),e=e>16?16:e|0,t=t.times(1/Ht(5,e)),t=qr(n,2,t,t,!0);for(var u,p=new n(5),h=new n(16),c=new n(20);e--;)u=t.times(t),t=t.times(p.plus(u.times(h.times(u).plus(c))))}return n.precision=r,n.rounding=i,oe(t,r,i,!0)};W.hyperbolicTangent=W.tanh=function(){var e,r,i=this,a=i.constructor;return i.isFinite()?i.isZero()?new a(i):(e=a.precision,r=a.rounding,a.precision=e+7,a.rounding=1,Be(i.sinh(),i.cosh(),a.precision=e,a.rounding=r)):new a(i.s)};W.inverseCosine=W.acos=function(){var e,r=this,i=r.constructor,a=r.abs().cmp(1),t=i.precision,n=i.rounding;return a!==-1?a===0?r.isNeg()?hr(i,t,n):new i(0):new i(NaN):r.isZero()?hr(i,t+4,n).times(.5):(i.precision=t+6,i.rounding=1,r=r.asin(),e=hr(i,t+4,n).times(.5),i.precision=t,i.rounding=n,e.minus(r))};W.inverseHyperbolicCosine=W.acosh=function(){var e,r,i=this,a=i.constructor;return i.lte(1)?new a(i.eq(1)?0:NaN):i.isFinite()?(e=a.precision,r=a.rounding,a.precision=e+Math.max(Math.abs(i.e),i.sd())+4,a.rounding=1,ve=!1,i=i.times(i).minus(1).sqrt().plus(i),ve=!0,a.precision=e,a.rounding=r,i.ln()):new a(i)};W.inverseHyperbolicSine=W.asinh=function(){var e,r,i=this,a=i.constructor;return!i.isFinite()||i.isZero()?new a(i):(e=a.precision,r=a.rounding,a.precision=e+2*Math.max(Math.abs(i.e),i.sd())+6,a.rounding=1,ve=!1,i=i.times(i).plus(1).sqrt().plus(i),ve=!0,a.precision=e,a.rounding=r,i.ln())};W.inverseHyperbolicTangent=W.atanh=function(){var e,r,i,a,t=this,n=t.constructor;return t.isFinite()?t.e>=0?new n(t.abs().eq(1)?t.s/0:t.isZero()?t:NaN):(e=n.precision,r=n.rounding,a=t.sd(),Math.max(a,e)<2*-t.e-1?oe(new n(t),e,r,!0):(n.precision=i=a-t.e,t=Be(t.plus(1),new n(1).minus(t),i+e,1),n.precision=e+4,n.rounding=1,t=t.ln(),n.precision=e,n.rounding=r,t.times(.5))):new n(NaN)};W.inverseSine=W.asin=function(){var e,r,i,a,t=this,n=t.constructor;return t.isZero()?new n(t):(r=t.abs().cmp(1),i=n.precision,a=n.rounding,r!==-1?r===0?(e=hr(n,i+4,a).times(.5),e.s=t.s,e):new n(NaN):(n.precision=i+6,n.rounding=1,t=t.div(new n(1).minus(t.times(t)).sqrt().plus(1)).atan(),n.precision=i,n.rounding=a,t.times(2)))};W.inverseTangent=W.atan=function(){var e,r,i,a,t,n,u,p,h,c=this,s=c.constructor,o=s.precision,f=s.rounding;if(c.isFinite()){if(c.isZero())return new s(c);if(c.abs().eq(1)&&o+4<=cn)return u=hr(s,o+4,f).times(.25),u.s=c.s,u}else{if(!c.s)return new s(NaN);if(o+4<=cn)return u=hr(s,o+4,f).times(.5),u.s=c.s,u}for(s.precision=p=o+10,s.rounding=1,i=Math.min(28,p/ce+2|0),e=i;e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(ve=!1,r=Math.ceil(p/ce),a=1,h=c.times(c),u=new s(c),t=c;e!==-1;)if(t=t.times(h),n=u.minus(t.div(a+=2)),t=t.times(h),u=n.plus(t.div(a+=2)),u.d[r]!==void 0)for(e=r;u.d[e]===n.d[e]&&e--;);return i&&(u=u.times(2<<i-1)),ve=!0,oe(u,s.precision=o,s.rounding=f,!0)};W.isFinite=function(){return!!this.d};W.isInteger=W.isInt=function(){return!!this.d&&Xe(this.e/ce)>this.d.length-2};W.isNaN=function(){return!this.s};W.isNegative=W.isNeg=function(){return this.s<0};W.isPositive=W.isPos=function(){return this.s>0};W.isZero=function(){return!!this.d&&this.d[0]===0};W.lessThan=W.lt=function(e){return this.cmp(e)<0};W.lessThanOrEqualTo=W.lte=function(e){return this.cmp(e)<1};W.logarithm=W.log=function(e){var r,i,a,t,n,u,p,h,c=this,s=c.constructor,o=s.precision,f=s.rounding,l=5;if(e==null)e=new s(10),r=!0;else{if(e=new s(e),i=e.d,e.s<0||!i||!i[0]||e.eq(1))return new s(NaN);r=e.eq(10)}if(i=c.d,c.s<0||!i||!i[0]||c.eq(1))return new s(i&&!i[0]?-1/0:c.s!=1?NaN:i?0:1/0);if(r)if(i.length>1)n=!0;else{for(t=i[0];t%10===0;)t/=10;n=t!==1}if(ve=!1,p=o+l,u=br(c,p),a=r?It(s,p+10):br(e,p),h=Be(u,a,p,1),et(h.d,t=o,f))do if(p+=10,u=br(c,p),a=r?It(s,p+10):br(e,p),h=Be(u,a,p,1),!n){+Ze(h.d).slice(t+1,t+15)+1==1e14&&(h=oe(h,o+1,0));break}while(et(h.d,t+=10,f));return ve=!0,oe(h,o,f)};W.minus=W.sub=function(e){var r,i,a,t,n,u,p,h,c,s,o,f,l=this,m=l.constructor;if(e=new m(e),!l.d||!e.d)return!l.s||!e.s?e=new m(NaN):l.d?e.s=-e.s:e=new m(e.d||l.s!==e.s?l:NaN),e;if(l.s!=e.s)return e.s=-e.s,l.plus(e);if(c=l.d,f=e.d,p=m.precision,h=m.rounding,!c[0]||!f[0]){if(f[0])e.s=-e.s;else if(c[0])e=new m(l);else return new m(h===3?-0:0);return ve?oe(e,p,h):e}if(i=Xe(e.e/ce),s=Xe(l.e/ce),c=c.slice(),n=s-i,n){for(o=n<0,o?(r=c,n=-n,u=f.length):(r=f,i=s,u=c.length),a=Math.max(Math.ceil(p/ce),u)+2,n>a&&(n=a,r.length=1),r.reverse(),a=n;a--;)r.push(0);r.reverse()}else{for(a=c.length,u=f.length,o=a<u,o&&(u=a),a=0;a<u;a++)if(c[a]!=f[a]){o=c[a]<f[a];break}n=0}for(o&&(r=c,c=f,f=r,e.s=-e.s),u=c.length,a=f.length-u;a>0;--a)c[u++]=0;for(a=f.length;a>n;){if(c[--a]<f[a]){for(t=a;t&&c[--t]===0;)c[t]=pr-1;--c[t],c[a]+=pr}c[a]-=f[a]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--i;return c[0]?(e.d=c,e.e=qt(c,i),ve?oe(e,p,h):e):new m(h===3?-0:0)};W.modulo=W.mod=function(e){var r,i=this,a=i.constructor;return e=new a(e),!i.d||!e.s||e.d&&!e.d[0]?new a(NaN):!e.d||i.d&&!i.d[0]?oe(new a(i),a.precision,a.rounding):(ve=!1,a.modulo==9?(r=Be(i,e.abs(),0,3,1),r.s*=e.s):r=Be(i,e,0,a.modulo,1),r=r.times(e),ve=!0,i.minus(r))};W.naturalExponential=W.exp=function(){return ln(this)};W.naturalLogarithm=W.ln=function(){return br(this)};W.negated=W.neg=function(){var e=new this.constructor(this);return e.s=-e.s,oe(e)};W.plus=W.add=function(e){var r,i,a,t,n,u,p,h,c,s,o=this,f=o.constructor;if(e=new f(e),!o.d||!e.d)return!o.s||!e.s?e=new f(NaN):o.d||(e=new f(e.d||o.s===e.s?o:NaN)),e;if(o.s!=e.s)return e.s=-e.s,o.minus(e);if(c=o.d,s=e.d,p=f.precision,h=f.rounding,!c[0]||!s[0])return s[0]||(e=new f(o)),ve?oe(e,p,h):e;if(n=Xe(o.e/ce),a=Xe(e.e/ce),c=c.slice(),t=n-a,t){for(t<0?(i=c,t=-t,u=s.length):(i=s,a=n,u=c.length),n=Math.ceil(p/ce),u=n>u?n+1:u+1,t>u&&(t=u,i.length=1),i.reverse();t--;)i.push(0);i.reverse()}for(u=c.length,t=s.length,u-t<0&&(t=u,i=s,s=c,c=i),r=0;t;)r=(c[--t]=c[t]+s[t]+r)/pr|0,c[t]%=pr;for(r&&(c.unshift(r),++a),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=qt(c,a),ve?oe(e,p,h):e};W.precision=W.sd=function(e){var r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fr+e);return i.d?(r=Ea(i.d),e&&i.e+1>r&&(r=i.e+1)):r=NaN,r};W.round=function(){var e=this,r=e.constructor;return oe(new r(e),e.e+1,r.rounding)};W.sine=W.sin=function(){var e,r,i=this,a=i.constructor;return i.isFinite()?i.isZero()?new a(i):(e=a.precision,r=a.rounding,a.precision=e+Math.max(i.e,i.sd())+ce,a.rounding=1,i=po(a,ba(a,i)),a.precision=e,a.rounding=r,oe(Er>2?i.neg():i,e,r,!0)):new a(NaN)};W.squareRoot=W.sqrt=function(){var e,r,i,a,t,n,u=this,p=u.d,h=u.e,c=u.s,s=u.constructor;if(c!==1||!p||!p[0])return new s(!c||c<0&&(!p||p[0])?NaN:p?u:1/0);for(ve=!1,c=Math.sqrt(+u),c==0||c==1/0?(r=Ze(p),(r.length+h)%2==0&&(r+="0"),c=Math.sqrt(r),h=Xe((h+1)/2)-(h<0||h%2),c==1/0?r="5e"+h:(r=c.toExponential(),r=r.slice(0,r.indexOf("e")+1)+h),a=new s(r)):a=new s(c.toString()),i=(h=s.precision)+3;;)if(n=a,a=n.plus(Be(u,n,i+2,1)).times(.5),Ze(n.d).slice(0,i)===(r=Ze(a.d)).slice(0,i))if(r=r.slice(i-3,i+1),r=="9999"||!t&&r=="4999"){if(!t&&(oe(n,h+1,0),n.times(n).eq(u))){a=n;break}i+=4,t=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(oe(a,h+1,1),e=!a.times(a).eq(u));break}return ve=!0,oe(a,h,s.rounding,e)};W.tangent=W.tan=function(){var e,r,i=this,a=i.constructor;return i.isFinite()?i.isZero()?new a(i):(e=a.precision,r=a.rounding,a.precision=e+10,a.rounding=1,i=i.sin(),i.s=1,i=Be(i,new a(1).minus(i.times(i)).sqrt(),e+10,0),a.precision=e,a.rounding=r,oe(Er==2||Er==4?i.neg():i,e,r,!0)):new a(NaN)};W.times=W.mul=function(e){var r,i,a,t,n,u,p,h,c,s=this,o=s.constructor,f=s.d,l=(e=new o(e)).d;if(e.s*=s.s,!f||!f[0]||!l||!l[0])return new o(!e.s||f&&!f[0]&&!l||l&&!l[0]&&!f?NaN:!f||!l?e.s/0:e.s*0);for(i=Xe(s.e/ce)+Xe(e.e/ce),h=f.length,c=l.length,h<c&&(n=f,f=l,l=n,u=h,h=c,c=u),n=[],u=h+c,a=u;a--;)n.push(0);for(a=c;--a>=0;){for(r=0,t=h+a;t>a;)p=n[t]+l[a]*f[t-a-1]+r,n[t--]=p%pr|0,r=p/pr|0;n[t]=(n[t]+r)%pr|0}for(;!n[--u];)n.pop();return r?++i:n.shift(),e.d=n,e.e=qt(n,i),ve?oe(e,o.precision,o.rounding):e};W.toBinary=function(e,r){return An(this,2,e,r)};W.toDecimalPlaces=W.toDP=function(e,r){var i=this,a=i.constructor;return i=new a(i),e===void 0?i:(ir(e,0,Sr),r===void 0?r=a.rounding:ir(r,0,8),oe(i,e+i.e+1,r))};W.toExponential=function(e,r){var i,a=this,t=a.constructor;return e===void 0?i=gr(a,!0):(ir(e,0,Sr),r===void 0?r=t.rounding:ir(r,0,8),a=oe(new t(a),e+1,r),i=gr(a,!0,e+1)),a.isNeg()&&!a.isZero()?"-"+i:i};W.toFixed=function(e,r){var i,a,t=this,n=t.constructor;return e===void 0?i=gr(t):(ir(e,0,Sr),r===void 0?r=n.rounding:ir(r,0,8),a=oe(new n(t),e+t.e+1,r),i=gr(a,!1,e+a.e+1)),t.isNeg()&&!t.isZero()?"-"+i:i};W.toFraction=function(e){var r,i,a,t,n,u,p,h,c,s,o,f,l=this,m=l.d,v=l.constructor;if(!m)return new v(l);if(c=i=new v(1),a=h=new v(0),r=new v(a),n=r.e=Ea(m)-l.e-1,u=n%ce,r.d[0]=We(10,u<0?ce+u:u),e==null)e=n>0?r:c;else{if(p=new v(e),!p.isInt()||p.lt(c))throw Error(Fr+p);e=p.gt(r)?n>0?r:c:p}for(ve=!1,p=new v(Ze(m)),s=v.precision,v.precision=n=m.length*ce*2;o=Be(p,r,0,1,1),t=i.plus(o.times(a)),t.cmp(e)!=1;)i=a,a=t,t=c,c=h.plus(o.times(t)),h=t,t=r,r=p.minus(o.times(t)),p=t;return t=Be(e.minus(i),a,0,1,1),h=h.plus(t.times(c)),i=i.plus(t.times(a)),h.s=c.s=l.s,f=Be(c,a,n,1).minus(l).abs().cmp(Be(h,i,n,1).minus(l).abs())<1?[c,a]:[h,i],v.precision=s,ve=!0,f};W.toHexadecimal=W.toHex=function(e,r){return An(this,16,e,r)};W.toNearest=function(e,r){var i=this,a=i.constructor;if(i=new a(i),e==null){if(!i.d)return i;e=new a(1),r=a.rounding}else{if(e=new a(e),r===void 0?r=a.rounding:ir(r,0,8),!i.d)return e.s?i:e;if(!e.d)return e.s&&(e.s=i.s),e}return e.d[0]?(ve=!1,i=Be(i,e,0,r,1).times(e),ve=!0,oe(i)):(e.s=i.s,i=e),i};W.toNumber=function(){return+this};W.toOctal=function(e,r){return An(this,8,e,r)};W.toPower=W.pow=function(e){var r,i,a,t,n,u,p=this,h=p.constructor,c=+(e=new h(e));if(!p.d||!e.d||!p.d[0]||!e.d[0])return new h(We(+p,c));if(p=new h(p),p.eq(1))return p;if(a=h.precision,n=h.rounding,e.eq(1))return oe(p,a,n);if(r=Xe(e.e/ce),r>=e.d.length-1&&(i=c<0?-c:c)<=fo)return t=wa(h,p,i,a),e.s<0?new h(1).div(t):oe(t,a,n);if(u=p.s,u<0){if(r<e.d.length-1)return new h(NaN);if(e.d[r]&1||(u=1),p.e==0&&p.d[0]==1&&p.d.length==1)return p.s=u,p}return i=We(+p,c),r=i==0||!isFinite(i)?Xe(c*(Math.log("0."+Ze(p.d))/Math.LN10+p.e+1)):new h(i+"").e,r>h.maxE+1||r<h.minE-1?new h(r>0?u/0:0):(ve=!1,h.rounding=p.s=1,i=Math.min(12,(r+"").length),t=ln(e.times(br(p,a+i)),a),t.d&&(t=oe(t,a+5,1),et(t.d,a,n)&&(r=a+10,t=oe(ln(e.times(br(p,r+i)),r),r+5,1),+Ze(t.d).slice(a+1,a+15)+1==1e14&&(t=oe(t,a+1,0)))),t.s=u,ve=!0,h.rounding=n,oe(t,a,n))};W.toPrecision=function(e,r){var i,a=this,t=a.constructor;return e===void 0?i=gr(a,a.e<=t.toExpNeg||a.e>=t.toExpPos):(ir(e,1,Sr),r===void 0?r=t.rounding:ir(r,0,8),a=oe(new t(a),e,r),i=gr(a,e<=a.e||a.e<=t.toExpNeg,e)),a.isNeg()&&!a.isZero()?"-"+i:i};W.toSignificantDigits=W.toSD=function(e,r){var i=this,a=i.constructor;return e===void 0?(e=a.precision,r=a.rounding):(ir(e,1,Sr),r===void 0?r=a.rounding:ir(r,0,8)),oe(new a(i),e,r)};W.toString=function(){var e=this,r=e.constructor,i=gr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+i:i};W.truncated=W.trunc=function(){return oe(new this.constructor(this),this.e+1,1)};W.valueOf=W.toJSON=function(){var e=this,r=e.constructor,i=gr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+i:i};function Ze(e){var r,i,a,t=e.length-1,n="",u=e[0];if(t>0){for(n+=u,r=1;r<t;r++)a=e[r]+"",i=ce-a.length,i&&(n+=Nr(i)),n+=a;u=e[r],a=u+"",i=ce-a.length,i&&(n+=Nr(i))}else if(u===0)return"0";for(;u%10===0;)u/=10;return n+u}function ir(e,r,i){if(e!==~~e||e<r||e>i)throw Error(Fr+e)}function et(e,r,i,a){var t,n,u,p;for(n=e[0];n>=10;n/=10)--r;return--r<0?(r+=ce,t=0):(t=Math.ceil((r+1)/ce),r%=ce),n=We(10,ce-r),p=e[t]%n|0,a==null?r<3?(r==0?p=p/100|0:r==1&&(p=p/10|0),u=i<4&&p==99999||i>3&&p==49999||p==5e4||p==0):u=(i<4&&p+1==n||i>3&&p+1==n/2)&&(e[t+1]/n/100|0)==We(10,r-2)-1||(p==n/2||p==0)&&(e[t+1]/n/100|0)==0:r<4?(r==0?p=p/1e3|0:r==1?p=p/100|0:r==2&&(p=p/10|0),u=(a||i<4)&&p==9999||!a&&i>3&&p==4999):u=((a||i<4)&&p+1==n||!a&&i>3&&p+1==n/2)&&(e[t+1]/n/1e3|0)==We(10,r-3)-1,u}function xt(e,r,i){for(var a,t=[0],n,u=0,p=e.length;u<p;){for(n=t.length;n--;)t[n]*=r;for(t[0]+=sn.indexOf(e.charAt(u++)),a=0;a<t.length;a++)t[a]>i-1&&(t[a+1]===void 0&&(t[a+1]=0),t[a+1]+=t[a]/i|0,t[a]%=i)}return t.reverse()}function lo(e,r){var i,a,t;if(r.isZero())return r;a=r.d.length,a<32?(i=Math.ceil(a/3),t=(1/Ht(4,i)).toString()):(i=16,t="2.3283064365386962890625e-10"),e.precision+=i,r=qr(e,1,r.times(t),new e(1));for(var n=i;n--;){var u=r.times(r);r=u.times(u).minus(u).times(8).plus(1)}return e.precision-=i,r}var Be=function(){function e(a,t,n){var u,p=0,h=a.length;for(a=a.slice();h--;)u=a[h]*t+p,a[h]=u%n|0,p=u/n|0;return p&&a.unshift(p),a}function r(a,t,n,u){var p,h;if(n!=u)h=n>u?1:-1;else for(p=h=0;p<n;p++)if(a[p]!=t[p]){h=a[p]>t[p]?1:-1;break}return h}function i(a,t,n,u){for(var p=0;n--;)a[n]-=p,p=a[n]<t[n]?1:0,a[n]=p*u+a[n]-t[n];for(;!a[0]&&a.length>1;)a.shift()}return function(a,t,n,u,p,h){var c,s,o,f,l,m,v,D,g,N,E,b,w,y,M,T,O,_,R,P,U=a.constructor,z=a.s==t.s?1:-1,Q=a.d,H=t.d;if(!Q||!Q[0]||!H||!H[0])return new U(!a.s||!t.s||(Q?H&&Q[0]==H[0]:!H)?NaN:Q&&Q[0]==0||!H?z*0:z/0);for(h?(l=1,s=a.e-t.e):(h=pr,l=ce,s=Xe(a.e/l)-Xe(t.e/l)),R=H.length,O=Q.length,g=new U(z),N=g.d=[],o=0;H[o]==(Q[o]||0);o++);if(H[o]>(Q[o]||0)&&s--,n==null?(y=n=U.precision,u=U.rounding):p?y=n+(a.e-t.e)+1:y=n,y<0)N.push(1),m=!0;else{if(y=y/l+2|0,o=0,R==1){for(f=0,H=H[0],y++;(o<O||f)&&y--;o++)M=f*h+(Q[o]||0),N[o]=M/H|0,f=M%H|0;m=f||o<O}else{for(f=h/(H[0]+1)|0,f>1&&(H=e(H,f,h),Q=e(Q,f,h),R=H.length,O=Q.length),T=R,E=Q.slice(0,R),b=E.length;b<R;)E[b++]=0;P=H.slice(),P.unshift(0),_=H[0],H[1]>=h/2&&++_;do f=0,c=r(H,E,R,b),c<0?(w=E[0],R!=b&&(w=w*h+(E[1]||0)),f=w/_|0,f>1?(f>=h&&(f=h-1),v=e(H,f,h),D=v.length,b=E.length,c=r(v,E,D,b),c==1&&(f--,i(v,R<D?P:H,D,h))):(f==0&&(c=f=1),v=H.slice()),D=v.length,D<b&&v.unshift(0),i(E,v,b,h),c==-1&&(b=E.length,c=r(H,E,R,b),c<1&&(f++,i(E,R<b?P:H,b,h))),b=E.length):c===0&&(f++,E=[0]),N[o++]=f,c&&E[0]?E[b++]=Q[T]||0:(E=[Q[T]],b=1);while((T++<O||E[0]!==void 0)&&y--);m=E[0]!==void 0}N[0]||N.shift()}if(l==1)g.e=s,va=m;else{for(o=1,f=N[0];f>=10;f/=10)o++;g.e=o+s*l-1,oe(g,p?n+g.e+1:n,u,m)}return g}}();function oe(e,r,i,a){var t,n,u,p,h,c,s,o,f,l=e.constructor;e:if(r!=null){if(o=e.d,!o)return e;for(t=1,p=o[0];p>=10;p/=10)t++;if(n=r-t,n<0)n+=ce,u=r,s=o[f=0],h=s/We(10,t-u-1)%10|0;else if(f=Math.ceil((n+1)/ce),p=o.length,f>=p)if(a){for(;p++<=f;)o.push(0);s=h=0,t=1,n%=ce,u=n-ce+1}else break e;else{for(s=p=o[f],t=1;p>=10;p/=10)t++;n%=ce,u=n-ce+t,h=u<0?0:s/We(10,t-u-1)%10|0}if(a=a||r<0||o[f+1]!==void 0||(u<0?s:s%We(10,t-u-1)),c=i<4?(h||a)&&(i==0||i==(e.s<0?3:2)):h>5||h==5&&(i==4||a||i==6&&(n>0?u>0?s/We(10,t-u):0:o[f-1])%10&1||i==(e.s<0?8:7)),r<1||!o[0])return o.length=0,c?(r-=e.e+1,o[0]=We(10,(ce-r%ce)%ce),e.e=-r||0):o[0]=e.e=0,e;if(n==0?(o.length=f,p=1,f--):(o.length=f+1,p=We(10,ce-n),o[f]=u>0?(s/We(10,t-u)%We(10,u)|0)*p:0),c)for(;;)if(f==0){for(n=1,u=o[0];u>=10;u/=10)n++;for(u=o[0]+=p,p=1;u>=10;u/=10)p++;n!=p&&(e.e++,o[0]==pr&&(o[0]=1));break}else{if(o[f]+=p,o[f]!=pr)break;o[f--]=0,p=1}for(n=o.length;o[--n]===0;)o.pop()}return ve&&(e.e>l.maxE?(e.d=null,e.e=NaN):e.e<l.minE&&(e.e=0,e.d=[0])),e}function gr(e,r,i){if(!e.isFinite())return Na(e);var a,t=e.e,n=Ze(e.d),u=n.length;return r?(i&&(a=i-u)>0?n=n.charAt(0)+"."+n.slice(1)+Nr(a):u>1&&(n=n.charAt(0)+"."+n.slice(1)),n=n+(e.e<0?"e":"e+")+e.e):t<0?(n="0."+Nr(-t-1)+n,i&&(a=i-u)>0&&(n+=Nr(a))):t>=u?(n+=Nr(t+1-u),i&&(a=i-t-1)>0&&(n=n+"."+Nr(a))):((a=t+1)<u&&(n=n.slice(0,a)+"."+n.slice(a)),i&&(a=i-u)>0&&(t+1===u&&(n+="."),n+=Nr(a))),n}function qt(e,r){var i=e[0];for(r*=ce;i>=10;i/=10)r++;return r}function It(e,r,i){if(r>co)throw ve=!0,i&&(e.precision=i),Error(ma);return oe(new e(Bt),r,1,!0)}function hr(e,r,i){if(r>cn)throw Error(ma);return oe(new e(_t),r,i,!0)}function Ea(e){var r=e.length-1,i=r*ce+1;if(r=e[r],r){for(;r%10==0;r/=10)i--;for(r=e[0];r>=10;r/=10)i++}return i}function Nr(e){for(var r="";e--;)r+="0";return r}function wa(e,r,i,a){var t,n=new e(1),u=Math.ceil(a/ce+4);for(ve=!1;;){if(i%2&&(n=n.times(r),Xn(n.d,u)&&(t=!0)),i=Xe(i/2),i===0){i=n.d.length-1,t&&n.d[i]===0&&++n.d[i];break}r=r.times(r),Xn(r.d,u)}return ve=!0,n}function Jn(e){return e.d[e.d.length-1]&1}function ya(e,r,i){for(var a,t=new e(r[0]),n=0;++n<r.length;)if(a=new e(r[n]),a.s)t[i](a)&&(t=a);else{t=a;break}return t}function ln(e,r){var i,a,t,n,u,p,h,c=0,s=0,o=0,f=e.constructor,l=f.rounding,m=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(ve=!1,h=m):h=r,p=new f(.03125);e.e>-2;)e=e.times(p),o+=5;for(a=Math.log(We(2,o))/Math.LN10*2+5|0,h+=a,i=n=u=new f(1),f.precision=h;;){if(n=oe(n.times(e),h,1),i=i.times(++s),p=u.plus(Be(n,i,h,1)),Ze(p.d).slice(0,h)===Ze(u.d).slice(0,h)){for(t=o;t--;)u=oe(u.times(u),h,1);if(r==null)if(c<3&&et(u.d,h-a,l,c))f.precision=h+=10,i=n=p=new f(1),s=0,c++;else return oe(u,f.precision=m,l,ve=!0);else return f.precision=m,u}u=p}}function br(e,r){var i,a,t,n,u,p,h,c,s,o,f,l=1,m=10,v=e,D=v.d,g=v.constructor,N=g.rounding,E=g.precision;if(v.s<0||!D||!D[0]||!v.e&&D[0]==1&&D.length==1)return new g(D&&!D[0]?-1/0:v.s!=1?NaN:D?0:v);if(r==null?(ve=!1,s=E):s=r,g.precision=s+=m,i=Ze(D),a=i.charAt(0),Math.abs(n=v.e)<15e14){for(;a<7&&a!=1||a==1&&i.charAt(1)>3;)v=v.times(e),i=Ze(v.d),a=i.charAt(0),l++;n=v.e,a>1?(v=new g("0."+i),n++):v=new g(a+"."+i.slice(1))}else return c=It(g,s+2,E).times(n+""),v=br(new g(a+"."+i.slice(1)),s-m).plus(c),g.precision=E,r==null?oe(v,E,N,ve=!0):v;for(o=v,h=u=v=Be(v.minus(1),v.plus(1),s,1),f=oe(v.times(v),s,1),t=3;;){if(u=oe(u.times(f),s,1),c=h.plus(Be(u,new g(t),s,1)),Ze(c.d).slice(0,s)===Ze(h.d).slice(0,s))if(h=h.times(2),n!==0&&(h=h.plus(It(g,s+2,E).times(n+""))),h=Be(h,new g(l),s,1),r==null)if(et(h.d,s-m,N,p))g.precision=s+=m,c=u=v=Be(o.minus(1),o.plus(1),s,1),f=oe(v.times(v),s,1),t=p=1;else return oe(h,g.precision=E,N,ve=!0);else return g.precision=E,h;h=c,t+=2}}function Na(e){return String(e.s*e.s/0)}function hn(e,r){var i,a,t;for((i=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(i<0&&(i=a),i+=+r.slice(a+1),r=r.substring(0,a)):i<0&&(i=r.length),a=0;r.charCodeAt(a)===48;a++);for(t=r.length;r.charCodeAt(t-1)===48;--t);if(r=r.slice(a,t),r){if(t-=a,e.e=i=i-a-1,e.d=[],a=(i+1)%ce,i<0&&(a+=ce),a<t){for(a&&e.d.push(+r.slice(0,a)),t-=ce;a<t;)e.d.push(+r.slice(a,a+=ce));r=r.slice(a),a=ce-r.length}else a-=t;for(;a--;)r+="0";e.d.push(+r),ve&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function ho(e,r){var i,a,t,n,u,p,h,c,s;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),Da.test(r))return hn(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(oo.test(r))i=16,r=r.toLowerCase();else if(uo.test(r))i=2;else if(so.test(r))i=8;else throw Error(Fr+r);for(n=r.search(/p/i),n>0?(h=+r.slice(n+1),r=r.substring(2,n)):r=r.slice(2),n=r.indexOf("."),u=n>=0,a=e.constructor,u&&(r=r.replace(".",""),p=r.length,n=p-n,t=wa(a,new a(i),n,n*2)),c=xt(r,i,pr),s=c.length-1,n=s;c[n]===0;--n)c.pop();return n<0?new a(e.s*0):(e.e=qt(c,s),e.d=c,ve=!1,u&&(e=Be(e,t,p*4)),h&&(e=e.times(Math.abs(h)<54?We(2,h):xr.pow(2,h))),ve=!0,e)}function po(e,r){var i,a=r.d.length;if(a<3)return r.isZero()?r:qr(e,2,r,r);i=1.4*Math.sqrt(a),i=i>16?16:i|0,r=r.times(1/Ht(5,i)),r=qr(e,2,r,r);for(var t,n=new e(5),u=new e(16),p=new e(20);i--;)t=r.times(r),r=r.times(n.plus(t.times(u.times(t).minus(p))));return r}function qr(e,r,i,a,t){var n,u,p,h,c=e.precision,s=Math.ceil(c/ce);for(ve=!1,h=i.times(i),p=new e(a);;){if(u=Be(p.times(h),new e(r++*r++),c,1),p=t?a.plus(u):a.minus(u),a=Be(u.times(h),new e(r++*r++),c,1),u=p.plus(a),u.d[s]!==void 0){for(n=s;u.d[n]===p.d[n]&&n--;);if(n==-1)break}n=p,p=a,a=u,u=n}return ve=!0,u.d.length=s+1,u}function Ht(e,r){for(var i=e;--r;)i*=e;return i}function ba(e,r){var i,a=r.s<0,t=hr(e,e.precision,1),n=t.times(.5);if(r=r.abs(),r.lte(n))return Er=a?4:1,r;if(i=r.divToInt(t),i.isZero())Er=a?3:2;else{if(r=r.minus(i.times(t)),r.lte(n))return Er=Jn(i)?a?2:3:a?4:1,r;Er=Jn(i)?a?1:4:a?3:2}return r.minus(t).abs()}function An(e,r,i,a){var t,n,u,p,h,c,s,o,f,l=e.constructor,m=i!==void 0;if(m?(ir(i,1,Sr),a===void 0?a=l.rounding:ir(a,0,8)):(i=l.precision,a=l.rounding),!e.isFinite())s=Na(e);else{for(s=gr(e),u=s.indexOf("."),m?(t=2,r==16?i=i*4-3:r==8&&(i=i*3-2)):t=r,u>=0&&(s=s.replace(".",""),f=new l(1),f.e=s.length-u,f.d=xt(gr(f),10,t),f.e=f.d.length),o=xt(s,10,t),n=h=o.length;o[--h]==0;)o.pop();if(!o[0])s=m?"0p+0":"0";else{if(u<0?n--:(e=new l(e),e.d=o,e.e=n,e=Be(e,f,i,a,0,t),o=e.d,n=e.e,c=va),u=o[i],p=t/2,c=c||o[i+1]!==void 0,c=a<4?(u!==void 0||c)&&(a===0||a===(e.s<0?3:2)):u>p||u===p&&(a===4||c||a===6&&o[i-1]&1||a===(e.s<0?8:7)),o.length=i,c)for(;++o[--i]>t-1;)o[i]=0,i||(++n,o.unshift(1));for(h=o.length;!o[h-1];--h);for(u=0,s="";u<h;u++)s+=sn.charAt(o[u]);if(m){if(h>1)if(r==16||r==8){for(u=r==16?4:3,--h;h%u;h++)s+="0";for(o=xt(s,t,r),h=o.length;!o[h-1];--h);for(u=1,s="1.";u<h;u++)s+=sn.charAt(o[u])}else s=s.charAt(0)+"."+s.slice(1);s=s+(n<0?"p":"p+")+n}else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(++n>h)for(n-=h;n--;)s+="0";else n<h&&(s=s.slice(0,n)+"."+s.slice(n))}s=(r==16?"0x":r==2?"0b":r==8?"0o":"")+s}return e.s<0?"-"+s:s}function Xn(e,r){if(e.length>r)return e.length=r,!0}function vo(e){return new this(e).abs()}function mo(e){return new this(e).acos()}function go(e){return new this(e).acosh()}function Do(e,r){return new this(e).plus(r)}function Eo(e){return new this(e).asin()}function wo(e){return new this(e).asinh()}function yo(e){return new this(e).atan()}function No(e){return new this(e).atanh()}function bo(e,r){e=new this(e),r=new this(r);var i,a=this.precision,t=this.rounding,n=a+4;return!e.s||!r.s?i=new this(NaN):!e.d&&!r.d?(i=hr(this,n,1).times(r.s>0?.25:.75),i.s=e.s):!r.d||e.isZero()?(i=r.s<0?hr(this,a,t):new this(0),i.s=e.s):!e.d||r.isZero()?(i=hr(this,n,1).times(.5),i.s=e.s):r.s<0?(this.precision=n,this.rounding=1,i=this.atan(Be(e,r,n,1)),r=hr(this,n,1),this.precision=a,this.rounding=t,i=e.s<0?i.minus(r):i.plus(r)):i=this.atan(Be(e,r,n,1)),i}function Ao(e){return new this(e).cbrt()}function Co(e){return oe(e=new this(e),e.e+1,2)}function Fo(e,r,i){return new this(e).clamp(r,i)}function xo(e){if(!e||typeof e!="object")throw Error(kt+"Object expected");var r,i,a,t=e.defaults===!0,n=["precision",1,Sr,"rounding",0,8,"toExpNeg",-$r,0,"toExpPos",0,$r,"maxE",0,$r,"minE",-$r,0,"modulo",0,9];for(r=0;r<n.length;r+=3)if(i=n[r],t&&(this[i]=fn[i]),(a=e[i])!==void 0)if(Xe(a)===a&&a>=n[r+1]&&a<=n[r+2])this[i]=a;else throw Error(Fr+i+": "+a);if(i="crypto",t&&(this[i]=fn[i]),(a=e[i])!==void 0)if(a===!0||a===!1||a===0||a===1)if(a)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(da);else this[i]=!1;else throw Error(Fr+i+": "+a);return this}function So(e){return new this(e).cos()}function Mo(e){return new this(e).cosh()}function Aa(e){var r,i,a;function t(n){var u,p,h,c=this;if(!(c instanceof t))return new t(n);if(c.constructor=t,Kn(n)){c.s=n.s,ve?!n.d||n.e>t.maxE?(c.e=NaN,c.d=null):n.e<t.minE?(c.e=0,c.d=[0]):(c.e=n.e,c.d=n.d.slice()):(c.e=n.e,c.d=n.d?n.d.slice():n.d);return}if(h=typeof n,h==="number"){if(n===0){c.s=1/n<0?-1:1,c.e=0,c.d=[0];return}if(n<0?(n=-n,c.s=-1):c.s=1,n===~~n&&n<1e7){for(u=0,p=n;p>=10;p/=10)u++;ve?u>t.maxE?(c.e=NaN,c.d=null):u<t.minE?(c.e=0,c.d=[0]):(c.e=u,c.d=[n]):(c.e=u,c.d=[n]);return}else if(n*0!==0){n||(c.s=NaN),c.e=NaN,c.d=null;return}return hn(c,n.toString())}else if(h!=="string")throw Error(Fr+n);return(p=n.charCodeAt(0))===45?(n=n.slice(1),c.s=-1):(p===43&&(n=n.slice(1)),c.s=1),Da.test(n)?hn(c,n):ho(c,n)}if(t.prototype=W,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=xo,t.clone=Aa,t.isDecimal=Kn,t.abs=vo,t.acos=mo,t.acosh=go,t.add=Do,t.asin=Eo,t.asinh=wo,t.atan=yo,t.atanh=No,t.atan2=bo,t.cbrt=Ao,t.ceil=Co,t.clamp=Fo,t.cos=So,t.cosh=Mo,t.div=To,t.exp=Oo,t.floor=Bo,t.hypot=_o,t.ln=Io,t.log=Ro,t.log10=Lo,t.log2=Po,t.max=$o,t.min=Uo,t.mod=zo,t.mul=ko,t.pow=qo,t.random=Ho,t.round=Go,t.sign=jo,t.sin=Vo,t.sinh=Wo,t.sqrt=Yo,t.sub=Zo,t.sum=Jo,t.tan=Xo,t.tanh=Ko,t.trunc=Qo,e===void 0&&(e={}),e&&e.defaults!==!0)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<a.length;)e.hasOwnProperty(i=a[r++])||(e[i]=this[i]);return t.config(e),t}function To(e,r){return new this(e).div(r)}function Oo(e){return new this(e).exp()}function Bo(e){return oe(e=new this(e),e.e+1,3)}function _o(){var e,r,i=new this(0);for(ve=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)i.d&&(i=i.plus(r.times(r)));else{if(r.s)return ve=!0,new this(1/0);i=r}return ve=!0,i.sqrt()}function Kn(e){return e instanceof xr||e&&e.toStringTag===ga||!1}function Io(e){return new this(e).ln()}function Ro(e,r){return new this(e).log(r)}function Po(e){return new this(e).log(2)}function Lo(e){return new this(e).log(10)}function $o(){return ya(this,arguments,"lt")}function Uo(){return ya(this,arguments,"gt")}function zo(e,r){return new this(e).mod(r)}function ko(e,r){return new this(e).mul(r)}function qo(e,r){return new this(e).pow(r)}function Ho(e){var r,i,a,t,n=0,u=new this(1),p=[];if(e===void 0?e=this.precision:ir(e,1,Sr),a=Math.ceil(e/ce),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(a));n<a;)t=r[n],t>=429e7?r[n]=crypto.getRandomValues(new Uint32Array(1))[0]:p[n++]=t%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(a*=4);n<a;)t=r[n]+(r[n+1]<<8)+(r[n+2]<<16)+((r[n+3]&127)<<24),t>=214e7?crypto.randomBytes(4).copy(r,n):(p.push(t%1e7),n+=4);n=a/4}else throw Error(da);else for(;n<a;)p[n++]=Math.random()*1e7|0;for(a=p[--n],e%=ce,a&&e&&(t=We(10,ce-e),p[n]=(a/t|0)*t);p[n]===0;n--)p.pop();if(n<0)i=0,p=[0];else{for(i=-1;p[0]===0;i-=ce)p.shift();for(a=1,t=p[0];t>=10;t/=10)a++;a<ce&&(i-=ce-a)}return u.e=i,u.d=p,u}function Go(e){return oe(e=new this(e),e.e+1,this.rounding)}function jo(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Vo(e){return new this(e).sin()}function Wo(e){return new this(e).sinh()}function Yo(e){return new this(e).sqrt()}function Zo(e,r){return new this(e).sub(r)}function Jo(){var e=0,r=arguments,i=new this(r[e]);for(ve=!1;i.s&&++e<r.length;)i=i.plus(r[e]);return ve=!0,oe(i,this.precision,this.rounding)}function Xo(e){return new this(e).tan()}function Ko(e){return new this(e).tanh()}function Qo(e){return oe(e=new this(e),e.e+1,1)}W[Symbol.for("nodejs.util.inspect.custom")]=W.toString;W[Symbol.toStringTag]="Decimal";var xr=W.constructor=Aa(fn);Bt=new xr(Bt);_t=new xr(_t);var es="BigNumber",rs=["?on","config"],ts=te(es,rs,e=>{var{on:r,config:i}=e,a=xr.clone({precision:i.precision,modulo:xr.EUCLID});return a.prototype=Object.create(a.prototype),a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(t){return new a(t.value)},r&&r("config",function(t,n){t.precision!==n.precision&&a.config({precision:t.precision})}),a},{isClass:!0}),Ca={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,r){(function(i){var a=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},t=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},n=function(o){var f=Math.PI/4;if(-f>o||o>f)return Math.cos(o)-1;var l=o*o;return l*(l*(l*(l*(l*(l*(l*(l/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},u=function(o,f){var l=Math.abs(o),m=Math.abs(f);return l<3e3&&m<3e3?Math.sqrt(l*l+m*m):(l<m?(l=m,m=o/f):m=f/o,l*Math.sqrt(1+m*m))},p=function(){throw SyntaxError("Invalid Param")};function h(o,f){var l=Math.abs(o),m=Math.abs(f);return o===0?Math.log(m):f===0?Math.log(l):l<3e3&&m<3e3?Math.log(o*o+f*f)*.5:(o=o/2,f=f/2,.5*Math.log(o*o+f*f)+Math.LN2)}var c=function(o,f){var l={re:0,im:0};if(o==null)l.re=l.im=0;else if(f!==void 0)l.re=o,l.im=f;else switch(typeof o){case"object":if("im"in o&&"re"in o)l.re=o.re,l.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return s.INFINITY;l.re=o.abs*Math.cos(o.arg),l.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return s.INFINITY;l.re=o.r*Math.cos(o.phi),l.im=o.r*Math.sin(o.phi)}else o.length===2?(l.re=o[0],l.im=o[1]):p();break;case"string":l.im=l.re=0;var m=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),v=1,D=0;m===null&&p();for(var g=0;g<m.length;g++){var N=m[g];N===" "||N==="	"||N===`
`||(N==="+"?v++:N==="-"?D++:N==="i"||N==="I"?(v+D===0&&p(),m[g+1]!==" "&&!isNaN(m[g+1])?(l.im+=parseFloat((D%2?"-":"")+m[g+1]),g++):l.im+=parseFloat((D%2?"-":"")+"1"),v=D=0):((v+D===0||isNaN(N))&&p(),m[g+1]==="i"||m[g+1]==="I"?(l.im+=parseFloat((D%2?"-":"")+N),g++):l.re+=parseFloat((D%2?"-":"")+N),v=D=0))}v+D>0&&p();break;case"number":l.im=0,l.re=o;break;default:p()}return isNaN(l.re)||isNaN(l.im),l};function s(o,f){if(!(this instanceof s))return new s(o,f);var l=c(o,f);this.re=l.re,this.im=l.im}s.prototype={re:0,im:0,sign:function(){var o=this.abs();return new s(this.re/o,this.im/o)},add:function(o,f){var l=new s(o,f);return this.isInfinite()&&l.isInfinite()?s.NAN:this.isInfinite()||l.isInfinite()?s.INFINITY:new s(this.re+l.re,this.im+l.im)},sub:function(o,f){var l=new s(o,f);return this.isInfinite()&&l.isInfinite()?s.NAN:this.isInfinite()||l.isInfinite()?s.INFINITY:new s(this.re-l.re,this.im-l.im)},mul:function(o,f){var l=new s(o,f);return this.isInfinite()&&l.isZero()||this.isZero()&&l.isInfinite()?s.NAN:this.isInfinite()||l.isInfinite()?s.INFINITY:l.im===0&&this.im===0?new s(this.re*l.re,0):new s(this.re*l.re-this.im*l.im,this.re*l.im+this.im*l.re)},div:function(o,f){var l=new s(o,f);if(this.isZero()&&l.isZero()||this.isInfinite()&&l.isInfinite())return s.NAN;if(this.isInfinite()||l.isZero())return s.INFINITY;if(this.isZero()||l.isInfinite())return s.ZERO;o=this.re,f=this.im;var m=l.re,v=l.im,D,g;return v===0?new s(o/m,f/m):Math.abs(m)<Math.abs(v)?(g=m/v,D=m*g+v,new s((o*g+f)/D,(f*g-o)/D)):(g=v/m,D=v*g+m,new s((o+f*g)/D,(f-o*g)/D))},pow:function(o,f){var l=new s(o,f);if(o=this.re,f=this.im,l.isZero())return s.ONE;if(l.im===0){if(f===0&&o>0)return new s(Math.pow(o,l.re),0);if(o===0)switch((l.re%4+4)%4){case 0:return new s(Math.pow(f,l.re),0);case 1:return new s(0,Math.pow(f,l.re));case 2:return new s(-Math.pow(f,l.re),0);case 3:return new s(0,-Math.pow(f,l.re))}}if(o===0&&f===0&&l.re>0&&l.im>=0)return s.ZERO;var m=Math.atan2(f,o),v=h(o,f);return o=Math.exp(l.re*v-l.im*m),f=l.im*v+l.re*m,new s(o*Math.cos(f),o*Math.sin(f))},sqrt:function(){var o=this.re,f=this.im,l=this.abs(),m,v;if(o>=0){if(f===0)return new s(Math.sqrt(o),0);m=.5*Math.sqrt(2*(l+o))}else m=Math.abs(f)/Math.sqrt(2*(l-o));return o<=0?v=.5*Math.sqrt(2*(l-o)):v=Math.abs(f)/Math.sqrt(2*(l+o)),new s(m,f<0?-v:v)},exp:function(){var o=Math.exp(this.re);return this.im,new s(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,f=this.im;return new s(Math.expm1(o)*Math.cos(f)+n(f),Math.exp(o)*Math.sin(f))},log:function(){var o=this.re,f=this.im;return new s(h(o,f),Math.atan2(f,o))},abs:function(){return u(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,f=this.im;return new s(Math.sin(o)*a(f),Math.cos(o)*t(f))},cos:function(){var o=this.re,f=this.im;return new s(Math.cos(o)*a(f),-Math.sin(o)*t(f))},tan:function(){var o=2*this.re,f=2*this.im,l=Math.cos(o)+a(f);return new s(Math.sin(o)/l,t(f)/l)},cot:function(){var o=2*this.re,f=2*this.im,l=Math.cos(o)-a(f);return new s(-Math.sin(o)/l,t(f)/l)},sec:function(){var o=this.re,f=this.im,l=.5*a(2*f)+.5*Math.cos(2*o);return new s(Math.cos(o)*a(f)/l,Math.sin(o)*t(f)/l)},csc:function(){var o=this.re,f=this.im,l=.5*a(2*f)-.5*Math.cos(2*o);return new s(Math.sin(o)*a(f)/l,-Math.cos(o)*t(f)/l)},asin:function(){var o=this.re,f=this.im,l=new s(f*f-o*o+1,-2*o*f).sqrt(),m=new s(l.re-f,l.im+o).log();return new s(m.im,-m.re)},acos:function(){var o=this.re,f=this.im,l=new s(f*f-o*o+1,-2*o*f).sqrt(),m=new s(l.re-f,l.im+o).log();return new s(Math.PI/2-m.im,m.re)},atan:function(){var o=this.re,f=this.im;if(o===0){if(f===1)return new s(0,1/0);if(f===-1)return new s(0,-1/0)}var l=o*o+(1-f)*(1-f),m=new s((1-f*f-o*o)/l,-2*o/l).log();return new s(-.5*m.im,.5*m.re)},acot:function(){var o=this.re,f=this.im;if(f===0)return new s(Math.atan2(1,o),0);var l=o*o+f*f;return l!==0?new s(o/l,-f/l).atan():new s(o!==0?o/0:0,f!==0?-f/0:0).atan()},asec:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new s(0,1/0);var l=o*o+f*f;return l!==0?new s(o/l,-f/l).acos():new s(o!==0?o/0:0,f!==0?-f/0:0).acos()},acsc:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new s(Math.PI/2,1/0);var l=o*o+f*f;return l!==0?new s(o/l,-f/l).asin():new s(o!==0?o/0:0,f!==0?-f/0:0).asin()},sinh:function(){var o=this.re,f=this.im;return new s(t(o)*Math.cos(f),a(o)*Math.sin(f))},cosh:function(){var o=this.re,f=this.im;return new s(a(o)*Math.cos(f),t(o)*Math.sin(f))},tanh:function(){var o=2*this.re,f=2*this.im,l=a(o)+Math.cos(f);return new s(t(o)/l,Math.sin(f)/l)},coth:function(){var o=2*this.re,f=2*this.im,l=a(o)-Math.cos(f);return new s(t(o)/l,-Math.sin(f)/l)},csch:function(){var o=this.re,f=this.im,l=Math.cos(2*f)-a(2*o);return new s(-2*t(o)*Math.cos(f)/l,2*a(o)*Math.sin(f)/l)},sech:function(){var o=this.re,f=this.im,l=Math.cos(2*f)+a(2*o);return new s(2*a(o)*Math.cos(f)/l,-2*t(o)*Math.sin(f)/l)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var f=this.asin();return this.re=-this.im,this.im=o,o=f.re,f.re=-f.im,f.im=o,f},acosh:function(){var o=this.acos();if(o.im<=0){var f=o.re;o.re=-o.im,o.im=f}else{var f=o.im;o.im=-o.re,o.re=f}return o},atanh:function(){var o=this.re,f=this.im,l=o>1&&f===0,m=1-o,v=1+o,D=m*m+f*f,g=D!==0?new s((v*m-f*f)/D,(f*m+v*f)/D):new s(o!==-1?o/0:0,f!==0?f/0:0),N=g.re;return g.re=h(g.re,g.im)/2,g.im=Math.atan2(g.im,N)/2,l&&(g.im=-g.im),g},acoth:function(){var o=this.re,f=this.im;if(o===0&&f===0)return new s(0,Math.PI/2);var l=o*o+f*f;return l!==0?new s(o/l,-f/l).atanh():new s(o!==0?o/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var o=this.re,f=this.im;if(f===0)return new s(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var l=o*o+f*f;return l!==0?new s(o/l,-f/l).asinh():new s(o!==0?o/0:0,f!==0?-f/0:0).asinh()},asech:function(){var o=this.re,f=this.im;if(this.isZero())return s.INFINITY;var l=o*o+f*f;return l!==0?new s(o/l,-f/l).acosh():new s(o!==0?o/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var o=this.re,f=this.im,l=o*o+f*f;return new s(o/l,-f/l)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new s(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new s(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new s(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,f){var l=new s(o,f);return Math.abs(l.re-this.re)<=s.EPSILON&&Math.abs(l.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var o=this.re,f=this.im,l="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<s.EPSILON&&(o=0),Math.abs(f)<s.EPSILON&&(f=0),f===0?l+o:(o!==0?(l+=o,l+=" ",f<0?(f=-f,l+="-"):l+="+",l+=" "):f<0&&(f=-f,l+="-"),f!==1&&(l+=f),l+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,e.exports=s})()})(Ca);var ns=Ca.exports;const Ye=Lt(ns);var is="Complex",as=[],us=te(is,as,()=>(Object.defineProperty(Ye,"name",{value:"Complex"}),Ye.prototype.constructor=Ye,Ye.prototype.type="Complex",Ye.prototype.isComplex=!0,Ye.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ye.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ye.prototype.format=function(e){var r="",i=this.im,a=this.re,t=an(this.re,e),n=an(this.im,e),u=Oe(e)?e:e?e.precision:null;if(u!==null){var p=Math.pow(10,-u);Math.abs(a/i)<p&&(a=0),Math.abs(i/a)<p&&(i=0)}return i===0?r=t:a===0?i===1?r="i":i===-1?r="-i":r=n+"i":i<0?i===-1?r=t+" - i":r=t+" - "+n.substring(1)+"i":i===1?r=t+" + i":r=t+" + "+n+"i",r},Ye.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return Ye(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var i=arguments[0],a=arguments[1];if(Oe(i)){if(lr(a)&&a.hasBase("ANGLE")&&(a=a.toNumber("rad")),Oe(a))return new Ye({r:i,phi:a});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ye.prototype.valueOf=Ye.prototype.toString,Ye.fromJSON=function(e){return new Ye(e)},Ye.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},Ye),{isClass:!0}),Fa={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,r){(function(i){var a=2e3,t={s:1,n:0,d:1};function n(g,N){if(isNaN(g=parseInt(g,10)))throw v();return g*N}function u(g,N){if(N===0)throw m();var E=Object.create(l.prototype);E.s=g<0?-1:1,g=g<0?-g:g;var b=f(g,N);return E.n=g/b,E.d=N/b,E}function p(g){for(var N={},E=g,b=2,w=4;w<=E;){for(;E%b===0;)E/=b,N[b]=(N[b]||0)+1;w+=1+2*b++}return E!==g?E>1&&(N[E]=(N[E]||0)+1):N[g]=(N[g]||0)+1,N}var h=function(g,N){var E=0,b=1,w=1,y=0,M=0,T=0,O=1,_=1,R=0,P=1,U=1,z=1,Q=1e7,H;if(g!=null)if(N!==void 0){if(E=g,b=N,w=E*b,E%1!==0||b%1!==0)throw D()}else switch(typeof g){case"object":{if("d"in g&&"n"in g)E=g.n,b=g.d,"s"in g&&(E*=g.s);else if(0 in g)E=g[0],1 in g&&(b=g[1]);else throw v();w=E*b;break}case"number":{if(g<0&&(w=g,g=-g),g%1===0)E=g;else if(g>0){for(g>=1&&(_=Math.pow(10,Math.floor(1+Math.log(g)/Math.LN10)),g/=_);P<=Q&&z<=Q;)if(H=(R+U)/(P+z),g===H){P+z<=Q?(E=R+U,b=P+z):z>P?(E=U,b=z):(E=R,b=P);break}else g>H?(R+=U,P+=z):(U+=R,z+=P),P>Q?(E=U,b=z):(E=R,b=P);E*=_}else(isNaN(g)||isNaN(N))&&(b=E=NaN);break}case"string":{if(P=g.match(/\d+|./g),P===null)throw v();if(P[R]==="-"?(w=-1,R++):P[R]==="+"&&R++,P.length===R+1?M=n(P[R++],w):P[R+1]==="."||P[R]==="."?(P[R]!=="."&&(y=n(P[R++],w)),R++,(R+1===P.length||P[R+1]==="("&&P[R+3]===")"||P[R+1]==="'"&&P[R+3]==="'")&&(M=n(P[R],w),O=Math.pow(10,P[R].length),R++),(P[R]==="("&&P[R+2]===")"||P[R]==="'"&&P[R+2]==="'")&&(T=n(P[R+1],w),_=Math.pow(10,P[R+1].length)-1,R+=3)):P[R+1]==="/"||P[R+1]===":"?(M=n(P[R],w),O=n(P[R+2],1),R+=3):P[R+3]==="/"&&P[R+1]===" "&&(y=n(P[R],w),M=n(P[R+2],w),O=n(P[R+4],1),R+=5),P.length<=R){b=O*_,w=E=T+b*y+_*M;break}}default:throw v()}if(b===0)throw m();t.s=w<0?-1:1,t.n=Math.abs(E),t.d=Math.abs(b)};function c(g,N,E){for(var b=1;N>0;g=g*g%E,N>>=1)N&1&&(b=b*g%E);return b}function s(g,N){for(;N%2===0;N/=2);for(;N%5===0;N/=5);if(N===1)return 0;for(var E=10%N,b=1;E!==1;b++)if(E=E*10%N,b>a)return 0;return b}function o(g,N,E){for(var b=1,w=c(10,E,N),y=0;y<300;y++){if(b===w)return y;b=b*10%N,w=w*10%N}return 0}function f(g,N){if(!g)return N;if(!N)return g;for(;;){if(g%=N,!g)return N;if(N%=g,!N)return g}}function l(g,N){if(h(g,N),this instanceof l)g=f(t.d,t.n),this.s=t.s,this.n=t.n/g,this.d=t.d/g;else return u(t.s*t.n,t.d)}var m=function(){return new Error("Division by Zero")},v=function(){return new Error("Invalid argument")},D=function(){return new Error("Parameters must be integer")};l.prototype={s:1,n:0,d:1,abs:function(){return u(this.n,this.d)},neg:function(){return u(-this.s*this.n,this.d)},add:function(g,N){return h(g,N),u(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(g,N){return h(g,N),u(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(g,N){return h(g,N),u(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(g,N){return h(g,N),u(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return u(this.s*this.n,this.d)},mod:function(g,N){if(isNaN(this.n)||isNaN(this.d))return new l(NaN);if(g===void 0)return u(this.s*this.n%this.d,1);if(h(g,N),t.n===0&&this.d===0)throw m();return u(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(g,N){return h(g,N),u(f(t.n,this.n)*f(t.d,this.d),t.d*this.d)},lcm:function(g,N){return h(g,N),t.n===0&&this.n===0?u(0,1):u(t.n*this.n,f(t.n,this.n)*f(t.d,this.d))},ceil:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):u(Math.ceil(g*this.s*this.n/this.d),g)},floor:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):u(Math.floor(g*this.s*this.n/this.d),g)},round:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):u(Math.round(g*this.s*this.n/this.d),g)},inverse:function(){return u(this.s*this.d,this.n)},pow:function(g,N){if(h(g,N),t.d===1)return t.s<0?u(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):u(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var E=p(this.n),b=p(this.d),w=1,y=1;for(var M in E)if(M!=="1"){if(M==="0"){w=0;break}if(E[M]*=t.n,E[M]%t.d===0)E[M]/=t.d;else return null;w*=Math.pow(M,E[M])}for(var M in b)if(M!=="1"){if(b[M]*=t.n,b[M]%t.d===0)b[M]/=t.d;else return null;y*=Math.pow(M,b[M])}return t.s<0?u(y,w):u(w,y)},equals:function(g,N){return h(g,N),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(g,N){h(g,N);var E=this.s*this.n*t.d-t.s*t.n*this.d;return(0<E)-(E<0)},simplify:function(g){if(isNaN(this.n)||isNaN(this.d))return this;g=g||.001;for(var N=this.abs(),E=N.toContinued(),b=1;b<E.length;b++){for(var w=u(E[b-1],1),y=b-2;y>=0;y--)w=w.inverse().add(E[y]);if(Math.abs(w.sub(N).valueOf())<g)return w.mul(this.s)}return this},divisible:function(g,N){return h(g,N),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(g){var N,E="",b=this.n,w=this.d;return this.s<0&&(E+="-"),w===1?E+=b:(g&&(N=Math.floor(b/w))>0&&(E+=N,E+=" ",b%=w),E+=b,E+="/",E+=w),E},toLatex:function(g){var N,E="",b=this.n,w=this.d;return this.s<0&&(E+="-"),w===1?E+=b:(g&&(N=Math.floor(b/w))>0&&(E+=N,b%=w),E+="\\frac{",E+=b,E+="}{",E+=w,E+="}"),E},toContinued:function(){var g,N=this.n,E=this.d,b=[];if(isNaN(N)||isNaN(E))return b;do b.push(Math.floor(N/E)),g=N%E,N=E,E=g;while(N!==1);return b},toString:function(g){var N=this.n,E=this.d;if(isNaN(N)||isNaN(E))return"NaN";g=g||15;var b=s(N,E),w=o(N,E,b),y=this.s<0?"-":"";if(y+=N/E|0,N%=E,N*=10,N&&(y+="."),b){for(var M=w;M--;)y+=N/E|0,N%=E,N*=10;y+="(";for(var M=b;M--;)y+=N/E|0,N%=E,N*=10;y+=")"}else for(var M=g;N&&M--;)y+=N/E|0,N%=E,N*=10;return y}},Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Fraction=l,e.exports=l})()})(Fa);var os=Fa.exports;const Dr=Lt(os);var ss="Fraction",fs=[],cs=te(ss,fs,()=>(Object.defineProperty(Dr,"name",{value:"Fraction"}),Dr.prototype.constructor=Dr,Dr.prototype.type="Fraction",Dr.prototype.isFraction=!0,Dr.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Dr.fromJSON=function(e){return new Dr(e)},Dr),{isClass:!0}),ls="Matrix",hs=[],ps=te(ls,hs,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,i){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,i,a){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,i,a){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,i){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,i){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,i){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function vs(e){var r=0,i=1,a=Object.create(null),t=Object.create(null),n=0,u=function(h){var c=t[h];if(c&&(delete a[c],delete t[h],--r,i===c)){if(!r){n=0,i=1;return}for(;!Object.prototype.hasOwnProperty.call(a,++i););}};return e=Math.abs(e),{hit:function(h){var c=t[h],s=++n;if(a[s]=h,t[h]=s,!c)return++r,r<=e?void 0:(h=a[i],u(h),h);if(delete a[c],i===c)for(;!Object.prototype.hasOwnProperty.call(a,++i););},delete:u,clear:function(){r=n=0,i=1,a=Object.create(null),t=Object.create(null)}}}function ut(e){var{hasher:r,limit:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return i=i??Number.POSITIVE_INFINITY,r=r??JSON.stringify,function a(){typeof a.cache!="object"&&(a.cache={values:new Map,lru:vs(i||Number.POSITIVE_INFINITY)});for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var u=r(t);if(a.cache.values.has(u))return a.cache.lru.hit(u),a.cache.values.get(u);var p=e.apply(e,t);return a.cache.values.set(u,p),a.cache.values.delete(a.cache.lru.hit(u)),p}}function xa(e){return Object.keys(e.signatures||{}).reduce(function(r,i){var a=(i.match(/,/g)||[]).length+1;return Math.max(r,a)},-1)}var ms="DenseMatrix",ds=["Matrix"],gs=te(ms,ds,e=>{var{Matrix:r}=e;function i(s,o){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!fr(o))throw new Error("Invalid datatype: "+o);if(ke(s))s.type==="DenseMatrix"?(this._data=Se(s._data),this._size=Se(s._size),this._datatype=o||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=o||s._datatype);else if(s&&Re(s.data)&&Re(s.size))this._data=s.data,this._size=s.size,Vn(this._data,this._size),this._datatype=o||s.datatype;else if(Re(s))this._data=c(s),this._size=Qe(this._data),Vn(this._data,this._size),this._datatype=o;else{if(s)throw new TypeError("Unsupported type of data ("+tr(s)+")");this._data=[],this._size=[0],this._datatype=o}}i.prototype=new r,i.prototype.createDenseMatrix=function(s,o){return new i(s,o)},Object.defineProperty(i,"name",{value:"DenseMatrix"}),i.prototype.constructor=i,i.prototype.type="DenseMatrix",i.prototype.isDenseMatrix=!0,i.prototype.getDataType=function(){return Tt(this._data,tr)},i.prototype.storage=function(){return"dense"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(s,o){return new i(s,o)},i.prototype.subset=function(s,o,f){switch(arguments.length){case 1:return a(this,s);case 2:case 3:return n(this,s,o,f);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(s){if(!Re(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new ge(s.length,this._size.length);for(var o=0;o<s.length;o++)Te(s[o],this._size[o]);for(var f=this._data,l=0,m=s.length;l<m;l++){var v=s[l];Te(v,f.length),f=f[v]}return f},i.prototype.set=function(s,o,f){if(!Re(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new ge(s.length,this._size.length,"<");var l,m,v,D=s.map(function(N){return N+1});h(this,D,f);var g=this._data;for(l=0,m=s.length-1;l<m;l++)v=s[l],Te(v,g.length),g=g[v];return v=s[s.length-1],Te(v,g.length),g[v]=o,this};function a(s,o){if(!rt(o))throw new TypeError("Invalid index");var f=o.isScalar();if(f)return s.get(o.min());var l=o.size();if(l.length!==s._size.length)throw new ge(l.length,s._size.length);for(var m=o.min(),v=o.max(),D=0,g=s._size.length;D<g;D++)Te(m[D],s._size[D]),Te(v[D],s._size[D]);return new i(t(s._data,o,l.length,0),s._datatype)}function t(s,o,f,l){var m=l===f-1,v=o.dimension(l);return m?v.map(function(D){return Te(D,s.length),s[D]}).valueOf():v.map(function(D){Te(D,s.length);var g=s[D];return t(g,o,f,l+1)}).valueOf()}function n(s,o,f,l){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var m=o.size(),v=o.isScalar(),D;if(ke(f)?(D=f.size(),f=f.valueOf()):D=Qe(f),v){if(D.length!==0)throw new TypeError("Scalar expected");s.set(o.min(),f,l)}else{if(!Or(D,m))try{D.length===0?f=Zn([f],m):f=Zn(f,m),D=Qe(f)}catch{}if(m.length<s._size.length)throw new ge(m.length,s._size.length,"<");if(D.length<m.length){for(var g=0,N=0;m[g]===1&&D[g]===1;)g++;for(;m[g]===1;)N++,g++;f=na(f,m.length,N,D)}if(!Or(m,D))throw new ge(m,D,">");var E=o.max().map(function(y){return y+1});h(s,E,l);var b=m.length,w=0;u(s._data,o,f,b,w)}return s}function u(s,o,f,l,m){var v=m===l-1,D=o.dimension(m);v?D.forEach(function(g,N){Te(g),s[g]=f[N[0]]}):D.forEach(function(g,N){Te(g),u(s[g],o,f[N[0]],l,m+1)})}i.prototype.resize=function(s,o,f){if(!Xr(s))throw new TypeError("Array or Matrix expected");var l=s.valueOf().map(v=>Array.isArray(v)&&v.length===1?v[0]:v),m=f?this.clone():this;return p(m,l,o)};function p(s,o,f){if(o.length===0){for(var l=s._data;Re(l);)l=l[0];return l}return s._size=o.slice(0),s._data=Mt(s._data,s._size,f),s}i.prototype.reshape=function(s,o){var f=o?this.clone():this;f._data=ra(f._data,s);var l=f._size.reduce((m,v)=>m*v);return f._size=yn(s,l),f};function h(s,o,f){for(var l=s._size.slice(0),m=!1;l.length<o.length;)l.push(0),m=!0;for(var v=0,D=o.length;v<D;v++)o[v]>l[v]&&(l[v]=o[v],m=!0);m&&p(s,l,f)}i.prototype.clone=function(){var s=new i({data:Se(this._data),size:Se(this._size),datatype:this._datatype});return s},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(s){var o=this,f=xa(s),l=function D(g,N){return Re(g)?g.map(function(E,b){return D(E,N.concat(b))}):f===1?s(g):f===2?s(g,N):s(g,N,o)},m=l(this._data,[]),v=this._datatype!==void 0?Tt(m,tr):void 0;return new i(m,v)},i.prototype.forEach=function(s){var o=this,f=function l(m,v){Re(m)?m.forEach(function(D,g){l(D,v.concat(g))}):s(m,v,o)};f(this._data,[])},i.prototype[Symbol.iterator]=function*(){var s=function*o(f,l){if(Re(f))for(var m=0;m<f.length;m++)yield*o(f[m],l.concat(m));else yield{value:f,index:l}};yield*s(this._data,[])},i.prototype.rows=function(){var s=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var l of f)s.push(new i([l],this._datatype));return s},i.prototype.columns=function(){var s=this,o=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var l=this._data,m=function(g){var N=l.map(E=>[E[g]]);o.push(new i(N,s._datatype))},v=0;v<f[1];v++)m(v);return o},i.prototype.toArray=function(){return Se(this._data)},i.prototype.valueOf=function(){return this._data},i.prototype.format=function(s){return Ue(this._data,s)},i.prototype.toString=function(){return Ue(this._data)},i.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(s){if(s){if(Le(s)&&(s=s.toNumber()),!Oe(s)||!Pe(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var o=s>0?s:0,f=s<0?-s:0,l=this._size[0],m=this._size[1],v=Math.min(l-f,m-o),D=[],g=0;g<v;g++)D[g]=this._data[g+f][g+o];return new i({data:D,size:[v],datatype:this._datatype})},i.diagonal=function(s,o,f,l){if(!Re(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(M){if(Le(M)&&(M=M.toNumber()),!Oe(M)||!Pe(M)||M<1)throw new Error("Size values must be positive integers");return M}),f){if(Le(f)&&(f=f.toNumber()),!Oe(f)||!Pe(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var m=f>0?f:0,v=f<0?-f:0,D=s[0],g=s[1],N=Math.min(D-v,g-m),E;if(Re(o)){if(o.length!==N)throw new Error("Invalid value array length");E=function(T){return o[T]}}else if(ke(o)){var b=o.size();if(b.length!==1||b[0]!==N)throw new Error("Invalid matrix length");E=function(T){return o.get([T])}}else E=function(){return o};l||(l=Le(E(0))?E(0).mul(0):0);var w=[];if(s.length>0){w=Mt(w,s,l);for(var y=0;y<N;y++)w[y+v][y+m]=E(y)}return new i({data:w,size:[D,g]})},i.fromJSON=function(s){return new i(s)},i.prototype.swapRows=function(s,o){if(!Oe(s)||!Pe(s)||!Oe(o)||!Pe(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Te(s,this._size[0]),Te(o,this._size[0]),i._swapRows(s,o,this._data),this},i._swapRows=function(s,o,f){var l=f[s];f[s]=f[o],f[o]=l};function c(s){return ke(s)?c(s.valueOf()):Re(s)?s.map(c):s}return i},{isClass:!0});function He(e,r,i){return e&&typeof e.map=="function"?e.map(function(a){return He(a,r)}):r(e)}var Qn="isInteger",Ds=["typed"],Es=te(Qn,Ds,e=>{var{typed:r}=e;return r(Qn,{number:Pe,BigNumber:function(a){return a.isInt()},Fraction:function(a){return a.d===1&&isFinite(a.n)},"Array | Matrix":r.referToSelf(i=>a=>He(a,i))})}),Cn="number",Gt="number, number";function Sa(e){return Math.abs(e)}Sa.signature=Cn;function Ma(e,r){return e+r}Ma.signature=Gt;function Ta(e,r){return e-r}Ta.signature=Gt;function Oa(e,r){return e*r}Oa.signature=Gt;function Ba(e){return-e}Ba.signature=Cn;function _a(e){return e}_a.signature=Cn;function Ia(e,r){return e*e<1&&r===1/0||e*e>1&&r===-1/0?0:Math.pow(e,r)}Ia.signature=Gt;function Vr(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Pe(r)||r<0||r>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Xi(e,r))}var ws="number";function Ra(e){return e===0}Ra.signature=ws;var ei="isNumeric",ys=["typed"],Ns=te(ei,ys,e=>{var{typed:r}=e;return r(ei,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":r.referToSelf(i=>a=>He(a,i))})}),ri="isZero",bs=["typed"],As=te(ri,bs,e=>{var{typed:r}=e;return r(ri,{number:Ra,BigNumber:function(a){return a.isZero()},Complex:function(a){return a.re===0&&a.im===0},Fraction:function(a){return a.d===1&&a.n===0},Unit:r.referToSelf(i=>a=>r.find(i,a.valueType())(a.value)),"Array | Matrix":r.referToSelf(i=>a=>He(a,i))})});function Br(e,r,i){if(i==null)return e.eq(r);if(e.eq(r))return!0;if(e.isNaN()||r.isNaN())return!1;if(e.isFinite()&&r.isFinite()){var a=e.minus(r).abs();if(a.isZero())return!0;var t=e.constructor.max(e.abs(),r.abs());return a.lte(t.times(i))}return!1}function Cs(e,r,i){return dr(e.re,r.re,i)&&dr(e.im,r.im,i)}var Fs=te("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(i=>(a,t)=>{if(!a.equalBase(t))throw new Error("Cannot compare units with different base");return r.find(i,[a.valueType(),t.valueType()])(a.value,t.value)})}}),Rt="equalScalar",xs=["typed","config"],Ss=te(Rt,xs,e=>{var{typed:r,config:i}=e,a=Fs({typed:r});return r(Rt,{"boolean, boolean":function(n,u){return n===u},"number, number":function(n,u){return dr(n,u,i.epsilon)},"BigNumber, BigNumber":function(n,u){return n.eq(u)||Br(n,u,i.epsilon)},"Fraction, Fraction":function(n,u){return n.equals(u)},"Complex, Complex":function(n,u){return Cs(n,u,i.epsilon)}},a)});te(Rt,["typed","config"],e=>{var{typed:r,config:i}=e;return r(Rt,{"number, number":function(t,n){return dr(t,n,i.epsilon)}})});var Ms="SparseMatrix",Ts=["typed","equalScalar","Matrix"],Os=te(Ms,Ts,e=>{var{typed:r,equalScalar:i,Matrix:a}=e;function t(v,D){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(D&&!fr(D))throw new Error("Invalid datatype: "+D);if(ke(v))n(this,v,D);else if(v&&Re(v.index)&&Re(v.ptr)&&Re(v.size))this._values=v.values,this._index=v.index,this._ptr=v.ptr,this._size=v.size,this._datatype=D||v.datatype;else if(Re(v))u(this,v,D);else{if(v)throw new TypeError("Unsupported type of data ("+tr(v)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=D}}function n(v,D,g){D.type==="SparseMatrix"?(v._values=D._values?Se(D._values):void 0,v._index=Se(D._index),v._ptr=Se(D._ptr),v._size=Se(D._size),v._datatype=g||D._datatype):u(v,D.valueOf(),g||D._datatype)}function u(v,D,g){v._values=[],v._index=[],v._ptr=[],v._datatype=g;var N=D.length,E=0,b=i,w=0;if(fr(g)&&(b=r.find(i,[g,g])||i,w=r.convert(0,g)),N>0){var y=0;do{v._ptr.push(v._index.length);for(var M=0;M<N;M++){var T=D[M];if(Re(T)){if(y===0&&E<T.length&&(E=T.length),y<T.length){var O=T[y];b(O,w)||(v._values.push(O),v._index.push(M))}}else y===0&&E<1&&(E=1),b(T,w)||(v._values.push(T),v._index.push(M))}y++}while(y<E)}v._ptr.push(v._index.length),v._size=[N,E]}t.prototype=new a,t.prototype.createSparseMatrix=function(v,D){return new t(v,D)},Object.defineProperty(t,"name",{value:"SparseMatrix"}),t.prototype.constructor=t,t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return Tt(this._values,tr)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(v,D){return new t(v,D)},t.prototype.density=function(){var v=this._size[0],D=this._size[1];return v!==0&&D!==0?this._index.length/(v*D):0},t.prototype.subset=function(v,D,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return p(this,v);case 2:case 3:return h(this,v,D,g);default:throw new SyntaxError("Wrong number of arguments")}};function p(v,D){if(!rt(D))throw new TypeError("Invalid index");var g=D.isScalar();if(g)return v.get(D.min());var N=D.size();if(N.length!==v._size.length)throw new ge(N.length,v._size.length);var E,b,w,y,M=D.min(),T=D.max();for(E=0,b=v._size.length;E<b;E++)Te(M[E],v._size[E]),Te(T[E],v._size[E]);var O=v._values,_=v._index,R=v._ptr,P=D.dimension(0),U=D.dimension(1),z=[],Q=[];P.forEach(function(F,ue){Q[F]=ue[0],z[F]=!0});var H=O?[]:void 0,A=[],Z=[];return U.forEach(function(F){for(Z.push(A.length),w=R[F],y=R[F+1];w<y;w++)E=_[w],z[E]===!0&&(A.push(Q[E]),H&&H.push(O[w]))}),Z.push(A.length),new t({values:H,index:A,ptr:Z,size:N,datatype:v._datatype})}function h(v,D,g,N){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var E=D.size(),b=D.isScalar(),w;if(ke(g)?(w=g.size(),g=g.toArray()):w=Qe(g),b){if(w.length!==0)throw new TypeError("Scalar expected");v.set(D.min(),g,N)}else{if(E.length!==1&&E.length!==2)throw new ge(E.length,v._size.length,"<");if(w.length<E.length){for(var y=0,M=0;E[y]===1&&w[y]===1;)y++;for(;E[y]===1;)M++,y++;g=na(g,E.length,M,w)}if(!Or(E,w))throw new ge(E,w,">");if(E.length===1){var T=D.dimension(0);T.forEach(function(R,P){Te(R),v.set([R,0],g[P[0]],N)})}else{var O=D.dimension(0),_=D.dimension(1);O.forEach(function(R,P){Te(R),_.forEach(function(U,z){Te(U),v.set([R,U],g[P[0]][z[0]],N)})})}}return v}t.prototype.get=function(v){if(!Re(v))throw new TypeError("Array expected");if(v.length!==this._size.length)throw new ge(v.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var D=v[0],g=v[1];Te(D,this._size[0]),Te(g,this._size[1]);var N=c(D,this._ptr[g],this._ptr[g+1],this._index);return N<this._ptr[g+1]&&this._index[N]===D?this._values[N]:0},t.prototype.set=function(v,D,g){if(!Re(v))throw new TypeError("Array expected");if(v.length!==this._size.length)throw new ge(v.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var N=v[0],E=v[1],b=this._size[0],w=this._size[1],y=i,M=0;fr(this._datatype)&&(y=r.find(i,[this._datatype,this._datatype])||i,M=r.convert(0,this._datatype)),(N>b-1||E>w-1)&&(f(this,Math.max(N+1,b),Math.max(E+1,w),g),b=this._size[0],w=this._size[1]),Te(N,b),Te(E,w);var T=c(N,this._ptr[E],this._ptr[E+1],this._index);return T<this._ptr[E+1]&&this._index[T]===N?y(D,M)?s(T,E,this._values,this._index,this._ptr):this._values[T]=D:y(D,M)||o(T,N,E,D,this._values,this._index,this._ptr),this};function c(v,D,g,N){if(g-D===0)return g;for(var E=D;E<g;E++)if(N[E]===v)return E;return D}function s(v,D,g,N,E){g.splice(v,1),N.splice(v,1);for(var b=D+1;b<E.length;b++)E[b]--}function o(v,D,g,N,E,b,w){E.splice(v,0,N),b.splice(v,0,D);for(var y=g+1;y<w.length;y++)w[y]++}t.prototype.resize=function(v,D,g){if(!Xr(v))throw new TypeError("Array or Matrix expected");var N=v.valueOf().map(b=>Array.isArray(b)&&b.length===1?b[0]:b);if(N.length!==2)throw new Error("Only two dimensions matrix are supported");N.forEach(function(b){if(!Oe(b)||!Pe(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ue(N)+")")});var E=g?this.clone():this;return f(E,N[0],N[1],D)};function f(v,D,g,N){var E=N||0,b=i,w=0;fr(v._datatype)&&(b=r.find(i,[v._datatype,v._datatype])||i,w=r.convert(0,v._datatype),E=r.convert(E,v._datatype));var y=!b(E,w),M=v._size[0],T=v._size[1],O,_,R;if(g>T){for(_=T;_<g;_++)if(v._ptr[_]=v._values.length,y)for(O=0;O<M;O++)v._values.push(E),v._index.push(O);v._ptr[g]=v._values.length}else g<T&&(v._ptr.splice(g+1,T-g),v._values.splice(v._ptr[g],v._values.length),v._index.splice(v._ptr[g],v._index.length));if(T=g,D>M){if(y){var P=0;for(_=0;_<T;_++){v._ptr[_]=v._ptr[_]+P,R=v._ptr[_+1]+P;var U=0;for(O=M;O<D;O++,U++)v._values.splice(R+U,0,E),v._index.splice(R+U,0,O),P++}v._ptr[T]=v._values.length}}else if(D<M){var z=0;for(_=0;_<T;_++){v._ptr[_]=v._ptr[_]-z;var Q=v._ptr[_],H=v._ptr[_+1]-z;for(R=Q;R<H;R++)O=v._index[R],O>D-1&&(v._values.splice(R,1),v._index.splice(R,1),z++)}v._ptr[_]=v._values.length}return v._size[0]=D,v._size[1]=g,v}t.prototype.reshape=function(v,D){if(!Re(v))throw new TypeError("Array expected");if(v.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");v.forEach(function(F){if(!Oe(F)||!Pe(F)||F<=-2||F===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ue(v)+")")});var g=this._size[0]*this._size[1];v=yn(v,g);var N=v[0]*v[1];if(g!==N)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var E=D?this.clone():this;if(this._size[0]===v[0]&&this._size[1]===v[1])return E;for(var b=[],w=0;w<E._ptr.length;w++)for(var y=0;y<E._ptr[w+1]-E._ptr[w];y++)b.push(w);for(var M=E._values.slice(),T=E._index.slice(),O=0;O<E._index.length;O++){var _=T[O],R=b[O],P=_*E._size[1]+R;b[O]=P%v[1],T[O]=Math.floor(P/v[1])}E._values.length=0,E._index.length=0,E._ptr.length=v[1]+1,E._size=v.slice();for(var U=0;U<E._ptr.length;U++)E._ptr[U]=0;for(var z=0;z<M.length;z++){var Q=T[z],H=b[z],A=M[z],Z=c(Q,E._ptr[H],E._ptr[H+1],E._index);o(Z,Q,H,A,E._values,E._index,E._ptr)}return E},t.prototype.clone=function(){var v=new t({values:this._values?Se(this._values):void 0,index:Se(this._index),ptr:Se(this._ptr),size:Se(this._size),datatype:this._datatype});return v},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(v,D){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,N=this._size[0],E=this._size[1],b=xa(v),w=function(M,T,O){return b===1?v(M):b===2?v(M,[T,O]):v(M,[T,O],g)};return l(this,0,N-1,0,E-1,w,D)};function l(v,D,g,N,E,b,w){var y=[],M=[],T=[],O=i,_=0;fr(v._datatype)&&(O=r.find(i,[v._datatype,v._datatype])||i,_=r.convert(0,v._datatype));for(var R=function(G,_e,Ie){G=b(G,_e,Ie),O(G,_)||(y.push(G),M.push(_e))},P=N;P<=E;P++){T.push(y.length);var U=v._ptr[P],z=v._ptr[P+1];if(w)for(var Q=U;Q<z;Q++){var H=v._index[Q];H>=D&&H<=g&&R(v._values[Q],H-D,P-N)}else{for(var A={},Z=U;Z<z;Z++){var F=v._index[Z];A[F]=v._values[Z]}for(var ue=D;ue<=g;ue++){var ye=ue in A?A[ue]:0;R(ye,ue-D,P-N)}}}return T.push(y.length),new t({values:y,index:M,ptr:T,size:[g-D+1,E-N+1]})}t.prototype.forEach=function(v,D){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,N=this._size[0],E=this._size[1],b=0;b<E;b++){var w=this._ptr[b],y=this._ptr[b+1];if(D)for(var M=w;M<y;M++){var T=this._index[M];v(this._values[M],[T,b],g)}else{for(var O={},_=w;_<y;_++){var R=this._index[_];O[R]=this._values[_]}for(var P=0;P<N;P++){var U=P in O?O[P]:0;v(U,[P,b],g)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var v=this._size[1],D=0;D<v;D++)for(var g=this._ptr[D],N=this._ptr[D+1],E=g;E<N;E++){var b=this._index[E];yield{value:this._values[E],index:[b,D]}}},t.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)};function m(v,D,g,N,E){var b=N[0],w=N[1],y=[],M,T;for(M=0;M<b;M++)for(y[M]=[],T=0;T<w;T++)y[M][T]=0;for(T=0;T<w;T++)for(var O=g[T],_=g[T+1],R=O;R<_;R++)M=D[R],y[M][T]=v?E?Se(v[R]):v[R]:1;return y}return t.prototype.format=function(v){for(var D=this._size[0],g=this._size[1],N=this.density(),E="Sparse Matrix ["+Ue(D,v)+" x "+Ue(g,v)+"] density: "+Ue(N,v)+`
`,b=0;b<g;b++)for(var w=this._ptr[b],y=this._ptr[b+1],M=w;M<y;M++){var T=this._index[M];E+=`
    (`+Ue(T,v)+", "+Ue(b,v)+") ==> "+(this._values?Ue(this._values[M],v):"X")}return E},t.prototype.toString=function(){return Ue(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(v){if(v){if(Le(v)&&(v=v.toNumber()),!Oe(v)||!Pe(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var D=v>0?v:0,g=v<0?-v:0,N=this._size[0],E=this._size[1],b=Math.min(N-g,E-D),w=[],y=[],M=[];M[0]=0;for(var T=D;T<E&&w.length<b;T++)for(var O=this._ptr[T],_=this._ptr[T+1],R=O;R<_;R++){var P=this._index[R];if(P===T-D+g){w.push(this._values[R]),y[w.length-1]=P-g;break}}return M.push(w.length),new t({values:w,index:y,ptr:M,size:[b,1]})},t.fromJSON=function(v){return new t(v)},t.diagonal=function(v,D,g,N,E){if(!Re(v))throw new TypeError("Array expected, size parameter");if(v.length!==2)throw new Error("Only two dimensions matrix are supported");if(v=v.map(function(F){if(Le(F)&&(F=F.toNumber()),!Oe(F)||!Pe(F)||F<1)throw new Error("Size values must be positive integers");return F}),g){if(Le(g)&&(g=g.toNumber()),!Oe(g)||!Pe(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var b=i,w=0;fr(E)&&(b=r.find(i,[E,E])||i,w=r.convert(0,E));var y=g>0?g:0,M=g<0?-g:0,T=v[0],O=v[1],_=Math.min(T-M,O-y),R;if(Re(D)){if(D.length!==_)throw new Error("Invalid value array length");R=function(ue){return D[ue]}}else if(ke(D)){var P=D.size();if(P.length!==1||P[0]!==_)throw new Error("Invalid matrix length");R=function(ue){return D.get([ue])}}else R=function(){return D};for(var U=[],z=[],Q=[],H=0;H<O;H++){Q.push(U.length);var A=H-y;if(A>=0&&A<_){var Z=R(A);b(Z,w)||(z.push(A+M),U.push(Z))}}return Q.push(U.length),new t({values:U,index:z,ptr:Q,size:[T,O]})},t.prototype.swapRows=function(v,D){if(!Oe(v)||!Pe(v)||!Oe(D)||!Pe(D))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Te(v,this._size[0]),Te(D,this._size[0]),t._swapRows(v,D,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(v,D,g,N,E){for(var b=N[v],w=N[v+1],y=b;y<w;y++)E(g[y],D[y])},t._swapRows=function(v,D,g,N,E,b){for(var w=0;w<g;w++){var y=b[w],M=b[w+1],T=c(v,y,M,E),O=c(D,y,M,E);if(T<M&&O<M&&E[T]===v&&E[O]===D){if(N){var _=N[T];N[T]=N[O],N[O]=_}continue}if(T<M&&E[T]===v&&(O>=M||E[O]!==D)){var R=N?N[T]:void 0;E.splice(O,0,D),N&&N.splice(O,0,R),E.splice(O<=T?T+1:T,1),N&&N.splice(O<=T?T+1:T,1);continue}if(O<M&&E[O]===D&&(T>=M||E[T]!==v)){var P=N?N[O]:void 0;E.splice(T,0,v),N&&N.splice(T,0,P),E.splice(T<=O?O+1:O,1),N&&N.splice(T<=O?O+1:O,1)}}},t},{isClass:!0}),Bs="number",_s=["typed"];function Is(e){var r=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var i={"0b":2,"0o":8,"0x":16}[r[1]],a=r[2],t=r[3];return{input:e,radix:i,integerPart:a,fractionalPart:t}}else return null}function Rs(e){for(var r=parseInt(e.integerPart,e.radix),i=0,a=0;a<e.fractionalPart.length;a++){var t=parseInt(e.fractionalPart[a],e.radix);i+=t/Math.pow(e.radix,a+1)}var n=r+i;if(isNaN(n))throw new SyntaxError('String "'+e.input+'" is not a valid number');return n}var Ps=te(Bs,_s,e=>{var{typed:r}=e,i=r("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var n=Is(t);if(n)return Rs(n);var u=0,p=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);p&&(u=Number(p[2]),t=p[1]);var h=Number(t);if(isNaN(h))throw new SyntaxError('String "'+t+'" is not a valid number');if(p){if(h>2**u-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));h>=2**(u-1)&&(h=h-2**u)}return h},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:r.referToSelf(a=>t=>{var n=t.clone();return n.value=a(t.value),n}),null:function(t){return 0},"Unit, string | Unit":function(t,n){return t.toNumber(n)},"Array | Matrix":r.referToSelf(a=>t=>He(t,a))});return i.fromJSON=function(a){return parseFloat(a.value)},i}),Ls="bignumber",$s=["typed","BigNumber"],Us=te(Ls,$s,e=>{var{typed:r,BigNumber:i}=e;return r("bignumber",{"":function(){return new i(0)},number:function(t){return new i(t+"")},string:function(t){var n=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(n){var u=n[2],p=i(n[1]),h=new i(2).pow(Number(u));if(p.gt(h.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var c=new i(2).pow(Number(u)-1);return p.gte(c)?p.sub(h):p}return new i(t)},BigNumber:function(t){return t},Unit:r.referToSelf(a=>t=>{var n=t.clone();return n.value=a(t.value),n}),Fraction:function(t){return new i(t.n).div(t.d).times(t.s)},null:function(t){return new i(0)},"Array | Matrix":r.referToSelf(a=>t=>He(t,a))})}),zs="fraction",ks=["typed","Fraction"],qs=te(zs,ks,e=>{var{typed:r,Fraction:i}=e;return r("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new i(t)},string:function(t){return new i(t)},"number, number":function(t,n){return new i(t,n)},null:function(t){return new i(0)},BigNumber:function(t){return new i(t.toString())},Fraction:function(t){return t},Unit:r.referToSelf(a=>t=>{var n=t.clone();return n.value=a(t.value),n}),Object:function(t){return new i(t)},"Array | Matrix":r.referToSelf(a=>t=>He(t,a))})}),ti="matrix",Hs=["typed","Matrix","DenseMatrix","SparseMatrix"],Gs=te(ti,Hs,e=>{var{typed:r,Matrix:i,DenseMatrix:a,SparseMatrix:t}=e;return r(ti,{"":function(){return n([])},string:function(p){return n([],p)},"string, string":function(p,h){return n([],p,h)},Array:function(p){return n(p)},Matrix:function(p){return n(p,p.storage())},"Array | Matrix, string":n,"Array | Matrix, string, string":n});function n(u,p,h){if(p==="dense"||p==="default"||p===void 0)return new a(u,h);if(p==="sparse")return new t(u,h);throw new TypeError("Unknown matrix type "+JSON.stringify(p)+".")}}),ni="unaryMinus",js=["typed"],Vs=te(ni,js,e=>{var{typed:r}=e;return r(ni,{number:Ba,"Complex | BigNumber | Fraction":i=>i.neg(),Unit:r.referToSelf(i=>a=>{var t=a.clone();return t.value=r.find(i,t.valueType())(a.value),t}),"Array | Matrix":r.referToSelf(i=>a=>He(a,i))})}),ii="unaryPlus",Ws=["typed","config","BigNumber"],Ys=te(ii,Ws,e=>{var{typed:r,config:i,BigNumber:a}=e;return r(ii,{number:_a,Complex:function(n){return n},BigNumber:function(n){return n},Fraction:function(n){return n},Unit:function(n){return n.clone()},"Array | Matrix":r.referToSelf(t=>n=>He(n,t)),"boolean | string":function(n){return i.number==="BigNumber"?new a(+n):+n}})}),ai="abs",Zs=["typed"],Js=te(ai,Zs,e=>{var{typed:r}=e;return r(ai,{number:Sa,"Complex | BigNumber | Fraction | Unit":i=>i.abs(),"Array | Matrix":r.referToSelf(i=>a=>He(a,i))})}),ui="addScalar",Xs=["typed"],Ks=te(ui,Xs,e=>{var{typed:r}=e;return r(ui,{"number, number":Ma,"Complex, Complex":function(a,t){return a.add(t)},"BigNumber, BigNumber":function(a,t){return a.plus(t)},"Fraction, Fraction":function(a,t){return a.add(t)},"Unit, Unit":r.referToSelf(i=>(a,t)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(t))throw new Error("Units do not match");var n=a.clone();return n.value=r.find(i,[n.valueType(),t.valueType()])(n.value,t.value),n.fixPrefix=!1,n})})}),oi="subtractScalar",Qs=["typed"],ef=te(oi,Qs,e=>{var{typed:r}=e;return r(oi,{"number, number":Ta,"Complex, Complex":function(a,t){return a.sub(t)},"BigNumber, BigNumber":function(a,t){return a.minus(t)},"Fraction, Fraction":function(a,t){return a.sub(t)},"Unit, Unit":r.referToSelf(i=>(a,t)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(t))throw new Error("Units do not match");var n=a.clone();return n.value=r.find(i,[n.valueType(),t.valueType()])(n.value,t.value),n.fixPrefix=!1,n})})}),rf="matAlgo11xS0s",tf=["typed","equalScalar"],jt=te(rf,tf,e=>{var{typed:r,equalScalar:i}=e;return function(t,n,u,p){var h=t._values,c=t._index,s=t._ptr,o=t._size,f=t._datatype;if(!h)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=o[0],m=o[1],v,D=i,g=0,N=u;typeof f=="string"&&(v=f,D=r.find(i,[v,v]),g=r.convert(0,v),n=r.convert(n,v),N=r.find(u,[v,v]));for(var E=[],b=[],w=[],y=0;y<m;y++){w[y]=b.length;for(var M=s[y],T=s[y+1],O=M;O<T;O++){var _=c[O],R=p?N(n,h[O]):N(h[O],n);D(R,g)||(b.push(_),E.push(R))}}return w[m]=b.length,t.createSparseMatrix({values:E,index:b,ptr:w,size:[l,m],datatype:v})}}),nf="matAlgo12xSfs",af=["typed","DenseMatrix"],ot=te(nf,af,e=>{var{typed:r,DenseMatrix:i}=e;return function(t,n,u,p){var h=t._values,c=t._index,s=t._ptr,o=t._size,f=t._datatype;if(!h)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=o[0],m=o[1],v,D=u;typeof f=="string"&&(v=f,n=r.convert(n,v),D=r.find(u,[v,v]));for(var g=[],N=[],E=[],b=0;b<m;b++){for(var w=b+1,y=s[b],M=s[b+1],T=y;T<M;T++){var O=c[T];N[O]=h[T],E[O]=w}for(var _=0;_<l;_++)b===0&&(g[_]=[]),E[_]===w?g[_][b]=p?D(n,N[_]):D(N[_],n):g[_][b]=p?D(n,0):D(0,n)}return new i({data:g,size:[l,m],datatype:v})}}),uf="matAlgo14xDs",of=["typed"],Hr=te(uf,of,e=>{var{typed:r}=e;return function(t,n,u,p){var h=t._data,c=t._size,s=t._datatype,o,f=u;typeof s=="string"&&(o=s,n=r.convert(n,o),f=r.find(u,[o,o]));var l=c.length>0?i(f,0,c,c[0],h,n,p):[];return t.createDenseMatrix({data:l,size:Se(c),datatype:o})};function i(a,t,n,u,p,h,c){var s=[];if(t===n.length-1)for(var o=0;o<u;o++)s[o]=c?a(h,p[o]):a(p[o],h);else for(var f=0;f<u;f++)s[f]=i(a,t+1,n,n[t+1],p[f],h,c);return s}}),pn="ceil",sf=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],ff=te(pn,["typed","config","round"],e=>{var{typed:r,config:i,round:a}=e;return r(pn,{number:function(n){return dr(n,a(n),i.epsilon)?a(n):Math.ceil(n)},"number, number":function(n,u){if(dr(n,a(n,u),i.epsilon))return a(n,u);var[p,h]="".concat(n,"e").split("e"),c=Math.ceil(Number("".concat(p,"e").concat(Number(h)+u)));return[p,h]="".concat(c,"e").split("e"),Number("".concat(p,"e").concat(Number(h)-u))}})}),cf=te(pn,sf,e=>{var{typed:r,config:i,round:a,matrix:t,equalScalar:n,zeros:u,DenseMatrix:p}=e,h=jt({typed:r,equalScalar:n}),c=ot({typed:r,DenseMatrix:p}),s=Hr({typed:r}),o=ff({typed:r,config:i,round:a});return r("ceil",{number:o.signatures.number,"number,number":o.signatures["number,number"],Complex:function(l){return l.ceil()},"Complex, number":function(l,m){return l.ceil(m)},"Complex, BigNumber":function(l,m){return l.ceil(m.toNumber())},BigNumber:function(l){return Br(l,a(l),i.epsilon)?a(l):l.ceil()},"BigNumber, BigNumber":function(l,m){return Br(l,a(l,m),i.epsilon)?a(l,m):l.toDecimalPlaces(m.toNumber(),xr.ROUND_CEIL)},Fraction:function(l){return l.ceil()},"Fraction, number":function(l,m){return l.ceil(m)},"Fraction, BigNumber":function(l,m){return l.ceil(m.toNumber())},"Array | Matrix":r.referToSelf(f=>l=>He(l,f)),"Array, number | BigNumber":r.referToSelf(f=>(l,m)=>He(l,v=>f(v,m))),"SparseMatrix, number | BigNumber":r.referToSelf(f=>(l,m)=>h(l,m,f,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(f=>(l,m)=>s(l,m,f,!1)),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(f=>(l,m)=>s(t(m),l,f,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(f=>(l,m)=>n(l,0)?u(m.size(),m.storage()):m.storage()==="dense"?s(m,l,f,!0):c(m,l,f,!0))})}),vn="fix",lf=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],hf=te(vn,["typed","ceil","floor"],e=>{var{typed:r,ceil:i,floor:a}=e;return r(vn,{number:function(n){return n>0?a(n):i(n)},"number, number":function(n,u){return n>0?a(n,u):i(n,u)}})}),pf=te(vn,lf,e=>{var{typed:r,Complex:i,matrix:a,ceil:t,floor:n,equalScalar:u,zeros:p,DenseMatrix:h}=e,c=ot({typed:r,DenseMatrix:h}),s=Hr({typed:r}),o=hf({typed:r,ceil:t,floor:n});return r("fix",{number:o.signatures.number,"number, number | BigNumber":o.signatures["number,number"],Complex:function(l){return new i(l.re>0?Math.floor(l.re):Math.ceil(l.re),l.im>0?Math.floor(l.im):Math.ceil(l.im))},"Complex, number":function(l,m){return new i(l.re>0?n(l.re,m):t(l.re,m),l.im>0?n(l.im,m):t(l.im,m))},"Complex, BigNumber":function(l,m){var v=m.toNumber();return new i(l.re>0?n(l.re,v):t(l.re,v),l.im>0?n(l.im,v):t(l.im,v))},BigNumber:function(l){return l.isNegative()?t(l):n(l)},"BigNumber, number | BigNumber":function(l,m){return l.isNegative()?t(l,m):n(l,m)},Fraction:function(l){return l.s<0?l.ceil():l.floor()},"Fraction, number | BigNumber":function(l,m){return l.s<0?t(l,m):n(l,m)},"Array | Matrix":r.referToSelf(f=>l=>He(l,f)),"Array | Matrix, number | BigNumber":r.referToSelf(f=>(l,m)=>He(l,v=>f(v,m))),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(f=>(l,m)=>s(a(m),l,f,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(f=>(l,m)=>u(l,0)?p(m.size(),m.storage()):m.storage()==="dense"?s(m,l,f,!0):c(m,l,f,!0))})}),mn="floor",vf=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],mf=te(mn,["typed","config","round"],e=>{var{typed:r,config:i,round:a}=e;return r(mn,{number:function(n){return dr(n,a(n),i.epsilon)?a(n):Math.floor(n)},"number, number":function(n,u){if(dr(n,a(n,u),i.epsilon))return a(n,u);var[p,h]="".concat(n,"e").split("e"),c=Math.floor(Number("".concat(p,"e").concat(Number(h)+u)));return[p,h]="".concat(c,"e").split("e"),Number("".concat(p,"e").concat(Number(h)-u))}})}),df=te(mn,vf,e=>{var{typed:r,config:i,round:a,matrix:t,equalScalar:n,zeros:u,DenseMatrix:p}=e,h=jt({typed:r,equalScalar:n}),c=ot({typed:r,DenseMatrix:p}),s=Hr({typed:r}),o=mf({typed:r,config:i,round:a});return r("floor",{number:o.signatures.number,"number,number":o.signatures["number,number"],Complex:function(l){return l.floor()},"Complex, number":function(l,m){return l.floor(m)},"Complex, BigNumber":function(l,m){return l.floor(m.toNumber())},BigNumber:function(l){return Br(l,a(l),i.epsilon)?a(l):l.floor()},"BigNumber, BigNumber":function(l,m){return Br(l,a(l,m),i.epsilon)?a(l,m):l.toDecimalPlaces(m.toNumber(),xr.ROUND_FLOOR)},Fraction:function(l){return l.floor()},"Fraction, number":function(l,m){return l.floor(m)},"Fraction, BigNumber":function(l,m){return l.floor(m.toNumber())},"Array | Matrix":r.referToSelf(f=>l=>He(l,f)),"Array, number | BigNumber":r.referToSelf(f=>(l,m)=>He(l,v=>f(v,m))),"SparseMatrix, number | BigNumber":r.referToSelf(f=>(l,m)=>h(l,m,f,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(f=>(l,m)=>s(l,m,f,!1)),"number | Complex | Fraction | BigNumber, Array":r.referToSelf(f=>(l,m)=>s(t(m),l,f,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":r.referToSelf(f=>(l,m)=>n(l,0)?u(m.size(),m.storage()):m.storage()==="dense"?s(m,l,f,!0):c(m,l,f,!0))})}),gf="matAlgo03xDSf",Df=["typed"],Ef=te(gf,Df,e=>{var{typed:r}=e;return function(a,t,n,u){var p=a._data,h=a._size,c=a._datatype||a.getDataType(),s=t._values,o=t._index,f=t._ptr,l=t._size,m=t._datatype||t._data===void 0?t._datatype:t.getDataType();if(h.length!==l.length)throw new ge(h.length,l.length);if(h[0]!==l[0]||h[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+l+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=h[0],D=h[1],g,N=0,E=n;typeof c=="string"&&c===m&&c!=="mixed"&&(g=c,N=r.convert(0,g),E=r.find(n,[g,g]));for(var b=[],w=0;w<v;w++)b[w]=[];for(var y=[],M=[],T=0;T<D;T++){for(var O=T+1,_=f[T],R=f[T+1],P=_;P<R;P++){var U=o[P];y[U]=u?E(s[P],p[U][T]):E(p[U][T],s[P]),M[U]=O}for(var z=0;z<v;z++)M[z]===O?b[z][T]=y[z]:b[z][T]=u?E(N,p[z][T]):E(p[z][T],N)}return a.createDenseMatrix({data:b,size:[v,D],datatype:c===a._datatype&&m===t._datatype?g:void 0})}}),wf="matAlgo13xDD",yf=["typed"],Nf=te(wf,yf,e=>{var{typed:r}=e;return function(t,n,u){var p=t._data,h=t._size,c=t._datatype,s=n._data,o=n._size,f=n._datatype,l=[];if(h.length!==o.length)throw new ge(h.length,o.length);for(var m=0;m<h.length;m++){if(h[m]!==o[m])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+o+")");l[m]=h[m]}var v,D=u;typeof c=="string"&&c===f&&(v=c,D=r.find(u,[v,v]));var g=l.length>0?i(D,0,l,l[0],p,s):[];return t.createDenseMatrix({data:g,size:l,datatype:v})};function i(a,t,n,u,p,h){var c=[];if(t===n.length-1)for(var s=0;s<u;s++)c[s]=a(p[s],h[s]);else for(var o=0;o<u;o++)c[o]=i(a,t+1,n,n[t+1],p[o],h[o]);return c}}),bf="broadcast",Af=["concat"],Cf=te(bf,Af,e=>{var{concat:r}=e;return function(t,n){var u=Math.max(t._size.length,n._size.length);if(t._size.length===n._size.length&&t._size.every((m,v)=>m===n._size[v]))return[t,n];for(var p=i(t._size,u,0),h=i(n._size,u,0),c=[],s=0;s<u;s++)c[s]=Math.max(p[s],h[s]);Ot(p,c),Ot(h,c);var o=t.clone(),f=n.clone();o._size.length<u?o.reshape(i(o._size,u,1)):f._size.length<u&&f.reshape(i(f._size,u,1));for(var l=0;l<u;l++)o._size[l]<c[l]&&(o=a(o,c[l],l)),f._size[l]<c[l]&&(f=a(f,c[l],l));return[o,f]};function i(t,n,u){return[...Array(n-t.length).fill(u),...t]}function a(t,n,u){return r(...Array(n).fill(t),u)}}),Ff="matrixAlgorithmSuite",xf=["typed","matrix","concat"],Pa=te(Ff,xf,e=>{var{typed:r,matrix:i,concat:a}=e,t=Nf({typed:r}),n=Hr({typed:r}),u=Cf({concat:a});return function(h){var c=h.elop,s=h.SD||h.DS,o;c?(o={"DenseMatrix, DenseMatrix":(v,D)=>t(...u(v,D),c),"Array, Array":(v,D)=>t(...u(i(v),i(D)),c).valueOf(),"Array, DenseMatrix":(v,D)=>t(...u(i(v),D),c),"DenseMatrix, Array":(v,D)=>t(...u(v,i(D)),c)},h.SS&&(o["SparseMatrix, SparseMatrix"]=(v,D)=>h.SS(...u(v,D),c,!1)),h.DS&&(o["DenseMatrix, SparseMatrix"]=(v,D)=>h.DS(...u(v,D),c,!1),o["Array, SparseMatrix"]=(v,D)=>h.DS(...u(i(v),D),c,!1)),s&&(o["SparseMatrix, DenseMatrix"]=(v,D)=>s(...u(D,v),c,!0),o["SparseMatrix, Array"]=(v,D)=>s(...u(i(D),v),c,!0))):(o={"DenseMatrix, DenseMatrix":r.referToSelf(v=>(D,g)=>t(...u(D,g),v)),"Array, Array":r.referToSelf(v=>(D,g)=>t(...u(i(D),i(g)),v).valueOf()),"Array, DenseMatrix":r.referToSelf(v=>(D,g)=>t(...u(i(D),g),v)),"DenseMatrix, Array":r.referToSelf(v=>(D,g)=>t(...u(D,i(g)),v))},h.SS&&(o["SparseMatrix, SparseMatrix"]=r.referToSelf(v=>(D,g)=>h.SS(...u(D,g),v,!1))),h.DS&&(o["DenseMatrix, SparseMatrix"]=r.referToSelf(v=>(D,g)=>h.DS(...u(D,g),v,!1)),o["Array, SparseMatrix"]=r.referToSelf(v=>(D,g)=>h.DS(...u(i(D),g),v,!1))),s&&(o["SparseMatrix, DenseMatrix"]=r.referToSelf(v=>(D,g)=>s(...u(g,D),v,!0)),o["SparseMatrix, Array"]=r.referToSelf(v=>(D,g)=>s(...u(i(g),D),v,!0))));var f=h.scalar||"any",l=h.Ds||h.Ss;l&&(c?(o["DenseMatrix,"+f]=(v,D)=>n(v,D,c,!1),o[f+", DenseMatrix"]=(v,D)=>n(D,v,c,!0),o["Array,"+f]=(v,D)=>n(i(v),D,c,!1).valueOf(),o[f+", Array"]=(v,D)=>n(i(D),v,c,!0).valueOf()):(o["DenseMatrix,"+f]=r.referToSelf(v=>(D,g)=>n(D,g,v,!1)),o[f+", DenseMatrix"]=r.referToSelf(v=>(D,g)=>n(g,D,v,!0)),o["Array,"+f]=r.referToSelf(v=>(D,g)=>n(i(D),g,v,!1).valueOf()),o[f+", Array"]=r.referToSelf(v=>(D,g)=>n(i(g),D,v,!0).valueOf())));var m=h.sS!==void 0?h.sS:h.Ss;return c?(h.Ss&&(o["SparseMatrix,"+f]=(v,D)=>h.Ss(v,D,c,!1)),m&&(o[f+", SparseMatrix"]=(v,D)=>m(D,v,c,!0))):(h.Ss&&(o["SparseMatrix,"+f]=r.referToSelf(v=>(D,g)=>h.Ss(D,g,v,!1))),m&&(o[f+", SparseMatrix"]=r.referToSelf(v=>(D,g)=>m(g,D,v,!0)))),c&&c.signatures&&Cu(o,c.signatures),o}}),Sf="matAlgo01xDSid",Mf=["typed"],Tf=te(Sf,Mf,e=>{var{typed:r}=e;return function(a,t,n,u){var p=a._data,h=a._size,c=a._datatype||a.getDataType(),s=t._values,o=t._index,f=t._ptr,l=t._size,m=t._datatype||t._data===void 0?t._datatype:t.getDataType();if(h.length!==l.length)throw new ge(h.length,l.length);if(h[0]!==l[0]||h[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+l+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=h[0],D=h[1],g=typeof c=="string"&&c!=="mixed"&&c===m?c:void 0,N=g?r.find(n,[g,g]):n,E,b,w=[];for(E=0;E<v;E++)w[E]=[];var y=[],M=[];for(b=0;b<D;b++){for(var T=b+1,O=f[b],_=f[b+1],R=O;R<_;R++)E=o[R],y[E]=u?N(s[R],p[E][b]):N(p[E][b],s[R]),M[E]=T;for(E=0;E<v;E++)M[E]===T?w[E][b]=y[E]:w[E][b]=p[E][b]}return a.createDenseMatrix({data:w,size:[v,D],datatype:c===a._datatype&&m===t._datatype?g:void 0})}}),Of="matAlgo04xSidSid",Bf=["typed","equalScalar"],_f=te(Of,Bf,e=>{var{typed:r,equalScalar:i}=e;return function(t,n,u){var p=t._values,h=t._index,c=t._ptr,s=t._size,o=t._datatype||t._data===void 0?t._datatype:t.getDataType(),f=n._values,l=n._index,m=n._ptr,v=n._size,D=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(s.length!==v.length)throw new ge(s.length,v.length);if(s[0]!==v[0]||s[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+v+")");var g=s[0],N=s[1],E,b=i,w=0,y=u;typeof o=="string"&&o===D&&o!=="mixed"&&(E=o,b=r.find(i,[E,E]),w=r.convert(0,E),y=r.find(u,[E,E]));var M=p&&f?[]:void 0,T=[],O=[],_=p&&f?[]:void 0,R=p&&f?[]:void 0,P=[],U=[],z,Q,H,A,Z;for(Q=0;Q<N;Q++){O[Q]=T.length;var F=Q+1;for(A=c[Q],Z=c[Q+1],H=A;H<Z;H++)z=h[H],T.push(z),P[z]=F,_&&(_[z]=p[H]);for(A=m[Q],Z=m[Q+1],H=A;H<Z;H++)if(z=l[H],P[z]===F){if(_){var ue=y(_[z],f[H]);b(ue,w)?P[z]=null:_[z]=ue}}else T.push(z),U[z]=F,R&&(R[z]=f[H]);if(_&&R)for(H=O[Q];H<T.length;)z=T[H],P[z]===F?(M[H]=_[z],H++):U[z]===F?(M[H]=R[z],H++):T.splice(H,1)}return O[N]=T.length,t.createSparseMatrix({values:M,index:T,ptr:O,size:[g,N],datatype:o===t._datatype&&D===n._datatype?E:void 0})}}),If="matAlgo10xSids",Rf=["typed","DenseMatrix"],Pf=te(If,Rf,e=>{var{typed:r,DenseMatrix:i}=e;return function(t,n,u,p){var h=t._values,c=t._index,s=t._ptr,o=t._size,f=t._datatype;if(!h)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=o[0],m=o[1],v,D=u;typeof f=="string"&&(v=f,n=r.convert(n,v),D=r.find(u,[v,v]));for(var g=[],N=[],E=[],b=0;b<m;b++){for(var w=b+1,y=s[b],M=s[b+1],T=y;T<M;T++){var O=c[T];N[O]=h[T],E[O]=w}for(var _=0;_<l;_++)b===0&&(g[_]=[]),E[_]===w?g[_][b]=p?D(n,N[_]):D(N[_],n):g[_][b]=n}return new i({data:g,size:[l,m],datatype:v})}});function _r(e,r,i,a){if(!(this instanceof _r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=r,this.min=i,this.max=a,this.message="Wrong number of arguments in function "+e+" ("+r+" provided, "+i+(a!=null?"-"+a:"")+" expected)",this.stack=new Error().stack}_r.prototype=new Error;_r.prototype.constructor=Error;_r.prototype.name="ArgumentsError";_r.prototype.isArgumentsError=!0;var Lf="multiplyScalar",$f=["typed"],Uf=te(Lf,$f,e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":Oa,"Complex, Complex":function(a,t){return a.mul(t)},"BigNumber, BigNumber":function(a,t){return a.times(t)},"Fraction, Fraction":function(a,t){return a.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(i,a)=>a.multiply(i),"Unit, number | Fraction | BigNumber | Complex | Unit":(i,a)=>i.multiply(a)})}),si="multiply",zf=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],kf=te(si,zf,e=>{var{typed:r,matrix:i,addScalar:a,multiplyScalar:t,equalScalar:n,dot:u}=e,p=jt({typed:r,equalScalar:n}),h=Hr({typed:r});function c(w,y){switch(w.length){case 1:switch(y.length){case 1:if(w[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;case 2:switch(y.length){case 1:if(w[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+y[0]+")");break;case 2:if(w[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function s(w,y,M){if(M===0)throw new Error("Cannot multiply two empty vectors");return u(w,y)}function o(w,y){if(y.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(w,y)}function f(w,y){var M=w._data,T=w._size,O=w._datatype||w.getDataType(),_=y._data,R=y._size,P=y._datatype||y.getDataType(),U=T[0],z=R[1],Q,H=a,A=t;O&&P&&O===P&&typeof O=="string"&&O!=="mixed"&&(Q=O,H=r.find(a,[Q,Q]),A=r.find(t,[Q,Q]));for(var Z=[],F=0;F<z;F++){for(var ue=A(M[0],_[0][F]),ye=1;ye<U;ye++)ue=H(ue,A(M[ye],_[ye][F]));Z[F]=ue}return w.createDenseMatrix({data:Z,size:[z],datatype:O===w._datatype&&P===y._datatype?Q:void 0})}var l=r("_multiplyMatrixVector",{"DenseMatrix, any":v,"SparseMatrix, any":N}),m=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":D,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":E,"SparseMatrix, SparseMatrix":b});function v(w,y){var M=w._data,T=w._size,O=w._datatype||w.getDataType(),_=y._data,R=y._datatype||y.getDataType(),P=T[0],U=T[1],z,Q=a,H=t;O&&R&&O===R&&typeof O=="string"&&O!=="mixed"&&(z=O,Q=r.find(a,[z,z]),H=r.find(t,[z,z]));for(var A=[],Z=0;Z<P;Z++){for(var F=M[Z],ue=H(F[0],_[0]),ye=1;ye<U;ye++)ue=Q(ue,H(F[ye],_[ye]));A[Z]=ue}return w.createDenseMatrix({data:A,size:[P],datatype:O===w._datatype&&R===y._datatype?z:void 0})}function D(w,y){var M=w._data,T=w._size,O=w._datatype||w.getDataType(),_=y._data,R=y._size,P=y._datatype||y.getDataType(),U=T[0],z=T[1],Q=R[1],H,A=a,Z=t;O&&P&&O===P&&typeof O=="string"&&O!=="mixed"&&O!=="mixed"&&(H=O,A=r.find(a,[H,H]),Z=r.find(t,[H,H]));for(var F=[],ue=0;ue<U;ue++){var ye=M[ue];F[ue]=[];for(var Ae=0;Ae<Q;Ae++){for(var G=Z(ye[0],_[0][Ae]),_e=1;_e<z;_e++)G=A(G,Z(ye[_e],_[_e][Ae]));F[ue][Ae]=G}}return w.createDenseMatrix({data:F,size:[U,Q],datatype:O===w._datatype&&P===y._datatype?H:void 0})}function g(w,y){var M=w._data,T=w._size,O=w._datatype||w.getDataType(),_=y._values,R=y._index,P=y._ptr,U=y._size,z=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!_)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var Q=T[0],H=U[1],A,Z=a,F=t,ue=n,ye=0;O&&z&&O===z&&typeof O=="string"&&O!=="mixed"&&(A=O,Z=r.find(a,[A,A]),F=r.find(t,[A,A]),ue=r.find(n,[A,A]),ye=r.convert(0,A));for(var Ae=[],G=[],_e=[],Ie=y.createSparseMatrix({values:Ae,index:G,ptr:_e,size:[Q,H],datatype:O===w._datatype&&z===y._datatype?A:void 0}),se=0;se<H;se++){_e[se]=G.length;var de=P[se],Ge=P[se+1];if(Ge>de)for(var Ce=0,Ee=0;Ee<Q;Ee++){for(var Ve=Ee+1,$e=void 0,Ne=de;Ne<Ge;Ne++){var ze=R[Ne];Ce!==Ve?($e=F(M[Ee][ze],_[Ne]),Ce=Ve):$e=Z($e,F(M[Ee][ze],_[Ne]))}Ce===Ve&&!ue($e,ye)&&(G.push(Ee),Ae.push($e))}}return _e[H]=G.length,Ie}function N(w,y){var M=w._values,T=w._index,O=w._ptr,_=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var R=y._data,P=y._datatype||y.getDataType(),U=w._size[0],z=y._size[0],Q=[],H=[],A=[],Z,F=a,ue=t,ye=n,Ae=0;_&&P&&_===P&&typeof _=="string"&&_!=="mixed"&&(Z=_,F=r.find(a,[Z,Z]),ue=r.find(t,[Z,Z]),ye=r.find(n,[Z,Z]),Ae=r.convert(0,Z));var G=[],_e=[];A[0]=0;for(var Ie=0;Ie<z;Ie++){var se=R[Ie];if(!ye(se,Ae))for(var de=O[Ie],Ge=O[Ie+1],Ce=de;Ce<Ge;Ce++){var Ee=T[Ce];_e[Ee]?G[Ee]=F(G[Ee],ue(se,M[Ce])):(_e[Ee]=!0,H.push(Ee),G[Ee]=ue(se,M[Ce]))}}for(var Ve=H.length,$e=0;$e<Ve;$e++){var Ne=H[$e];Q[$e]=G[Ne]}return A[1]=H.length,w.createSparseMatrix({values:Q,index:H,ptr:A,size:[U,1],datatype:_===w._datatype&&P===y._datatype?Z:void 0})}function E(w,y){var M=w._values,T=w._index,O=w._ptr,_=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var R=y._data,P=y._datatype||y.getDataType(),U=w._size[0],z=y._size[0],Q=y._size[1],H,A=a,Z=t,F=n,ue=0;_&&P&&_===P&&typeof _=="string"&&_!=="mixed"&&(H=_,A=r.find(a,[H,H]),Z=r.find(t,[H,H]),F=r.find(n,[H,H]),ue=r.convert(0,H));for(var ye=[],Ae=[],G=[],_e=w.createSparseMatrix({values:ye,index:Ae,ptr:G,size:[U,Q],datatype:_===w._datatype&&P===y._datatype?H:void 0}),Ie=[],se=[],de=0;de<Q;de++){G[de]=Ae.length;for(var Ge=de+1,Ce=0;Ce<z;Ce++){var Ee=R[Ce][de];if(!F(Ee,ue))for(var Ve=O[Ce],$e=O[Ce+1],Ne=Ve;Ne<$e;Ne++){var ze=T[Ne];se[ze]!==Ge?(se[ze]=Ge,Ae.push(ze),Ie[ze]=Z(Ee,M[Ne])):Ie[ze]=A(Ie[ze],Z(Ee,M[Ne]))}}for(var x=G[de],B=Ae.length,k=x;k<B;k++){var Y=Ae[k];ye[k]=Ie[Y]}}return G[Q]=Ae.length,_e}function b(w,y){var M=w._values,T=w._index,O=w._ptr,_=w._datatype||w._data===void 0?w._datatype:w.getDataType(),R=y._values,P=y._index,U=y._ptr,z=y._datatype||y._data===void 0?y._datatype:y.getDataType(),Q=w._size[0],H=y._size[1],A=M&&R,Z,F=a,ue=t;_&&z&&_===z&&typeof _=="string"&&_!=="mixed"&&(Z=_,F=r.find(a,[Z,Z]),ue=r.find(t,[Z,Z]));for(var ye=A?[]:void 0,Ae=[],G=[],_e=w.createSparseMatrix({values:ye,index:Ae,ptr:G,size:[Q,H],datatype:_===w._datatype&&z===y._datatype?Z:void 0}),Ie=A?[]:void 0,se=[],de,Ge,Ce,Ee,Ve,$e,Ne,ze,x=0;x<H;x++){G[x]=Ae.length;var B=x+1;for(Ve=U[x],$e=U[x+1],Ee=Ve;Ee<$e;Ee++)if(ze=P[Ee],A)for(Ge=O[ze],Ce=O[ze+1],de=Ge;de<Ce;de++)Ne=T[de],se[Ne]!==B?(se[Ne]=B,Ae.push(Ne),Ie[Ne]=ue(R[Ee],M[de])):Ie[Ne]=F(Ie[Ne],ue(R[Ee],M[de]));else for(Ge=O[ze],Ce=O[ze+1],de=Ge;de<Ce;de++)Ne=T[de],se[Ne]!==B&&(se[Ne]=B,Ae.push(Ne));if(A)for(var k=G[x],Y=Ae.length,ne=k;ne<Y;ne++){var ie=Ae[ne];ye[ne]=Ie[ie]}}return G[H]=Ae.length,_e}return r(si,t,{"Array, Array":r.referTo("Matrix, Matrix",w=>(y,M)=>{c(Qe(y),Qe(M));var T=w(i(y),i(M));return ke(T)?T.valueOf():T}),"Matrix, Matrix":function(y,M){var T=y.size(),O=M.size();return c(T,O),T.length===1?O.length===1?s(y,M,T[0]):o(y,M):O.length===1?l(y,M):m(y,M)},"Matrix, Array":r.referTo("Matrix,Matrix",w=>(y,M)=>w(y,i(M))),"Array, Matrix":r.referToSelf(w=>(y,M)=>w(i(y,M.storage()),M)),"SparseMatrix, any":function(y,M){return p(y,M,t,!1)},"DenseMatrix, any":function(y,M){return h(y,M,t,!1)},"any, SparseMatrix":function(y,M){return p(M,y,t,!0)},"any, DenseMatrix":function(y,M){return h(M,y,t,!0)},"Array, any":function(y,M){return h(i(y),M,t,!1).valueOf()},"any, Array":function(y,M){return h(i(M),y,t,!0).valueOf()},"any, any":t,"any, any, ...any":r.referToSelf(w=>(y,M,T)=>{for(var O=w(y,M),_=0;_<T.length;_++)O=w(O,T[_]);return O})})}),qf="matAlgo07xSSf",Hf=["typed","DenseMatrix"],Gf=te(qf,Hf,e=>{var{typed:r,DenseMatrix:i}=e;return function(n,u,p){var h=n._size,c=n._datatype||n._data===void 0?n._datatype:n.getDataType(),s=u._size,o=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(h.length!==s.length)throw new ge(h.length,s.length);if(h[0]!==s[0]||h[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+s+")");var f=h[0],l=h[1],m,v=0,D=p;typeof c=="string"&&c===o&&c!=="mixed"&&(m=c,v=r.convert(0,m),D=r.find(p,[m,m]));var g,N,E=[];for(g=0;g<f;g++)E[g]=[];var b=[],w=[],y=[],M=[];for(N=0;N<l;N++){var T=N+1;for(a(n,N,y,b,T),a(u,N,M,w,T),g=0;g<f;g++){var O=y[g]===T?b[g]:v,_=M[g]===T?w[g]:v;E[g][N]=D(O,_)}}return new i({data:E,size:[f,l],datatype:c===n._datatype&&o===u._datatype?m:void 0})};function a(t,n,u,p,h){for(var c=t._values,s=t._index,o=t._ptr,f=o[n],l=o[n+1];f<l;f++){var m=s[f];u[m]=h,p[m]=c[f]}}}),fi="conj",jf=["typed"],Vf=te(fi,jf,e=>{var{typed:r}=e;return r(fi,{"number | BigNumber | Fraction":i=>i,Complex:i=>i.conjugate(),"Array | Matrix":r.referToSelf(i=>a=>He(a,i))})}),ci="concat",Wf=["typed","matrix","isInteger"],Yf=te(ci,Wf,e=>{var{typed:r,matrix:i,isInteger:a}=e;return r(ci,{"...Array | Matrix | number | BigNumber":function(n){var u,p=n.length,h=-1,c,s=!1,o=[];for(u=0;u<p;u++){var f=n[u];if(ke(f)&&(s=!0),Oe(f)||Le(f)){if(u!==p-1)throw new Error("Dimension must be specified as last argument");if(c=h,h=f.valueOf(),!a(h))throw new TypeError("Integer number expected for dimension");if(h<0||u>0&&h>c)throw new wr(h,c+1)}else{var l=Se(f).valueOf(),m=Qe(l);if(o[u]=l,c=h,h=m.length-1,u>0&&h!==c)throw new ge(c+1,h+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var v=o.shift();o.length;)v=oa(v,o.shift(),h);return s?i(v):v},"...string":function(n){return n.join("")}})}),li="identity",Zf=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Jf=te(li,Zf,e=>{var{typed:r,config:i,matrix:a,BigNumber:t,DenseMatrix:n,SparseMatrix:u}=e;return r(li,{"":function(){return i.matrix==="Matrix"?a([]):[]},string:function(s){return a(s)},"number | BigNumber":function(s){return h(s,s,i.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(s,o){return h(s,s,o)},"number | BigNumber, number | BigNumber":function(s,o){return h(s,o,i.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(s,o,f){return h(s,o,f)},Array:function(s){return p(s)},"Array, string":function(s,o){return p(s,o)},Matrix:function(s){return p(s.valueOf(),s.storage())},"Matrix, string":function(s,o){return p(s.valueOf(),o)}});function p(c,s){switch(c.length){case 0:return s?a(s):[];case 1:return h(c[0],c[0],s);case 2:return h(c[0],c[1],s);default:throw new Error("Vector containing two values expected")}}function h(c,s,o){var f=Le(c)||Le(s)?t:null;if(Le(c)&&(c=c.toNumber()),Le(s)&&(s=s.toNumber()),!Pe(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!Pe(s)||s<1)throw new Error("Parameters in function identity must be positive integers");var l=f?new t(1):1,m=f?new f(0):0,v=[c,s];if(o){if(o==="sparse")return u.diagonal(v,l,0,m);if(o==="dense")return n.diagonal(v,l,0,m);throw new TypeError('Unknown matrix type "'.concat(o,'"'))}for(var D=Mt([],v,m),g=c<s?c:s,N=0;N<g;N++)D[N][N]=l;return D}});function Xf(){throw new Error('No "bignumber" implementation available')}function Kf(){throw new Error('No "fraction" implementation available')}function Qf(){throw new Error('No "matrix" implementation available')}var hi="size",ec=["typed","config","?matrix"],rc=te(hi,ec,e=>{var{typed:r,config:i,matrix:a}=e;return r(hi,{Matrix:function(n){return n.create(n.size())},Array:Qe,string:function(n){return i.matrix==="Array"?[n.length]:a([n.length])},"number | Complex | BigNumber | Unit | boolean | null":function(n){return i.matrix==="Array"?[]:a?a([]):Qf()}})}),pi="subset",tc=["typed","matrix","zeros","add"],nc=te(pi,tc,e=>{var{typed:r,matrix:i,zeros:a,add:t}=e;return r(pi,{"Matrix, Index":function(p,h){return kr(h)?i():(St(p,h),p.subset(h))},"Array, Index":r.referTo("Matrix, Index",function(u){return function(p,h){var c=u(i(p),h);return h.isScalar()?c:c.valueOf()}}),"Object, Index":ac,"string, Index":ic,"Matrix, Index, any, any":function(p,h,c,s){return kr(h)?p:(St(p,h),p.clone().subset(h,n(c,h),s))},"Array, Index, any, any":r.referTo("Matrix, Index, any, any",function(u){return function(p,h,c,s){var o=u(i(p),h,c,s);return o.isMatrix?o.valueOf():o}}),"Array, Index, any":r.referTo("Matrix, Index, any, any",function(u){return function(p,h,c){return u(i(p),h,c,void 0).valueOf()}}),"Matrix, Index, any":r.referTo("Matrix, Index, any, any",function(u){return function(p,h,c){return u(p,h,c,void 0)}}),"string, Index, string":vi,"string, Index, string, string":vi,"Object, Index, any":uc});function n(u,p){if(typeof u=="string")throw new Error("can't boradcast a string");if(p._isScalar)return u;var h=p.size();if(h.every(c=>c>0))try{return t(u,a(h))}catch{return u}else return u}});function ic(e,r){if(!rt(r))throw new TypeError("Index expected");if(kr(r))return"";if(St(Array.from(e),r),r.size().length!==1)throw new ge(r.size().length,1);var i=e.length;Te(r.min()[0],i),Te(r.max()[0],i);var a=r.dimension(0),t="";return a.forEach(function(n){t+=e.charAt(n)}),t}function vi(e,r,i,a){if(!r||r.isIndex!==!0)throw new TypeError("Index expected");if(kr(r))return e;if(St(Array.from(e),r),r.size().length!==1)throw new ge(r.size().length,1);if(a!==void 0){if(typeof a!="string"||a.length!==1)throw new TypeError("Single character expected as defaultValue")}else a=" ";var t=r.dimension(0),n=t.size()[0];if(n!==i.length)throw new ge(t.size()[0],i.length);var u=e.length;Te(r.min()[0]),Te(r.max()[0]);for(var p=[],h=0;h<u;h++)p[h]=e.charAt(h);if(t.forEach(function(o,f){p[o]=i.charAt(f[0])}),p.length>u)for(var c=u-1,s=p.length;c<s;c++)p[c]||(p[c]=a);return p.join("")}function ac(e,r){if(!kr(r)){if(r.size().length!==1)throw new ge(r.size(),1);var i=r.dimension(0);if(typeof i!="string")throw new TypeError("String expected as index to retrieve an object property");return nr(e,i)}}function uc(e,r,i){if(kr(r))return e;if(r.size().length!==1)throw new ge(r.size(),1);var a=r.dimension(0);if(typeof a!="string")throw new TypeError("String expected as index to retrieve an object property");var t=Se(e);return Qr(t,a,i),t}var mi="zeros",oc=["typed","config","matrix","BigNumber"],sc=te(mi,oc,e=>{var{typed:r,config:i,matrix:a,BigNumber:t}=e;return r(mi,{"":function(){return i.matrix==="Array"?n([]):n([],"default")},"...number | BigNumber | string":function(c){var s=c[c.length-1];if(typeof s=="string"){var o=c.pop();return n(c,o)}else return i.matrix==="Array"?n(c):n(c,"default")},Array:n,Matrix:function(c){var s=c.storage();return n(c.valueOf(),s)},"Array | Matrix, string":function(c,s){return n(c.valueOf(),s)}});function n(h,c){var s=u(h),o=s?new t(0):0;if(p(h),c){var f=a(c);return h.length>0?f.resize(h,o):f}else{var l=[];return h.length>0?Mt(l,h,o):l}}function u(h){var c=!1;return h.forEach(function(s,o,f){Le(s)&&(c=!0,f[o]=s.toNumber())}),c}function p(h){h.forEach(function(c){if(typeof c!="number"||!Pe(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}}),di="format",fc=["typed"],cc=te(di,fc,e=>{var{typed:r}=e;return r(di,{any:Ue,"any, Object | function | number | BigNumber":Ue})}),lc="numeric",hc=["number","?bignumber","?fraction"],pc=te(lc,hc,e=>{var{number:r,bignumber:i,fraction:a}=e,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},n={number:u=>r(u),BigNumber:i?u=>i(u):Xf,Fraction:a?u=>a(u):Kf};return function(p){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var s=tr(p);if(!(s in t))throw new TypeError("Cannot convert "+p+' of type "'+s+'"; valid input types are '+Object.keys(t).join(", "));if(!(h in n))throw new TypeError("Cannot convert "+p+' to type "'+h+'"; valid output types are '+Object.keys(n).join(", "));return h===s?p:n[h](p)}}),gi="divideScalar",vc=["typed","numeric"],mc=te(gi,vc,e=>{var{typed:r,numeric:i}=e;return r(gi,{"number, number":function(t,n){return t/n},"Complex, Complex":function(t,n){return t.div(n)},"BigNumber, BigNumber":function(t,n){return t.div(n)},"Fraction, Fraction":function(t,n){return t.div(n)},"Unit, number | Complex | Fraction | BigNumber | Unit":(a,t)=>a.divide(t),"number | Fraction | Complex | BigNumber, Unit":(a,t)=>t.divideInto(a)})}),Di="pow",dc=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],gc=te(Di,dc,e=>{var{typed:r,config:i,identity:a,multiply:t,matrix:n,inv:u,number:p,fraction:h,Complex:c}=e;return r(Di,{"number, number":s,"Complex, Complex":function(m,v){return m.pow(v)},"BigNumber, BigNumber":function(m,v){return v.isInteger()||m>=0||i.predictable?m.pow(v):new c(m.toNumber(),0).pow(v.toNumber(),0)},"Fraction, Fraction":function(m,v){var D=m.pow(v);if(D!=null)return D;if(i.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return s(m.valueOf(),v.valueOf())},"Array, number":o,"Array, BigNumber":function(m,v){return o(m,v.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(m,v){return f(m,v.toNumber())},"Unit, number | BigNumber":function(m,v){return m.pow(v)}});function s(l,m){if(i.predictable&&!Pe(m)&&l<0)try{var v=h(m),D=p(v);if((m===D||Math.abs((m-D)/m)<1e-14)&&v.d%2===1)return(v.n%2===0?1:-1)*Math.pow(-l,m)}catch{}return i.predictable&&(l<-1&&m===1/0||l>-1&&l<0&&m===-1/0)?NaN:Pe(m)||l>=0||i.predictable?Ia(l,m):l*l<1&&m===1/0||l*l>1&&m===-1/0?0:new c(l,0).pow(m,0)}function o(l,m){if(!Pe(m))throw new TypeError("For A^b, b must be an integer (value is "+m+")");var v=Qe(l);if(v.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+v.length+" dimensions)");if(v[0]!==v[1])throw new Error("For A^b, A must be square (size is "+v[0]+"x"+v[1]+")");if(m<0)try{return o(u(l),-m)}catch(N){throw N.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+m+")"):N}for(var D=a(v[0]).valueOf(),g=l;m>=1;)(m&1)===1&&(D=t(g,D)),m>>=1,g=t(g,g);return D}function f(l,m){return n(o(l.valueOf(),m))}}),Pr="Number of decimals in function round must be an integer",Ei="round",Dc=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Ec=te(Ei,Dc,e=>{var{typed:r,config:i,matrix:a,equalScalar:t,zeros:n,BigNumber:u,DenseMatrix:p}=e,h=jt({typed:r,equalScalar:t}),c=ot({typed:r,DenseMatrix:p}),s=Hr({typed:r});function o(f){return Math.abs(at(f).exponent)}return r(Ei,{number:function(l){var m=Vr(l,o(i.epsilon)),v=dr(l,m,i.epsilon)?m:l;return Vr(v)},"number, number":function(l,m){var v=o(i.epsilon);if(m>=v)return Vr(l,m);var D=Vr(l,v),g=dr(l,D,i.epsilon)?D:l;return Vr(g,m)},"number, BigNumber":function(l,m){if(!m.isInteger())throw new TypeError(Pr);return new u(l).toDecimalPlaces(m.toNumber())},Complex:function(l){return l.round()},"Complex, number":function(l,m){if(m%1)throw new TypeError(Pr);return l.round(m)},"Complex, BigNumber":function(l,m){if(!m.isInteger())throw new TypeError(Pr);var v=m.toNumber();return l.round(v)},BigNumber:function(l){var m=new u(l).toDecimalPlaces(o(i.epsilon)),v=Br(l,m,i.epsilon)?m:l;return v.toDecimalPlaces(0)},"BigNumber, BigNumber":function(l,m){if(!m.isInteger())throw new TypeError(Pr);var v=o(i.epsilon);if(m>=v)return l.toDecimalPlaces(m.toNumber());var D=l.toDecimalPlaces(v),g=Br(l,D,i.epsilon)?D:l;return g.toDecimalPlaces(m.toNumber())},Fraction:function(l){return l.round()},"Fraction, number":function(l,m){if(m%1)throw new TypeError(Pr);return l.round(m)},"Fraction, BigNumber":function(l,m){if(!m.isInteger())throw new TypeError(Pr);return l.round(m.toNumber())},"Unit, number, Unit":r.referToSelf(f=>function(l,m,v){var D=l.toNumeric(v);return v.multiply(f(D,m))}),"Unit, BigNumber, Unit":r.referToSelf(f=>(l,m,v)=>f(l,m.toNumber(),v)),"Unit, Unit":r.referToSelf(f=>(l,m)=>f(l,0,m)),"Array | Matrix, number, Unit":r.referToSelf(f=>(l,m,v)=>He(l,D=>f(D,m,v))),"Array | Matrix, BigNumber, Unit":r.referToSelf(f=>(l,m,v)=>f(l,m.toNumber(),v)),"Array | Matrix, Unit":r.referToSelf(f=>(l,m)=>f(l,0,m)),"Array | Matrix":r.referToSelf(f=>l=>He(l,f)),"SparseMatrix, number | BigNumber":r.referToSelf(f=>(l,m)=>h(l,m,f,!1)),"DenseMatrix, number | BigNumber":r.referToSelf(f=>(l,m)=>s(l,m,f,!1)),"Array, number | BigNumber":r.referToSelf(f=>(l,m)=>s(a(l),m,f,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":r.referToSelf(f=>(l,m)=>t(l,0)?n(m.size(),m.storage()):c(m,l,f,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":r.referToSelf(f=>(l,m)=>t(l,0)?n(m.size(),m.storage()):s(m,l,f,!0)),"number | Complex | BigNumber | Fraction, Array":r.referToSelf(f=>(l,m)=>s(a(m),l,f,!0).valueOf())})}),Pt="equal",wc=["typed","matrix","equalScalar","DenseMatrix","concat"],yc=te(Pt,wc,e=>{var{typed:r,matrix:i,equalScalar:a,DenseMatrix:t,concat:n}=e,u=Ef({typed:r}),p=Gf({typed:r,DenseMatrix:t}),h=ot({typed:r,DenseMatrix:t}),c=Pa({typed:r,matrix:i,concat:n});return r(Pt,Nc({typed:r,equalScalar:a}),c({elop:a,SS:p,DS:u,Ss:h}))}),Nc=te(Pt,["typed","equalScalar"],e=>{var{typed:r,equalScalar:i}=e;return r(Pt,{"any, any":function(t,n){return t===null?n===null:n===null?t===null:t===void 0?n===void 0:n===void 0?t===void 0:i(t,n)}})});ut(function(e){return new e(1).exp()},{hasher:Vt});ut(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:Vt});var La=ut(function(e){return e.acos(-1)},{hasher:Vt});ut(function(e){return La(e).times(2)},{hasher:Vt});function Vt(e){return e[0].precision}function wi(e,r){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,a)}return i}function en(e){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?wi(Object(i),!0).forEach(function(a){Je(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wi(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}var bc="Unit",Ac=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],Cc=te(bc,Ac,e=>{var{on:r,config:i,addScalar:a,subtractScalar:t,multiplyScalar:n,divideScalar:u,pow:p,abs:h,fix:c,round:s,equal:o,isNumeric:f,format:l,number:m,Complex:v,BigNumber:D,Fraction:g}=e,N=m;function E(x,B){if(!(this instanceof E))throw new Error("Constructor must be called with the new operator");if(!(x==null||f(x)||Ar(x)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,B===void 0)this.units=[],this.dimensions=Z.map(Y=>0);else if(typeof B=="string"){var k=E.parse(B);this.units=k.units,this.dimensions=k.dimensions}else if(lr(B)&&B.value===null)this.fixPrefix=B.fixPrefix,this.skipAutomaticSimplification=B.skipAutomaticSimplification,this.dimensions=B.dimensions.slice(0),this.units=B.units.map(Y=>sr({},Y));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(x)}Object.defineProperty(E,"name",{value:"Unit"}),E.prototype.constructor=E,E.prototype.type="Unit",E.prototype.isUnit=!0;var b,w,y;function M(){for(;y===" "||y==="	";)_()}function T(x){return x>="0"&&x<="9"||x==="."}function O(x){return x>="0"&&x<="9"}function _(){w++,y=b.charAt(w)}function R(x){w=x,y=b.charAt(w)}function P(){var x="",B=w;if(y==="+"?_():y==="-"&&(x+=y,_()),!T(y))return R(B),null;if(y==="."){if(x+=y,_(),!O(y))return R(B),null}else{for(;O(y);)x+=y,_();y==="."&&(x+=y,_())}for(;O(y);)x+=y,_();if(y==="E"||y==="e"){var k="",Y=w;if(k+=y,_(),(y==="+"||y==="-")&&(k+=y,_()),!O(y))return R(Y),x;for(x=x+k;O(y);)x+=y,_()}return x}function U(){for(var x="";O(y)||E.isValidAlpha(y);)x+=y,_();var B=x.charAt(0);return E.isValidAlpha(B)?x:null}function z(x){return y===x?(_(),x):null}E.parse=function(x,B){if(B=B||{},b=x,w=-1,y="",typeof b!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var k=new E;k.units=[];var Y=1,ne=!1;_(),M();var ie=P(),fe=null;if(ie){if(i.number==="BigNumber")fe=new D(ie);else if(i.number==="Fraction")try{fe=new g(ie)}catch{fe=parseFloat(ie)}else fe=parseFloat(ie);M(),z("*")?(Y=1,ne=!0):z("/")&&(Y=-1,ne=!0)}for(var he=[],C=1;;){for(M();y==="(";)he.push(Y),C*=Y,Y=1,_(),M();var I=void 0;if(y){var L=y;if(I=U(),I===null)throw new SyntaxError('Unexpected "'+L+'" in "'+b+'" at index '+w.toString())}else break;var q=Q(I);if(q===null)throw new SyntaxError('Unit "'+I+'" not found.');var V=Y*C;if(M(),z("^")){M();var j=P();if(j===null)throw new SyntaxError('In "'+x+'", "^" must be followed by a floating-point number');V*=j}k.units.push({unit:q.unit,prefix:q.prefix,power:V});for(var ee=0;ee<Z.length;ee++)k.dimensions[ee]+=(q.unit.dimensions[ee]||0)*V;for(M();y===")";){if(he.length===0)throw new SyntaxError('Unmatched ")" in "'+b+'" at index '+w.toString());C/=he.pop(),_(),M()}if(ne=!1,z("*")?(Y=1,ne=!0):z("/")?(Y=-1,ne=!0):Y=1,q.unit.base){var K=q.unit.base.key;se.auto[K]={unit:q.unit,prefix:q.prefix}}}if(M(),y)throw new SyntaxError('Could not parse: "'+x+'"');if(ne)throw new SyntaxError('Trailing characters: "'+x+'"');if(he.length!==0)throw new SyntaxError('Unmatched "(" in "'+b+'"');if(k.units.length===0&&!B.allowNoUnits)throw new SyntaxError('"'+x+'" contains no units');return k.value=fe!==void 0?k._normalize(fe):null,k},E.prototype.clone=function(){var x=new E;x.fixPrefix=this.fixPrefix,x.skipAutomaticSimplification=this.skipAutomaticSimplification,x.value=Se(this.value),x.dimensions=this.dimensions.slice(0),x.units=[];for(var B=0;B<this.units.length;B++){x.units[B]={};for(var k in this.units[B])ae(this.units[B],k)&&(x.units[B][k]=this.units[B][k])}return x},E.prototype.valueType=function(){return tr(this.value)},E.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},E.prototype._normalize=function(x){if(x==null||this.units.length===0)return x;for(var B=x,k=E._getNumberConverter(tr(x)),Y=0;Y<this.units.length;Y++){var ne=k(this.units[Y].unit.value),ie=k(this.units[Y].prefix.value),fe=k(this.units[Y].power);B=n(B,p(n(ne,ie),fe))}return B},E.prototype._denormalize=function(x,B){if(x==null||this.units.length===0)return x;for(var k=x,Y=E._getNumberConverter(tr(x)),ne=0;ne<this.units.length;ne++){var ie=Y(this.units[ne].unit.value),fe=Y(this.units[ne].prefix.value),he=Y(this.units[ne].power);k=u(k,p(n(ie,fe),he))}return k};var Q=ut(x=>{if(ae(G,x)){var B=G[x],k=B.prefixes[""];return{unit:B,prefix:k}}for(var Y in G)if(ae(G,Y)&&$u(x,Y)){var ne=G[Y],ie=x.length-Y.length,fe=x.substring(0,ie),he=ae(ne.prefixes,fe)?ne.prefixes[fe]:void 0;if(he!==void 0)return{unit:ne,prefix:he}}return null},{hasher:x=>x[0],limit:100});E.isValuelessUnit=function(x){return Q(x)!==null},E.prototype.hasBase=function(x){if(typeof x=="string"&&(x=F[x]),!x)return!1;for(var B=0;B<Z.length;B++)if(Math.abs((this.dimensions[B]||0)-(x.dimensions[B]||0))>1e-12)return!1;return!0},E.prototype.equalBase=function(x){for(var B=0;B<Z.length;B++)if(Math.abs((this.dimensions[B]||0)-(x.dimensions[B]||0))>1e-12)return!1;return!0},E.prototype.equals=function(x){return this.equalBase(x)&&o(this.value,x.value)},E.prototype.multiply=function(x){for(var B=this.clone(),k=lr(x)?x:new E(x),Y=0;Y<Z.length;Y++)B.dimensions[Y]=(this.dimensions[Y]||0)+(k.dimensions[Y]||0);for(var ne=0;ne<k.units.length;ne++){var ie=en({},k.units[ne]);B.units.push(ie)}if(this.value!==null||k.value!==null){var fe=this.value===null?this._normalize(1):this.value,he=k.value===null?k._normalize(1):k.value;B.value=n(fe,he)}else B.value=null;return lr(x)&&(B.skipAutomaticSimplification=!1),H(B)},E.prototype.divideInto=function(x){return new E(x).divide(this)},E.prototype.divide=function(x){for(var B=this.clone(),k=lr(x)?x:new E(x),Y=0;Y<Z.length;Y++)B.dimensions[Y]=(this.dimensions[Y]||0)-(k.dimensions[Y]||0);for(var ne=0;ne<k.units.length;ne++){var ie=en(en({},k.units[ne]),{},{power:-k.units[ne].power});B.units.push(ie)}if(this.value!==null||k.value!==null){var fe=this.value===null?this._normalize(1):this.value,he=k.value===null?k._normalize(1):k.value;B.value=u(fe,he)}else B.value=null;return lr(x)&&(B.skipAutomaticSimplification=!1),H(B)},E.prototype.pow=function(x){for(var B=this.clone(),k=0;k<Z.length;k++)B.dimensions[k]=(this.dimensions[k]||0)*x;for(var Y=0;Y<B.units.length;Y++)B.units[Y].power*=x;return B.value!==null?B.value=p(B.value,x):B.value=null,B.skipAutomaticSimplification=!1,H(B)};function H(x){return x.equalBase(F.NONE)&&x.value!==null&&!i.predictable?x.value:x}E.prototype.abs=function(){var x=this.clone();if(x.value!==null)if(x._isDerived()||x.units.length===0||x.units[0].unit.offset===0)x.value=h(x.value);else{var B=x._numberConverter(),k=B(x.units[0].unit.value),Y=B(x.units[0].unit.offset),ne=n(k,Y);x.value=t(h(a(x.value,ne)),ne)}for(var ie in x.units)(x.units[ie].unit.name==="VA"||x.units[ie].unit.name==="VAR")&&(x.units[ie].unit=G.W);return x},E.prototype.to=function(x){var B=this.value===null?this._normalize(1):this.value,k;if(typeof x=="string")k=E.parse(x);else if(lr(x))k=x.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(k))throw new Error("Units do not match ('".concat(k.toString(),"' != '").concat(this.toString(),"')"));if(k.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||k.units.length===0||this.units[0].unit.offset===k.units[0].unit.offset)k.value=Se(B);else{var Y=E._getNumberConverter(tr(B)),ne=this.units[0].unit.value,ie=this.units[0].unit.offset,fe=n(ne,ie),he=k.units[0].unit.value,C=k.units[0].unit.offset,I=n(he,C);k.value=a(B,Y(t(fe,I)))}return k.fixPrefix=!0,k.skipAutomaticSimplification=!0,k},E.prototype.toNumber=function(x){return N(this.toNumeric(x))},E.prototype.toNumeric=function(x){var B;return x?B=this.to(x):B=this.clone(),B._isDerived()||B.units.length===0?B._denormalize(B.value):B._denormalize(B.value,B.units[0].prefix.value)},E.prototype.toString=function(){return this.format()},E.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},E.fromJSON=function(x){var B=new E(x.value,x.unit);return B.fixPrefix=x.fixPrefix||!1,B},E.prototype.valueOf=E.prototype.toString,E.prototype.simplify=function(){var x=this.clone(),B=[],k;for(var Y in de)if(ae(de,Y)&&x.hasBase(F[Y])){k=Y;break}if(k==="NONE")x.units=[];else{var ne;if(k&&ae(de,k)&&(ne=de[k]),ne)x.units=[{unit:ne.unit,prefix:ne.prefix,power:1}];else{for(var ie=!1,fe=0;fe<Z.length;fe++){var he=Z[fe];Math.abs(x.dimensions[fe]||0)>1e-12&&(ae(de,he)?B.push({unit:de[he].unit,prefix:de[he].prefix,power:x.dimensions[fe]||0}):ie=!0)}B.length<x.units.length&&!ie&&(x.units=B)}}return x},E.prototype.toSI=function(){for(var x=this.clone(),B=[],k=0;k<Z.length;k++){var Y=Z[k];if(Math.abs(x.dimensions[k]||0)>1e-12)if(ae(se.si,Y))B.push({unit:se.si[Y].unit,prefix:se.si[Y].prefix,power:x.dimensions[k]||0});else throw new Error("Cannot express custom unit "+Y+" in SI units")}return x.units=B,x.fixPrefix=!0,x.skipAutomaticSimplification=!0,this.value!==null?(x.value=null,this.to(x)):x},E.prototype.formatUnits=function(){for(var x="",B="",k=0,Y=0,ne=0;ne<this.units.length;ne++)this.units[ne].power>0?(k++,x+=" "+this.units[ne].prefix.name+this.units[ne].unit.name,Math.abs(this.units[ne].power-1)>1e-15&&(x+="^"+this.units[ne].power)):this.units[ne].power<0&&Y++;if(Y>0)for(var ie=0;ie<this.units.length;ie++)this.units[ie].power<0&&(k>0?(B+=" "+this.units[ie].prefix.name+this.units[ie].unit.name,Math.abs(this.units[ie].power+1)>1e-15&&(B+="^"+-this.units[ie].power)):(B+=" "+this.units[ie].prefix.name+this.units[ie].unit.name,B+="^"+this.units[ie].power));x=x.substr(1),B=B.substr(1),k>1&&Y>0&&(x="("+x+")"),Y>1&&k>0&&(B="("+B+")");var fe=x;return k>0&&Y>0&&(fe+=" / "),fe+=B,fe},E.prototype.format=function(x){var B=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),k=!1;typeof B.value<"u"&&B.value!==null&&Ar(B.value)&&(k=Math.abs(B.value.re)<1e-14);for(var Y in B.units)ae(B.units,Y)&&B.units[Y].unit&&(B.units[Y].unit.name==="VA"&&k?B.units[Y].unit=G.VAR:B.units[Y].unit.name==="VAR"&&!k&&(B.units[Y].unit=G.VA));B.units.length===1&&!B.fixPrefix&&Math.abs(B.units[0].power-Math.round(B.units[0].power))<1e-14&&(B.units[0].prefix=B._bestPrefix());var ne=B._denormalize(B.value),ie=B.value!==null?l(ne,x||{}):"",fe=B.formatUnits();return B.value&&Ar(B.value)&&(ie="("+ie+")"),fe.length>0&&ie.length>0&&(ie+=" "),ie+=fe,ie},E.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var x=this.value!==null?h(this.value):0,B=h(this.units[0].unit.value),k=this.units[0].prefix;if(x===0)return k;var Y=this.units[0].power,ne=Math.log(x/Math.pow(k.value*B,Y))/Math.LN10-1.2;if(ne>-2.200001&&ne<1.800001)return k;ne=Math.abs(ne);var ie=this.units[0].unit.prefixes;for(var fe in ie)if(ae(ie,fe)){var he=ie[fe];if(he.scientific){var C=Math.abs(Math.log(x/Math.pow(he.value*B,Y))/Math.LN10-1.2);(C<ne||C===ne&&he.name.length<k.name.length)&&(k=he,ne=C)}}return k},E.prototype.splitUnit=function(x){for(var B=this.clone(),k=[],Y=0;Y<x.length&&(B=B.to(x[Y]),Y!==x.length-1);Y++){var ne=B.toNumeric(),ie=s(ne),fe=void 0,he=o(ie,ne);he?fe=ie:fe=c(B.toNumeric());var C=new E(fe,x[Y].toString());k.push(C),B=t(B,C)}for(var I=0,L=0;L<k.length;L++)I=a(I,k[L].value);return o(I,this.value)&&(B.value=0),k.push(B),k};var A={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};A.SHORTLONG=sr({},A.SHORT,A.LONG),A.BINARY_SHORT=sr({},A.BINARY_SHORT_SI,A.BINARY_SHORT_IEC),A.BINARY_LONG=sr({},A.BINARY_LONG_SI,A.BINARY_LONG_IEC);var Z=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],F={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ue in F)ae(F,ue)&&(F[ue].key=ue);var ye={},Ae={name:"",base:ye,value:1,offset:0,dimensions:Z.map(x=>0)},G={meter:{name:"meter",base:F.LENGTH,prefixes:A.LONG,value:1,offset:0},inch:{name:"inch",base:F.LENGTH,prefixes:A.NONE,value:.0254,offset:0},foot:{name:"foot",base:F.LENGTH,prefixes:A.NONE,value:.3048,offset:0},yard:{name:"yard",base:F.LENGTH,prefixes:A.NONE,value:.9144,offset:0},mile:{name:"mile",base:F.LENGTH,prefixes:A.NONE,value:1609.344,offset:0},link:{name:"link",base:F.LENGTH,prefixes:A.NONE,value:.201168,offset:0},rod:{name:"rod",base:F.LENGTH,prefixes:A.NONE,value:5.0292,offset:0},chain:{name:"chain",base:F.LENGTH,prefixes:A.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:F.LENGTH,prefixes:A.NONE,value:1e-10,offset:0},m:{name:"m",base:F.LENGTH,prefixes:A.SHORT,value:1,offset:0},in:{name:"in",base:F.LENGTH,prefixes:A.NONE,value:.0254,offset:0},ft:{name:"ft",base:F.LENGTH,prefixes:A.NONE,value:.3048,offset:0},yd:{name:"yd",base:F.LENGTH,prefixes:A.NONE,value:.9144,offset:0},mi:{name:"mi",base:F.LENGTH,prefixes:A.NONE,value:1609.344,offset:0},li:{name:"li",base:F.LENGTH,prefixes:A.NONE,value:.201168,offset:0},rd:{name:"rd",base:F.LENGTH,prefixes:A.NONE,value:5.02921,offset:0},ch:{name:"ch",base:F.LENGTH,prefixes:A.NONE,value:20.1168,offset:0},mil:{name:"mil",base:F.LENGTH,prefixes:A.NONE,value:254e-7,offset:0},m2:{name:"m2",base:F.SURFACE,prefixes:A.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:F.SURFACE,prefixes:A.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:F.SURFACE,prefixes:A.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:F.SURFACE,prefixes:A.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:F.SURFACE,prefixes:A.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:F.SURFACE,prefixes:A.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:F.SURFACE,prefixes:A.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:F.SURFACE,prefixes:A.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:F.SURFACE,prefixes:A.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:F.SURFACE,prefixes:A.NONE,value:1e4,offset:0},m3:{name:"m3",base:F.VOLUME,prefixes:A.CUBIC,value:1,offset:0},L:{name:"L",base:F.VOLUME,prefixes:A.SHORT,value:.001,offset:0},l:{name:"l",base:F.VOLUME,prefixes:A.SHORT,value:.001,offset:0},litre:{name:"litre",base:F.VOLUME,prefixes:A.LONG,value:.001,offset:0},cuin:{name:"cuin",base:F.VOLUME,prefixes:A.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:F.VOLUME,prefixes:A.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:F.VOLUME,prefixes:A.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:F.VOLUME,prefixes:A.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:F.VOLUME,prefixes:A.NONE,value:15e-6,offset:0},drop:{name:"drop",base:F.VOLUME,prefixes:A.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:F.VOLUME,prefixes:A.NONE,value:5e-8,offset:0},minim:{name:"minim",base:F.VOLUME,prefixes:A.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:F.VOLUME,prefixes:A.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:F.VOLUME,prefixes:A.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:F.VOLUME,prefixes:A.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:F.VOLUME,prefixes:A.NONE,value:1e-6,offset:0},cup:{name:"cup",base:F.VOLUME,prefixes:A.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:F.VOLUME,prefixes:A.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:F.VOLUME,prefixes:A.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:F.VOLUME,prefixes:A.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:F.VOLUME,prefixes:A.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:F.VOLUME,prefixes:A.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:F.VOLUME,prefixes:A.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:F.VOLUME,prefixes:A.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:F.VOLUME,prefixes:A.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:F.VOLUME,prefixes:A.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:F.VOLUME,prefixes:A.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:F.VOLUME,prefixes:A.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:F.VOLUME,prefixes:A.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:F.VOLUME,prefixes:A.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:F.VOLUME,prefixes:A.NONE,value:.1173478,offset:0},obl:{name:"obl",base:F.VOLUME,prefixes:A.NONE,value:.1589873,offset:0},g:{name:"g",base:F.MASS,prefixes:A.SHORT,value:.001,offset:0},gram:{name:"gram",base:F.MASS,prefixes:A.LONG,value:.001,offset:0},ton:{name:"ton",base:F.MASS,prefixes:A.SHORT,value:907.18474,offset:0},t:{name:"t",base:F.MASS,prefixes:A.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:F.MASS,prefixes:A.LONG,value:1e3,offset:0},grain:{name:"grain",base:F.MASS,prefixes:A.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:F.MASS,prefixes:A.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:F.MASS,prefixes:A.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:F.MASS,prefixes:A.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:F.MASS,prefixes:A.NONE,value:45.359237,offset:0},stick:{name:"stick",base:F.MASS,prefixes:A.NONE,value:.115,offset:0},stone:{name:"stone",base:F.MASS,prefixes:A.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:F.MASS,prefixes:A.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:F.MASS,prefixes:A.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:F.MASS,prefixes:A.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:F.MASS,prefixes:A.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:F.MASS,prefixes:A.NONE,value:45.359237,offset:0},s:{name:"s",base:F.TIME,prefixes:A.SHORT,value:1,offset:0},min:{name:"min",base:F.TIME,prefixes:A.NONE,value:60,offset:0},h:{name:"h",base:F.TIME,prefixes:A.NONE,value:3600,offset:0},second:{name:"second",base:F.TIME,prefixes:A.LONG,value:1,offset:0},sec:{name:"sec",base:F.TIME,prefixes:A.LONG,value:1,offset:0},minute:{name:"minute",base:F.TIME,prefixes:A.NONE,value:60,offset:0},hour:{name:"hour",base:F.TIME,prefixes:A.NONE,value:3600,offset:0},day:{name:"day",base:F.TIME,prefixes:A.NONE,value:86400,offset:0},week:{name:"week",base:F.TIME,prefixes:A.NONE,value:7*86400,offset:0},month:{name:"month",base:F.TIME,prefixes:A.NONE,value:2629800,offset:0},year:{name:"year",base:F.TIME,prefixes:A.NONE,value:31557600,offset:0},decade:{name:"decade",base:F.TIME,prefixes:A.NONE,value:315576e3,offset:0},century:{name:"century",base:F.TIME,prefixes:A.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:F.TIME,prefixes:A.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:F.FREQUENCY,prefixes:A.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:F.FREQUENCY,prefixes:A.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:F.ANGLE,prefixes:A.SHORT,value:1,offset:0},radian:{name:"radian",base:F.ANGLE,prefixes:A.LONG,value:1,offset:0},deg:{name:"deg",base:F.ANGLE,prefixes:A.SHORT,value:null,offset:0},degree:{name:"degree",base:F.ANGLE,prefixes:A.LONG,value:null,offset:0},grad:{name:"grad",base:F.ANGLE,prefixes:A.SHORT,value:null,offset:0},gradian:{name:"gradian",base:F.ANGLE,prefixes:A.LONG,value:null,offset:0},cycle:{name:"cycle",base:F.ANGLE,prefixes:A.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:F.ANGLE,prefixes:A.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:F.ANGLE,prefixes:A.NONE,value:null,offset:0},A:{name:"A",base:F.CURRENT,prefixes:A.SHORT,value:1,offset:0},ampere:{name:"ampere",base:F.CURRENT,prefixes:A.LONG,value:1,offset:0},K:{name:"K",base:F.TEMPERATURE,prefixes:A.SHORT,value:1,offset:0},degC:{name:"degC",base:F.TEMPERATURE,prefixes:A.SHORT,value:1,offset:273.15},degF:{name:"degF",base:F.TEMPERATURE,prefixes:A.SHORT,value:new g(5,9),offset:459.67},degR:{name:"degR",base:F.TEMPERATURE,prefixes:A.SHORT,value:new g(5,9),offset:0},kelvin:{name:"kelvin",base:F.TEMPERATURE,prefixes:A.LONG,value:1,offset:0},celsius:{name:"celsius",base:F.TEMPERATURE,prefixes:A.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:F.TEMPERATURE,prefixes:A.LONG,value:new g(5,9),offset:459.67},rankine:{name:"rankine",base:F.TEMPERATURE,prefixes:A.LONG,value:new g(5,9),offset:0},mol:{name:"mol",base:F.AMOUNT_OF_SUBSTANCE,prefixes:A.SHORT,value:1,offset:0},mole:{name:"mole",base:F.AMOUNT_OF_SUBSTANCE,prefixes:A.LONG,value:1,offset:0},cd:{name:"cd",base:F.LUMINOUS_INTENSITY,prefixes:A.SHORT,value:1,offset:0},candela:{name:"candela",base:F.LUMINOUS_INTENSITY,prefixes:A.LONG,value:1,offset:0},N:{name:"N",base:F.FORCE,prefixes:A.SHORT,value:1,offset:0},newton:{name:"newton",base:F.FORCE,prefixes:A.LONG,value:1,offset:0},dyn:{name:"dyn",base:F.FORCE,prefixes:A.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:F.FORCE,prefixes:A.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:F.FORCE,prefixes:A.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:F.FORCE,prefixes:A.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:F.FORCE,prefixes:A.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:F.FORCE,prefixes:A.NONE,value:9.80665,offset:0},J:{name:"J",base:F.ENERGY,prefixes:A.SHORT,value:1,offset:0},joule:{name:"joule",base:F.ENERGY,prefixes:A.LONG,value:1,offset:0},erg:{name:"erg",base:F.ENERGY,prefixes:A.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:F.ENERGY,prefixes:A.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:F.ENERGY,prefixes:A.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:F.ENERGY,prefixes:A.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:F.ENERGY,prefixes:A.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:F.POWER,prefixes:A.SHORT,value:1,offset:0},watt:{name:"watt",base:F.POWER,prefixes:A.LONG,value:1,offset:0},hp:{name:"hp",base:F.POWER,prefixes:A.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:F.POWER,prefixes:A.SHORT,value:v.I,offset:0},VA:{name:"VA",base:F.POWER,prefixes:A.SHORT,value:1,offset:0},Pa:{name:"Pa",base:F.PRESSURE,prefixes:A.SHORT,value:1,offset:0},psi:{name:"psi",base:F.PRESSURE,prefixes:A.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:F.PRESSURE,prefixes:A.NONE,value:101325,offset:0},bar:{name:"bar",base:F.PRESSURE,prefixes:A.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:F.PRESSURE,prefixes:A.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:F.PRESSURE,prefixes:A.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:F.PRESSURE,prefixes:A.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:F.PRESSURE,prefixes:A.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:F.ELECTRIC_CHARGE,prefixes:A.LONG,value:1,offset:0},C:{name:"C",base:F.ELECTRIC_CHARGE,prefixes:A.SHORT,value:1,offset:0},farad:{name:"farad",base:F.ELECTRIC_CAPACITANCE,prefixes:A.LONG,value:1,offset:0},F:{name:"F",base:F.ELECTRIC_CAPACITANCE,prefixes:A.SHORT,value:1,offset:0},volt:{name:"volt",base:F.ELECTRIC_POTENTIAL,prefixes:A.LONG,value:1,offset:0},V:{name:"V",base:F.ELECTRIC_POTENTIAL,prefixes:A.SHORT,value:1,offset:0},ohm:{name:"ohm",base:F.ELECTRIC_RESISTANCE,prefixes:A.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:F.ELECTRIC_INDUCTANCE,prefixes:A.LONG,value:1,offset:0},H:{name:"H",base:F.ELECTRIC_INDUCTANCE,prefixes:A.SHORT,value:1,offset:0},siemens:{name:"siemens",base:F.ELECTRIC_CONDUCTANCE,prefixes:A.LONG,value:1,offset:0},S:{name:"S",base:F.ELECTRIC_CONDUCTANCE,prefixes:A.SHORT,value:1,offset:0},weber:{name:"weber",base:F.MAGNETIC_FLUX,prefixes:A.LONG,value:1,offset:0},Wb:{name:"Wb",base:F.MAGNETIC_FLUX,prefixes:A.SHORT,value:1,offset:0},tesla:{name:"tesla",base:F.MAGNETIC_FLUX_DENSITY,prefixes:A.LONG,value:1,offset:0},T:{name:"T",base:F.MAGNETIC_FLUX_DENSITY,prefixes:A.SHORT,value:1,offset:0},b:{name:"b",base:F.BIT,prefixes:A.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:F.BIT,prefixes:A.BINARY_LONG,value:1,offset:0},B:{name:"B",base:F.BIT,prefixes:A.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:F.BIT,prefixes:A.BINARY_LONG,value:8,offset:0}},_e={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function Ie(x){if(x.number==="BigNumber"){var B=La(D);G.rad.value=new D(1),G.deg.value=B.div(180),G.grad.value=B.div(200),G.cycle.value=B.times(2),G.arcsec.value=B.div(648e3),G.arcmin.value=B.div(10800)}else G.rad.value=1,G.deg.value=Math.PI/180,G.grad.value=Math.PI/200,G.cycle.value=Math.PI*2,G.arcsec.value=Math.PI/648e3,G.arcmin.value=Math.PI/10800;G.radian.value=G.rad.value,G.degree.value=G.deg.value,G.gradian.value=G.grad.value}Ie(i),r&&r("config",function(x,B){x.number!==B.number&&Ie(x)});var se={si:{NONE:{unit:Ae,prefix:A.NONE[""]},LENGTH:{unit:G.m,prefix:A.SHORT[""]},MASS:{unit:G.g,prefix:A.SHORT.k},TIME:{unit:G.s,prefix:A.SHORT[""]},CURRENT:{unit:G.A,prefix:A.SHORT[""]},TEMPERATURE:{unit:G.K,prefix:A.SHORT[""]},LUMINOUS_INTENSITY:{unit:G.cd,prefix:A.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:G.mol,prefix:A.SHORT[""]},ANGLE:{unit:G.rad,prefix:A.SHORT[""]},BIT:{unit:G.bits,prefix:A.SHORT[""]},FORCE:{unit:G.N,prefix:A.SHORT[""]},ENERGY:{unit:G.J,prefix:A.SHORT[""]},POWER:{unit:G.W,prefix:A.SHORT[""]},PRESSURE:{unit:G.Pa,prefix:A.SHORT[""]},ELECTRIC_CHARGE:{unit:G.C,prefix:A.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:G.F,prefix:A.SHORT[""]},ELECTRIC_POTENTIAL:{unit:G.V,prefix:A.SHORT[""]},ELECTRIC_RESISTANCE:{unit:G.ohm,prefix:A.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:G.H,prefix:A.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:G.S,prefix:A.SHORT[""]},MAGNETIC_FLUX:{unit:G.Wb,prefix:A.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:G.T,prefix:A.SHORT[""]},FREQUENCY:{unit:G.Hz,prefix:A.SHORT[""]}}};se.cgs=JSON.parse(JSON.stringify(se.si)),se.cgs.LENGTH={unit:G.m,prefix:A.SHORT.c},se.cgs.MASS={unit:G.g,prefix:A.SHORT[""]},se.cgs.FORCE={unit:G.dyn,prefix:A.SHORT[""]},se.cgs.ENERGY={unit:G.erg,prefix:A.NONE[""]},se.us=JSON.parse(JSON.stringify(se.si)),se.us.LENGTH={unit:G.ft,prefix:A.NONE[""]},se.us.MASS={unit:G.lbm,prefix:A.NONE[""]},se.us.TEMPERATURE={unit:G.degF,prefix:A.NONE[""]},se.us.FORCE={unit:G.lbf,prefix:A.NONE[""]},se.us.ENERGY={unit:G.BTU,prefix:A.BTU[""]},se.us.POWER={unit:G.hp,prefix:A.NONE[""]},se.us.PRESSURE={unit:G.psi,prefix:A.NONE[""]},se.auto=JSON.parse(JSON.stringify(se.si));var de=se.auto;E.setUnitSystem=function(x){if(ae(se,x))de=se[x];else throw new Error("Unit system "+x+" does not exist. Choices are: "+Object.keys(se).join(", "))},E.getUnitSystem=function(){for(var x in se)if(ae(se,x)&&se[x]===de)return x},E.typeConverters={BigNumber:function(B){return B!=null&&B.isFraction?new D(B.n).div(B.d).times(B.s):new D(B+"")},Fraction:function(B){return new g(B)},Complex:function(B){return B},number:function(B){return B!=null&&B.isFraction?m(B):B}},E.prototype._numberConverter=function(){var x=E.typeConverters[this.valueType()];if(x)return x;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},E._getNumberConverter=function(x){if(!E.typeConverters[x])throw new TypeError('Unsupported type "'+x+'"');return E.typeConverters[x]};for(var Ge in G)if(ae(G,Ge)){var Ce=G[Ge];Ce.dimensions=Ce.base.dimensions}for(var Ee in _e)if(ae(_e,Ee)){var Ve=G[_e[Ee]],$e={};for(var Ne in Ve)ae(Ve,Ne)&&($e[Ne]=Ve[Ne]);$e.name=Ee,G[Ee]=$e}E.isValidAlpha=function(B){return/^[a-zA-Z]$/.test(B)};function ze(x){for(var B=0;B<x.length;B++){if(y=x.charAt(B),B===0&&!E.isValidAlpha(y))throw new Error('Invalid unit name (must begin with alpha character): "'+x+'"');if(B>0&&!(E.isValidAlpha(y)||O(y)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+x+'"')}}return E.createUnit=function(x,B){if(typeof x!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(B&&B.override){for(var k in x)if(ae(x,k)&&E.deleteUnit(k),x[k].aliases)for(var Y=0;Y<x[k].aliases.length;Y++)E.deleteUnit(x[k].aliases[Y])}var ne;for(var ie in x)ae(x,ie)&&(ne=E.createUnitSingle(ie,x[ie]));return ne},E.createUnitSingle=function(x,B){if((typeof B>"u"||B===null)&&(B={}),typeof x!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(ae(G,x))throw new Error('Cannot create unit "'+x+'": a unit with that name already exists');ze(x);var k=null,Y=[],ne=0,ie,fe,he;if(B&&B.type==="Unit")k=B.clone();else if(typeof B=="string")B!==""&&(ie=B);else if(typeof B=="object")ie=B.definition,fe=B.prefixes,ne=B.offset,he=B.baseName,B.aliases&&(Y=B.aliases.valueOf());else throw new TypeError('Cannot create unit "'+x+'" from "'+B.toString()+'": expecting "string" or "Unit" or "Object"');if(Y){for(var C=0;C<Y.length;C++)if(ae(G,Y[C]))throw new Error('Cannot create alias "'+Y[C]+'": a unit with that name already exists')}if(ie&&typeof ie=="string"&&!k)try{k=E.parse(ie,{allowNoUnits:!0})}catch(d){throw d.message='Could not create unit "'+x+'" from "'+ie+'": '+d.message,d}else ie&&ie.type==="Unit"&&(k=ie.clone());Y=Y||[],ne=ne||0,fe&&fe.toUpperCase?fe=A[fe.toUpperCase()]||A.NONE:fe=A.NONE;var I={};if(k){I={name:x,value:k.value,dimensions:k.dimensions.slice(0),prefixes:fe,offset:ne};var j=!1;for(var ee in F)if(ae(F,ee)){for(var K=!0,re=0;re<Z.length;re++)if(Math.abs((I.dimensions[re]||0)-(F[ee].dimensions[re]||0))>1e-12){K=!1;break}if(K){j=!0,I.base=F[ee];break}}if(!j){he=he||x+"_STUFF";var X={dimensions:k.dimensions.slice(0)};X.key=he,F[he]=X,de[he]={unit:I,prefix:A.NONE[""]},I.base=F[he]}}else{if(he=he||x+"_STUFF",Z.indexOf(he)>=0)throw new Error('Cannot create new base unit "'+x+'": a base unit with that name already exists (and cannot be overridden)');Z.push(he);for(var L in F)ae(F,L)&&(F[L].dimensions[Z.length-1]=0);for(var q={dimensions:[]},V=0;V<Z.length;V++)q.dimensions[V]=0;q.dimensions[Z.length-1]=1,q.key=he,F[he]=q,I={name:x,value:1,dimensions:F[he].dimensions.slice(0),prefixes:fe,offset:ne,base:F[he]},de[he]={unit:I,prefix:A.NONE[""]}}E.UNITS[x]=I;for(var be=0;be<Y.length;be++){var Fe=Y[be],pe={};for(var je in I)ae(I,je)&&(pe[je]=I[je]);pe.name=Fe,E.UNITS[Fe]=pe}return delete Q.cache,new E(null,x)},E.deleteUnit=function(x){delete E.UNITS[x],delete Q.cache},E.PREFIXES=A,E.BASE_DIMENSIONS=Z,E.BASE_UNITS=F,E.UNIT_SYSTEMS=se,E.UNITS=G,E},{isClass:!0}),yi="add",Fc=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],xc=te(yi,Fc,e=>{var{typed:r,matrix:i,addScalar:a,equalScalar:t,DenseMatrix:n,SparseMatrix:u,concat:p}=e,h=Tf({typed:r}),c=_f({typed:r,equalScalar:t}),s=Pf({typed:r,DenseMatrix:n}),o=Pa({typed:r,matrix:i,concat:p});return r(yi,{"any, any":a,"any, any, ...any":r.referToSelf(f=>(l,m,v)=>{for(var D=f(l,m),g=0;g<v.length;g++)D=f(D,v[g]);return D})},o({elop:a,DS:h,SS:c,Ss:s}))}),Ni="dot",Sc=["typed","addScalar","multiplyScalar","conj","size"],Mc=te(Ni,Sc,e=>{var{typed:r,addScalar:i,multiplyScalar:a,conj:t,size:n}=e;return r(Ni,{"Array | DenseMatrix, Array | DenseMatrix":p,"SparseMatrix, SparseMatrix":h});function u(s,o){var f=c(s),l=c(o),m,v;if(f.length===1)m=f[0];else if(f.length===2&&f[1]===1)m=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(l.length===1)v=l[0];else if(l.length===2&&l[1]===1)v=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(m!==v)throw new RangeError("Vectors must have equal length ("+m+" != "+v+")");if(m===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function p(s,o){var f=u(s,o),l=ke(s)?s._data:s,m=ke(s)?s._datatype||s.getDataType():void 0,v=ke(o)?o._data:o,D=ke(o)?o._datatype||o.getDataType():void 0,g=c(s).length===2,N=c(o).length===2,E=i,b=a;if(m&&D&&m===D&&typeof m=="string"&&m!=="mixed"){var w=m;E=r.find(i,[w,w]),b=r.find(a,[w,w])}if(!g&&!N){for(var y=b(t(l[0]),v[0]),M=1;M<f;M++)y=E(y,b(t(l[M]),v[M]));return y}if(!g&&N){for(var T=b(t(l[0]),v[0][0]),O=1;O<f;O++)T=E(T,b(t(l[O]),v[O][0]));return T}if(g&&!N){for(var _=b(t(l[0][0]),v[0]),R=1;R<f;R++)_=E(_,b(t(l[R][0]),v[R]));return _}if(g&&N){for(var P=b(t(l[0][0]),v[0][0]),U=1;U<f;U++)P=E(P,b(t(l[U][0]),v[U][0]));return P}}function h(s,o){u(s,o);for(var f=s._index,l=s._values,m=o._index,v=o._values,D=0,g=i,N=a,E=0,b=0;E<f.length&&b<m.length;){var w=f[E],y=m[b];if(w<y){E++;continue}if(w>y){b++;continue}w===y&&(D=g(D,N(l[E],v[b])),E++,b++)}return D}function c(s){return ke(s)?s.size():n(s)}}),$a=new Set(["end"]),Tc="Node",Oc=["mathWithTransform"],Bc=te(Tc,Oc,e=>{var{mathWithTransform:r}=e;function i(t){for(var n of[...$a])if(t.has(n))throw new Error('Scope contains an illegal symbol, "'+n+'" is a reserved keyword')}class a{get type(){return"Node"}get isNode(){return!0}evaluate(n){return this.compile().evaluate(n)}compile(){var n=this._compile(r,{}),u={},p=null;function h(c){var s=Qu(c);return i(s),n(s,u,p)}return{evaluate:h}}_compile(n,u){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(n){throw new Error("Cannot run forEach on a Node interface")}map(n){throw new Error("Cannot run map on a Node interface")}_ifNode(n){if(!qe(n))throw new TypeError("Callback function must return a Node");return n}traverse(n){n(this,null,null);function u(p,h){p.forEach(function(c,s,o){h(c,s,o),u(c,h)})}u(this,n)}transform(n){function u(p,h,c){var s=n(p,h,c);return s!==p?s:p.map(u)}return u(this,null,null)}filter(n){var u=[];return this.traverse(function(p,h,c){n(p,h,c)&&u.push(p)}),u}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(n){return n.cloneDeep()})}equals(n){return n?this.type===n.type&&Or(this,n):!1}toString(n){var u=this._getCustomString(n);return typeof u<"u"?u:this._toString(n)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(n){var u=this._getCustomString(n);return typeof u<"u"?u:this._toHTML(n)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(n){var u=this._getCustomString(n);return typeof u<"u"?u:this._toTex(n)}_toTex(n){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(n){if(n&&typeof n=="object")switch(typeof n.handler){case"object":case"undefined":return;case"function":return n.handler(this,n);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return a},{isClass:!0,isNode:!0});function Ua(e){return e&&e.isIndexError?new wr(e.index+1,e.min+1,e.max!==void 0?e.max+1:void 0):e}function za(e){var{subset:r}=e;return function(a,t){try{if(Array.isArray(a))return r(a,t);if(a&&typeof a.subset=="function")return a.subset(t);if(typeof a=="string")return r(a,t);if(typeof a=="object"){if(!t.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return nr(a,t.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw Ua(n)}}}var ht="AccessorNode",_c=["subset","Node"],Ic=te(ht,_c,e=>{var{subset:r,Node:i}=e,a=za({subset:r});function t(u){return!(Tr(u)||Kr(u)||vr(u)||Ut(u)||wn(u)||zr(u)||ur(u))}class n extends i{constructor(p,h){if(super(),!qe(p))throw new TypeError('Node expected for parameter "object"');if(!nt(h))throw new TypeError('IndexNode expected for parameter "index"');this.object=p,this.index=h}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return ht}get isAccessorNode(){return!0}_compile(p,h){var c=this.object._compile(p,h),s=this.index._compile(p,h);if(this.index.isObjectProperty()){var o=this.index.getObjectProperty();return function(l,m,v){return nr(c(l,m,v),o)}}else return function(l,m,v){var D=c(l,m,v),g=s(l,m,D);return a(D,g)}}forEach(p){p(this.object,"object",this),p(this.index,"index",this)}map(p){return new n(this._ifNode(p(this.object,"object",this)),this._ifNode(p(this.index,"index",this)))}clone(){return new n(this.object,this.index)}_toString(p){var h=this.object.toString(p);return t(this.object)&&(h="("+h+")"),h+this.index.toString(p)}_toHTML(p){var h=this.object.toHTML(p);return t(this.object)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),h+this.index.toHTML(p)}_toTex(p){var h=this.object.toTex(p);return t(this.object)&&(h="\\left(' + object + '\\right)"),h+this.index.toTex(p)}toJSON(){return{mathjs:ht,object:this.object,index:this.index}}static fromJSON(p){return new n(p.object,p.index)}}return Je(n,"name",ht),n},{isClass:!0,isNode:!0}),pt="ArrayNode",Rc=["Node"],Pc=te(pt,Rc,e=>{var{Node:r}=e;class i extends r{constructor(t){if(super(),this.items=t||[],!Array.isArray(this.items)||!this.items.every(qe))throw new TypeError("Array containing Nodes expected")}get type(){return pt}get isArrayNode(){return!0}_compile(t,n){var u=Cr(this.items,function(c){return c._compile(t,n)}),p=t.config.matrix!=="Array";if(p){var h=t.matrix;return function(s,o,f){return h(Cr(u,function(l){return l(s,o,f)}))}}else return function(s,o,f){return Cr(u,function(l){return l(s,o,f)})}}forEach(t){for(var n=0;n<this.items.length;n++){var u=this.items[n];t(u,"items["+n+"]",this)}}map(t){for(var n=[],u=0;u<this.items.length;u++)n[u]=this._ifNode(t(this.items[u],"items["+u+"]",this));return new i(n)}clone(){return new i(this.items.slice(0))}_toString(t){var n=this.items.map(function(u){return u.toString(t)});return"["+n.join(", ")+"]"}toJSON(){return{mathjs:pt,items:this.items}}static fromJSON(t){return new i(t.items)}_toHTML(t){var n=this.items.map(function(u){return u.toHTML(t)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(t){function n(u,p){var h=u.some(Kr)&&!u.every(Kr),c=p||h,s=c?"&":"\\\\",o=u.map(function(f){return f.items?n(f.items,!p):f.toTex(t)}).join(s);return h||!c||c&&!p?"\\begin{bmatrix}"+o+"\\end{bmatrix}":o}return n(this.items,!1)}}return Je(i,"name",pt),i},{isClass:!0,isNode:!0});function Lc(e){var{subset:r,matrix:i}=e;return function(t,n,u){try{if(Array.isArray(t)){var p=i(t).subset(n,u).valueOf();return p.forEach((h,c)=>{t[c]=h}),t}else{if(t&&typeof t.subset=="function")return t.subset(n,u);if(typeof t=="string")return r(t,n,u);if(typeof t=="object"){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Qr(t,n.getObjectProperty(),u),t}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(h){throw Ua(h)}}}var mr=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function vt(e,r){if(!r||r!=="auto")return e;for(var i=e;zr(i);)i=i.content;return i}function Me(e,r,i,a){var t=e;r!=="keep"&&(t=e.getContent());for(var n=t.getIdentifier(),u=null,p=0;p<mr.length;p++)if(n in mr[p]){u=p;break}if(n==="OperatorNode:multiply"&&t.implicit&&i!=="show"){var h=vt(t.args[0],r);!(vr(h)&&a&&a.getIdentifier()==="OperatorNode:divide"&&tn(vt(a.args[0],r)))&&!(h.getIdentifier()==="OperatorNode:divide"&&tn(vt(h.args[0],r))&&vr(vt(h.args[1])))&&(u+=1)}return u}function Wr(e,r){var i=e;r!=="keep"&&(i=e.getContent());var a=i.getIdentifier(),t=Me(i,r);if(t===null)return null;var n=mr[t][a];if(ae(n,"associativity")){if(n.associativity==="left")return"left";if(n.associativity==="right")return"right";throw Error("'"+a+"' has the invalid associativity '"+n.associativity+"'.")}return null}function rn(e,r,i){var a=i!=="keep"?e.getContent():e,t=i!=="keep"?e.getContent():r,n=a.getIdentifier(),u=t.getIdentifier(),p=Me(a,i);if(p===null)return null;var h=mr[p][n];if(ae(h,"associativeWith")&&h.associativeWith instanceof Array){for(var c=0;c<h.associativeWith.length;c++)if(h.associativeWith[c]===u)return!0;return!1}return null}var mt="AssignmentNode",$c=["subset","?matrix","Node"],Uc=te(mt,$c,e=>{var{subset:r,matrix:i,Node:a}=e,t=za({subset:r}),n=Lc({subset:r,matrix:i});function u(h,c,s){c||(c="keep");var o=Me(h,c,s),f=Me(h.value,c,s);return c==="all"||f!==null&&f<=o}class p extends a{constructor(c,s,o){if(super(),this.object=c,this.index=o?s:null,this.value=o||s,!ur(c)&&!Tr(c))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(ur(c)&&c.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!nt(this.index))throw new TypeError('IndexNode expected as "index"');if(!qe(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return mt}get isAssignmentNode(){return!0}_compile(c,s){var o=this.object._compile(c,s),f=this.index?this.index._compile(c,s):null,l=this.value._compile(c,s),m=this.object.name;if(this.index)if(this.index.isObjectProperty()){var v=this.index.getObjectProperty();return function(b,w,y){var M=o(b,w,y),T=l(b,w,y);return Qr(M,v,T),T}}else{if(ur(this.object))return function(b,w,y){var M=o(b,w,y),T=l(b,w,y),O=f(b,w,M);return b.set(m,n(M,O,T)),T};var D=this.object.object._compile(c,s);if(this.object.index.isObjectProperty()){var g=this.object.index.getObjectProperty();return function(b,w,y){var M=D(b,w,y),T=nr(M,g),O=f(b,w,T),_=l(b,w,y);return Qr(M,g,n(T,O,_)),_}}else{var N=this.object.index._compile(c,s);return function(b,w,y){var M=D(b,w,y),T=N(b,w,M),O=t(M,T),_=f(b,w,O),R=l(b,w,y);return n(M,T,n(O,_,R)),R}}}else{if(!ur(this.object))throw new TypeError("SymbolNode expected as object");return function(b,w,y){var M=l(b,w,y);return b.set(m,M),M}}}forEach(c){c(this.object,"object",this),this.index&&c(this.index,"index",this),c(this.value,"value",this)}map(c){var s=this._ifNode(c(this.object,"object",this)),o=this.index?this._ifNode(c(this.index,"index",this)):null,f=this._ifNode(c(this.value,"value",this));return new p(s,o,f)}clone(){return new p(this.object,this.index,this.value)}_toString(c){var s=this.object.toString(c),o=this.index?this.index.toString(c):"",f=this.value.toString(c);return u(this,c&&c.parenthesis,c&&c.implicit)&&(f="("+f+")"),s+o+" = "+f}toJSON(){return{mathjs:mt,object:this.object,index:this.index,value:this.value}}static fromJSON(c){return new p(c.object,c.index,c.value)}_toHTML(c){var s=this.object.toHTML(c),o=this.index?this.index.toHTML(c):"",f=this.value.toHTML(c);return u(this,c&&c.parenthesis,c&&c.implicit)&&(f='<span class="math-paranthesis math-round-parenthesis">(</span>'+f+'<span class="math-paranthesis math-round-parenthesis">)</span>'),s+o+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+f}_toTex(c){var s=this.object.toTex(c),o=this.index?this.index.toTex(c):"",f=this.value.toTex(c);return u(this,c&&c.parenthesis,c&&c.implicit)&&(f="\\left(".concat(f,"\\right)")),s+o+"="+f}}return Je(p,"name",mt),p},{isClass:!0,isNode:!0}),dt="BlockNode",zc=["ResultSet","Node"],kc=te(dt,zc,e=>{var{ResultSet:r,Node:i}=e;class a extends i{constructor(n){if(super(),!Array.isArray(n))throw new Error("Array expected");this.blocks=n.map(function(u){var p=u&&u.node,h=u&&u.visible!==void 0?u.visible:!0;if(!qe(p))throw new TypeError('Property "node" must be a Node');if(typeof h!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:p,visible:h}})}get type(){return dt}get isBlockNode(){return!0}_compile(n,u){var p=Cr(this.blocks,function(h){return{evaluate:h.node._compile(n,u),visible:h.visible}});return function(c,s,o){var f=[];return aa(p,function(m){var v=m.evaluate(c,s,o);m.visible&&f.push(v)}),new r(f)}}forEach(n){for(var u=0;u<this.blocks.length;u++)n(this.blocks[u].node,"blocks["+u+"].node",this)}map(n){for(var u=[],p=0;p<this.blocks.length;p++){var h=this.blocks[p],c=this._ifNode(n(h.node,"blocks["+p+"].node",this));u[p]={node:c,visible:h.visible}}return new a(u)}clone(){var n=this.blocks.map(function(u){return{node:u.node,visible:u.visible}});return new a(n)}_toString(n){return this.blocks.map(function(u){return u.node.toString(n)+(u.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:dt,blocks:this.blocks}}static fromJSON(n){return new a(n.blocks)}_toHTML(n){return this.blocks.map(function(u){return u.node.toHTML(n)+(u.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(n){return this.blocks.map(function(u){return u.node.toTex(n)+(u.visible?"":";")}).join(`\\;\\;
`)}}return Je(a,"name",dt),a},{isClass:!0,isNode:!0}),gt="ConditionalNode",qc=["Node"],Hc=te(gt,qc,e=>{var{Node:r}=e;function i(t){if(typeof t=="number"||typeof t=="boolean"||typeof t=="string")return!!t;if(t){if(Le(t))return!t.isZero();if(Ar(t))return!!(t.re||t.im);if(lr(t))return!!t.value}if(t==null)return!1;throw new TypeError('Unsupported type of condition "'+tr(t)+'"')}class a extends r{constructor(n,u,p){if(super(),!qe(n))throw new TypeError("Parameter condition must be a Node");if(!qe(u))throw new TypeError("Parameter trueExpr must be a Node");if(!qe(p))throw new TypeError("Parameter falseExpr must be a Node");this.condition=n,this.trueExpr=u,this.falseExpr=p}get type(){return gt}get isConditionalNode(){return!0}_compile(n,u){var p=this.condition._compile(n,u),h=this.trueExpr._compile(n,u),c=this.falseExpr._compile(n,u);return function(o,f,l){return i(p(o,f,l))?h(o,f,l):c(o,f,l)}}forEach(n){n(this.condition,"condition",this),n(this.trueExpr,"trueExpr",this),n(this.falseExpr,"falseExpr",this)}map(n){return new a(this._ifNode(n(this.condition,"condition",this)),this._ifNode(n(this.trueExpr,"trueExpr",this)),this._ifNode(n(this.falseExpr,"falseExpr",this)))}clone(){return new a(this.condition,this.trueExpr,this.falseExpr)}_toString(n){var u=n&&n.parenthesis?n.parenthesis:"keep",p=Me(this,u,n&&n.implicit),h=this.condition.toString(n),c=Me(this.condition,u,n&&n.implicit);(u==="all"||this.condition.type==="OperatorNode"||c!==null&&c<=p)&&(h="("+h+")");var s=this.trueExpr.toString(n),o=Me(this.trueExpr,u,n&&n.implicit);(u==="all"||this.trueExpr.type==="OperatorNode"||o!==null&&o<=p)&&(s="("+s+")");var f=this.falseExpr.toString(n),l=Me(this.falseExpr,u,n&&n.implicit);return(u==="all"||this.falseExpr.type==="OperatorNode"||l!==null&&l<=p)&&(f="("+f+")"),h+" ? "+s+" : "+f}toJSON(){return{mathjs:gt,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(n){return new a(n.condition,n.trueExpr,n.falseExpr)}_toHTML(n){var u=n&&n.parenthesis?n.parenthesis:"keep",p=Me(this,u,n&&n.implicit),h=this.condition.toHTML(n),c=Me(this.condition,u,n&&n.implicit);(u==="all"||this.condition.type==="OperatorNode"||c!==null&&c<=p)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.trueExpr.toHTML(n),o=Me(this.trueExpr,u,n&&n.implicit);(u==="all"||this.trueExpr.type==="OperatorNode"||o!==null&&o<=p)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var f=this.falseExpr.toHTML(n),l=Me(this.falseExpr,u,n&&n.implicit);return(u==="all"||this.falseExpr.type==="OperatorNode"||l!==null&&l<=p)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),h+'<span class="math-operator math-conditional-operator">?</span>'+s+'<span class="math-operator math-conditional-operator">:</span>'+f}_toTex(n){return"\\begin{cases} {"+this.trueExpr.toTex(n)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(n)+"}\\\\{"+this.falseExpr.toTex(n)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Je(a,"name",gt),a},{isClass:!0,isNode:!0}),dn=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},Gc={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},jc={"":"\\--","":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},Vc=function(r,i){return dn({},r,i)},Wc=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.preserveFormatting,a=i===void 0?!1:i,t=r.escapeMapFn,n=t===void 0?Vc:t,u=String(e),p="",h=n(dn({},Gc),a?dn({},jc):{}),c=Object.keys(h),s=function(){var f=!1;c.forEach(function(l,m){f||u.length>=l.length&&u.slice(0,l.length)===l&&(p+=h[c[m]],u=u.slice(l.length,u.length),f=!0)}),f||(p+=u.slice(0,1),u=u.slice(1,u.length))};u;)s();return p};const Yc=Lt(Wc);var gn={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},we={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},bi={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(we.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(we.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(we.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(we.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(we.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(we.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(we.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(we.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(we.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(we.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(we.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(we.bitAnd,"${args[1]}\\right)")},bitNot:{1:we.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(we.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(we.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(we.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(we.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(we.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(we.and,"${args[1]}\\right)")},not:{1:we.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(we.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(we.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(we.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(we.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(we.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(we.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(we.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(we.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(we.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(we.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(we.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(we.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(we.to,"${args[1]}\\right)")},numeric:function(r,i){return r.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(gn.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},Zc="\\mathrm{${name}}\\left(${args}\\right)",Ai={deg:"^\\circ"};function Dn(e){return Yc(e,{preserveFormatting:!0})}function ka(e,r){return r=typeof r>"u"?!1:r,r?ae(Ai,e)?Ai[e]:"\\mathrm{"+Dn(e)+"}":ae(gn,e)?gn[e]:Dn(e)}var Dt="ConstantNode",Jc=["Node"],Xc=te(Dt,Jc,e=>{var{Node:r}=e;class i extends r{constructor(t){super(),this.value=t}get type(){return Dt}get isConstantNode(){return!0}_compile(t,n){var u=this.value;return function(){return u}}forEach(t){}map(t){return this.clone()}clone(){return new i(this.value)}_toString(t){return Ue(this.value,t)}_toHTML(t){var n=this._toString(t);switch(tr(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+n+"</span>";case"string":return'<span class="math-string">'+n+"</span>";case"boolean":return'<span class="math-boolean">'+n+"</span>";case"null":return'<span class="math-null-symbol">'+n+"</span>";case"undefined":return'<span class="math-undefined">'+n+"</span>";default:return'<span class="math-symbol">'+n+"</span>"}}toJSON(){return{mathjs:Dt,value:this.value}}static fromJSON(t){return new i(t.value)}_toTex(t){var n=this._toString(t),u=tr(this.value);switch(u){case"string":return"\\mathtt{"+Dn(n)+"}";case"number":case"BigNumber":{var p=u==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!p)return this.value.valueOf()<0?"-\\infty":"\\infty";var h=n.toLowerCase().indexOf("e");return h!==-1?n.substring(0,h)+"\\cdot10^{"+n.substring(h+1)+"}":n}case"Fraction":return this.value.toLatex();default:return n}}}return Je(i,"name",Dt),i},{isClass:!0,isNode:!0}),Et="FunctionAssignmentNode",Kc=["typed","Node"],Qc=te(Et,Kc,e=>{var{typed:r,Node:i}=e;function a(n,u,p){var h=Me(n,u,p),c=Me(n.expr,u,p);return u==="all"||c!==null&&c<=h}class t extends i{constructor(u,p,h){if(super(),typeof u!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(p))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!qe(h))throw new TypeError('Node expected for parameter "expr"');if($a.has(u))throw new Error('Illegal function name, "'+u+'" is a reserved keyword');var c=new Set;for(var s of p){var o=typeof s=="string"?s:s.name;if(c.has(o))throw new Error('Duplicate parameter name "'.concat(o,'"'));c.add(o)}this.name=u,this.params=p.map(function(f){return f&&f.name||f}),this.types=p.map(function(f){return f&&f.type||"any"}),this.expr=h}get type(){return Et}get isFunctionAssignmentNode(){return!0}_compile(u,p){var h=Object.create(p);aa(this.params,function(m){h[m]=!0});var c=this.expr._compile(u,h),s=this.name,o=this.params,f=Wn(this.types,","),l=s+"("+Wn(this.params,", ")+")";return function(v,D,g){var N={};N[f]=function(){for(var b=Object.create(D),w=0;w<o.length;w++)b[o[w]]=arguments[w];return c(v,b,g)};var E=r(s,N);return E.syntax=l,v.set(s,E),E}}forEach(u){u(this.expr,"expr",this)}map(u){var p=this._ifNode(u(this.expr,"expr",this));return new t(this.name,this.params.slice(0),p)}clone(){return new t(this.name,this.params.slice(0),this.expr)}_toString(u){var p=u&&u.parenthesis?u.parenthesis:"keep",h=this.expr.toString(u);return a(this,p,u&&u.implicit)&&(h="("+h+")"),this.name+"("+this.params.join(", ")+") = "+h}toJSON(){var u=this.types;return{mathjs:Et,name:this.name,params:this.params.map(function(p,h){return{name:p,type:u[h]}}),expr:this.expr}}static fromJSON(u){return new t(u.name,u.params,u.expr)}_toHTML(u){for(var p=u&&u.parenthesis?u.parenthesis:"keep",h=[],c=0;c<this.params.length;c++)h.push('<span class="math-symbol math-parameter">'+cr(this.params[c])+"</span>");var s=this.expr.toHTML(u);return a(this,p,u&&u.implicit)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+cr(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+h.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+s}_toTex(u){var p=u&&u.parenthesis?u.parenthesis:"keep",h=this.expr.toTex(u);return a(this,p,u&&u.implicit)&&(h="\\left(".concat(h,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(ka).join(",")+"\\right)="+h}}return Je(t,"name",Et),t},{isClass:!0,isNode:!0}),wt="IndexNode",el=["Node","size"],rl=te(wt,el,e=>{var{Node:r,size:i}=e;class a extends r{constructor(n,u){if(super(),this.dimensions=n,this.dotNotation=u||!1,!Array.isArray(n)||!n.every(qe))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return wt}get isIndexNode(){return!0}_compile(n,u){var p=Cr(this.dimensions,function(c,s){var o=c.filter(m=>m.isSymbolNode&&m.name==="end").length>0;if(o){var f=Object.create(u);f.end=!0;var l=c._compile(n,f);return function(v,D,g){if(!ke(g)&&!Re(g)&&!fr(g))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+tr(g));var N=i(g).valueOf(),E=Object.create(D);return E.end=N[s],l(v,E,g)}}else return c._compile(n,u)}),h=nr(n,"index");return function(s,o,f){var l=Cr(p,function(m){return m(s,o,f)});return h(...l)}}forEach(n){for(var u=0;u<this.dimensions.length;u++)n(this.dimensions[u],"dimensions["+u+"]",this)}map(n){for(var u=[],p=0;p<this.dimensions.length;p++)u[p]=this._ifNode(n(this.dimensions[p],"dimensions["+p+"]",this));return new a(u,this.dotNotation)}clone(){return new a(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&vr(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(n){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:wt,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(n){return new a(n.dimensions,n.dotNotation)}_toHTML(n){for(var u=[],p=0;p<this.dimensions.length;p++)u[p]=this.dimensions[p].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+cr(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(n){var u=this.dimensions.map(function(p){return p.toTex(n)});return this.dotNotation?"."+this.getObjectProperty():"_{"+u.join(",")+"}"}}return Je(a,"name",wt),a},{isClass:!0,isNode:!0}),yt="ObjectNode",tl=["Node"],nl=te(yt,tl,e=>{var{Node:r}=e;class i extends r{constructor(t){if(super(),this.properties=t||{},t&&(typeof t!="object"||!Object.keys(t).every(function(n){return qe(t[n])})))throw new TypeError("Object containing Nodes expected")}get type(){return yt}get isObjectNode(){return!0}_compile(t,n){var u={};for(var p in this.properties)if(ae(this.properties,p)){var h=Lr(p),c=JSON.parse(h),s=nr(this.properties,p);u[c]=s._compile(t,n)}return function(f,l,m){var v={};for(var D in u)ae(u,D)&&(v[D]=u[D](f,l,m));return v}}forEach(t){for(var n in this.properties)ae(this.properties,n)&&t(this.properties[n],"properties["+Lr(n)+"]",this)}map(t){var n={};for(var u in this.properties)ae(this.properties,u)&&(n[u]=this._ifNode(t(this.properties[u],"properties["+Lr(u)+"]",this)));return new i(n)}clone(){var t={};for(var n in this.properties)ae(this.properties,n)&&(t[n]=this.properties[n]);return new i(t)}_toString(t){var n=[];for(var u in this.properties)ae(this.properties,u)&&n.push(Lr(u)+": "+this.properties[u].toString(t));return"{"+n.join(", ")+"}"}toJSON(){return{mathjs:yt,properties:this.properties}}static fromJSON(t){return new i(t.properties)}_toHTML(t){var n=[];for(var u in this.properties)ae(this.properties,u)&&n.push('<span class="math-symbol math-property">'+cr(u)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[u].toHTML(t));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(t){var n=[];for(var u in this.properties)ae(this.properties,u)&&n.push("\\mathbf{"+u+":} & "+this.properties[u].toTex(t)+"\\\\");var p="\\left\\{\\begin{array}{ll}"+n.join(`
`)+"\\end{array}\\right\\}";return p}}return Je(i,"name",yt),i},{isClass:!0,isNode:!0});function Zr(e,r){return new Ku(e,new bn(r),new Set(Object.keys(r)))}var Nt="OperatorNode",il=["Node"],al=te(Nt,il,e=>{var{Node:r}=e;function i(n,u){var p=n;if(u==="auto")for(;zr(p);)p=p.content;return vr(p)?!0:it(p)?i(p.args[0],u):!1}function a(n,u,p,h,c){var s=Me(n,u,p),o=Wr(n,u);if(u==="all"||h.length>2&&n.getIdentifier()!=="OperatorNode:add"&&n.getIdentifier()!=="OperatorNode:multiply")return h.map(function(_){switch(_.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var f;switch(h.length){case 0:f=[];break;case 1:{var l=Me(h[0],u,p,n);if(c&&l!==null){var m,v;if(u==="keep"?(m=h[0].getIdentifier(),v=n.getIdentifier()):(m=h[0].getContent().getIdentifier(),v=n.getContent().getIdentifier()),mr[s][v].latexLeftParens===!1){f=[!1];break}if(mr[l][m].latexParens===!1){f=[!1];break}}if(l===null){f=[!1];break}if(l<=s){f=[!0];break}f=[!1]}break;case 2:{var D,g=Me(h[0],u,p,n),N=rn(n,h[0],u);g===null?D=!1:g===s&&o==="right"&&!N||g<s?D=!0:D=!1;var E,b=Me(h[1],u,p,n),w=rn(n,h[1],u);if(b===null?E=!1:b===s&&o==="left"&&!w||b<s?E=!0:E=!1,c){var y,M,T;u==="keep"?(y=n.getIdentifier(),M=n.args[0].getIdentifier(),T=n.args[1].getIdentifier()):(y=n.getContent().getIdentifier(),M=n.args[0].getContent().getIdentifier(),T=n.args[1].getContent().getIdentifier()),g!==null&&(mr[s][y].latexLeftParens===!1&&(D=!1),mr[g][M].latexParens===!1&&(D=!1)),b!==null&&(mr[s][y].latexRightParens===!1&&(E=!1),mr[b][T].latexParens===!1&&(E=!1))}f=[D,E]}break;default:(n.getIdentifier()==="OperatorNode:add"||n.getIdentifier()==="OperatorNode:multiply")&&(f=h.map(function(_){var R=Me(_,u,p,n),P=rn(n,_,u),U=Wr(_,u);return R===null?!1:s===R&&o===U&&!P?!0:R<s}));break}if(h.length>=2&&n.getIdentifier()==="OperatorNode:multiply"&&n.implicit&&u!=="all"&&p==="hide")for(var O=1;O<f.length;++O)i(h[O],u)&&!f[O-1]&&(u!=="keep"||!zr(h[O-1]))&&(f[O]=!0);return f}class t extends r{constructor(u,p,h,c,s){if(super(),typeof u!="string")throw new TypeError('string expected for parameter "op"');if(typeof p!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(h)||!h.every(qe))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=c===!0,this.isPercentage=s===!0,this.op=u,this.fn=p,this.args=h||[]}get type(){return Nt}get isOperatorNode(){return!0}_compile(u,p){if(typeof this.fn!="string"||!Nn(u,this.fn))throw u[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var h=nr(u,this.fn),c=Cr(this.args,function(m){return m._compile(u,p)});if(typeof h=="function"&&h.rawArgs===!0){var s=this.args;return function(v,D,g){return h(s,u,Zr(v,D))}}else if(c.length===1){var o=c[0];return function(v,D,g){return h(o(v,D,g))}}else if(c.length===2){var f=c[0],l=c[1];return function(v,D,g){return h(f(v,D,g),l(v,D,g))}}else return function(v,D,g){return h.apply(null,Cr(c,function(N){return N(v,D,g)}))}}forEach(u){for(var p=0;p<this.args.length;p++)u(this.args[p],"args["+p+"]",this)}map(u){for(var p=[],h=0;h<this.args.length;h++)p[h]=this._ifNode(u(this.args[h],"args["+h+"]",this));return new t(this.op,this.fn,p,this.implicit,this.isPercentage)}clone(){return new t(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(u){var p=u&&u.parenthesis?u.parenthesis:"keep",h=u&&u.implicit?u.implicit:"hide",c=this.args,s=a(this,p,h,c,!1);if(c.length===1){var o=Wr(this,p),f=c[0].toString(u);s[0]&&(f="("+f+")");var l=/[a-zA-Z]+/.test(this.op);return o==="right"?this.op+(l?" ":"")+f:o==="left"?f+(l?" ":"")+this.op:f+this.op}else if(c.length===2){var m=c[0].toString(u),v=c[1].toString(u);return s[0]&&(m="("+m+")"),s[1]&&(v="("+v+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&h==="hide"?m+" "+v:m+" "+this.op+" "+v}else if(c.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var D=c.map(function(g,N){return g=g.toString(u),s[N]&&(g="("+g+")"),g});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&h==="hide"?D.join(" "):D.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Nt,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(u){return new t(u.op,u.fn,u.args,u.implicit,u.isPercentage)}_toHTML(u){var p=u&&u.parenthesis?u.parenthesis:"keep",h=u&&u.implicit?u.implicit:"hide",c=this.args,s=a(this,p,h,c,!1);if(c.length===1){var o=Wr(this,p),f=c[0].toHTML(u);return s[0]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+cr(this.op)+"</span>"+f:f+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+cr(this.op)+"</span>"}else if(c.length===2){var l=c[0].toHTML(u),m=c[1].toHTML(u);return s[0]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&h==="hide"?l+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+m:l+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+cr(this.op)+"</span>"+m}else{var v=c.map(function(D,g){return D=D.toHTML(u),s[g]&&(D='<span class="math-parenthesis math-round-parenthesis">(</span>'+D+'<span class="math-parenthesis math-round-parenthesis">)</span>'),D});return c.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&h==="hide"?v.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):v.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+cr(this.op)+"</span>"):'<span class="math-function">'+cr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+v.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(u){var p=u&&u.parenthesis?u.parenthesis:"keep",h=u&&u.implicit?u.implicit:"hide",c=this.args,s=a(this,p,h,c,!0),o=we[this.fn];if(o=typeof o>"u"?this.op:o,c.length===1){var f=Wr(this,p),l=c[0].toTex(u);return s[0]&&(l="\\left(".concat(l,"\\right)")),f==="right"?o+l:l+o}else if(c.length===2){var m=c[0],v=m.toTex(u);s[0]&&(v="\\left(".concat(v,"\\right)"));var D=c[1],g=D.toTex(u);s[1]&&(g="\\left(".concat(g,"\\right)"));var N;switch(p==="keep"?N=m.getIdentifier():N=m.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+v+"}{"+g+"}";case"OperatorNode:pow":switch(v="{"+v+"}",g="{"+g+"}",N){case"ConditionalNode":case"OperatorNode:divide":v="\\left(".concat(v,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&h==="hide")return v+"~"+g}return v+o+g}else if(c.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var E=c.map(function(b,w){return b=b.toTex(u),s[w]&&(b="\\left(".concat(b,"\\right)")),b});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&h==="hide"?E.join("~"):E.join(o)}else return"\\mathrm{"+this.fn+"}\\left("+c.map(function(b){return b.toTex(u)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Je(t,"name",Nt),t},{isClass:!0,isNode:!0}),bt="ParenthesisNode",ul=["Node"],ol=te(bt,ul,e=>{var{Node:r}=e;class i extends r{constructor(t){if(super(),!qe(t))throw new TypeError('Node expected for parameter "content"');this.content=t}get type(){return bt}get isParenthesisNode(){return!0}_compile(t,n){return this.content._compile(t,n)}getContent(){return this.content.getContent()}forEach(t){t(this.content,"content",this)}map(t){var n=t(this.content,"content",this);return new i(n)}clone(){return new i(this.content)}_toString(t){return!t||t&&!t.parenthesis||t&&t.parenthesis==="keep"?"("+this.content.toString(t)+")":this.content.toString(t)}toJSON(){return{mathjs:bt,content:this.content}}static fromJSON(t){return new i(t.content)}_toHTML(t){return!t||t&&!t.parenthesis||t&&t.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)}_toTex(t){return!t||t&&!t.parenthesis||t&&t.parenthesis==="keep"?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)}}return Je(i,"name",bt),i},{isClass:!0,isNode:!0}),At="RangeNode",sl=["Node"],fl=te(At,sl,e=>{var{Node:r}=e;function i(t,n,u){var p=Me(t,n,u),h={},c=Me(t.start,n,u);if(h.start=c!==null&&c<=p||n==="all",t.step){var s=Me(t.step,n,u);h.step=s!==null&&s<=p||n==="all"}var o=Me(t.end,n,u);return h.end=o!==null&&o<=p||n==="all",h}class a extends r{constructor(n,u,p){if(super(),!qe(n))throw new TypeError("Node expected");if(!qe(u))throw new TypeError("Node expected");if(p&&!qe(p))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=n,this.end=u,this.step=p||null}get type(){return At}get isRangeNode(){return!0}needsEnd(){var n=this.filter(function(u){return ur(u)&&u.name==="end"});return n.length>0}_compile(n,u){var p=n.range,h=this.start._compile(n,u),c=this.end._compile(n,u);if(this.step){var s=this.step._compile(n,u);return function(f,l,m){return p(h(f,l,m),c(f,l,m),s(f,l,m))}}else return function(f,l,m){return p(h(f,l,m),c(f,l,m))}}forEach(n){n(this.start,"start",this),n(this.end,"end",this),this.step&&n(this.step,"step",this)}map(n){return new a(this._ifNode(n(this.start,"start",this)),this._ifNode(n(this.end,"end",this)),this.step&&this._ifNode(n(this.step,"step",this)))}clone(){return new a(this.start,this.end,this.step&&this.step)}_toString(n){var u=n&&n.parenthesis?n.parenthesis:"keep",p=i(this,u,n&&n.implicit),h,c=this.start.toString(n);if(p.start&&(c="("+c+")"),h=c,this.step){var s=this.step.toString(n);p.step&&(s="("+s+")"),h+=":"+s}var o=this.end.toString(n);return p.end&&(o="("+o+")"),h+=":"+o,h}toJSON(){return{mathjs:At,start:this.start,end:this.end,step:this.step}}static fromJSON(n){return new a(n.start,n.end,n.step)}_toHTML(n){var u=n&&n.parenthesis?n.parenthesis:"keep",p=i(this,u,n&&n.implicit),h,c=this.start.toHTML(n);if(p.start&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),h=c,this.step){var s=this.step.toHTML(n);p.step&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),h+='<span class="math-operator math-range-operator">:</span>'+s}var o=this.end.toHTML(n);return p.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),h+='<span class="math-operator math-range-operator">:</span>'+o,h}_toTex(n){var u=n&&n.parenthesis?n.parenthesis:"keep",p=i(this,u,n&&n.implicit),h=this.start.toTex(n);if(p.start&&(h="\\left(".concat(h,"\\right)")),this.step){var c=this.step.toTex(n);p.step&&(c="\\left(".concat(c,"\\right)")),h+=":"+c}var s=this.end.toTex(n);return p.end&&(s="\\left(".concat(s,"\\right)")),h+=":"+s,h}}return Je(a,"name",At),a},{isClass:!0,isNode:!0}),Ct="RelationalNode",cl=["Node"],ll=te(Ct,cl,e=>{var{Node:r}=e,i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class a extends r{constructor(n,u){if(super(),!Array.isArray(n))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(u))throw new TypeError("Parameter params must be an array");if(n.length!==u.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=n,this.params=u}get type(){return Ct}get isRelationalNode(){return!0}_compile(n,u){var p=this,h=this.params.map(c=>c._compile(n,u));return function(s,o,f){for(var l,m=h[0](s,o,f),v=0;v<p.conditionals.length;v++){l=m,m=h[v+1](s,o,f);var D=nr(n,p.conditionals[v]);if(!D(l,m))return!1}return!0}}forEach(n){this.params.forEach((u,p)=>n(u,"params["+p+"]",this),this)}map(n){return new a(this.conditionals.slice(),this.params.map((u,p)=>this._ifNode(n(u,"params["+p+"]",this)),this))}clone(){return new a(this.conditionals,this.params)}_toString(n){for(var u=n&&n.parenthesis?n.parenthesis:"keep",p=Me(this,u,n&&n.implicit),h=this.params.map(function(o,f){var l=Me(o,u,n&&n.implicit);return u==="all"||l!==null&&l<=p?"("+o.toString(n)+")":o.toString(n)}),c=h[0],s=0;s<this.conditionals.length;s++)c+=" "+i[this.conditionals[s]],c+=" "+h[s+1];return c}toJSON(){return{mathjs:Ct,conditionals:this.conditionals,params:this.params}}static fromJSON(n){return new a(n.conditionals,n.params)}_toHTML(n){for(var u=n&&n.parenthesis?n.parenthesis:"keep",p=Me(this,u,n&&n.implicit),h=this.params.map(function(o,f){var l=Me(o,u,n&&n.implicit);return u==="all"||l!==null&&l<=p?'<span class="math-parenthesis math-round-parenthesis">(</span>'+o.toHTML(n)+'<span class="math-parenthesis math-round-parenthesis">)</span>':o.toHTML(n)}),c=h[0],s=0;s<this.conditionals.length;s++)c+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+cr(i[this.conditionals[s]])+"</span>"+h[s+1];return c}_toTex(n){for(var u=n&&n.parenthesis?n.parenthesis:"keep",p=Me(this,u,n&&n.implicit),h=this.params.map(function(o,f){var l=Me(o,u,n&&n.implicit);return u==="all"||l!==null&&l<=p?"\\left("+o.toTex(n)+"\right)":o.toTex(n)}),c=h[0],s=0;s<this.conditionals.length;s++)c+=we[this.conditionals[s]]+h[s+1];return c}}return Je(a,"name",Ct),a},{isClass:!0,isNode:!0}),hl="SymbolNode",pl=["math","?Unit","Node"],vl=te(hl,pl,e=>{var{math:r,Unit:i,Node:a}=e;function t(u){return i?i.isValuelessUnit(u):!1}class n extends a{constructor(p){if(super(),typeof p!="string")throw new TypeError('String expected for parameter "name"');this.name=p}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(p,h){var c=this.name;if(h[c]===!0)return function(o,f,l){return nr(f,c)};if(c in p)return function(o,f,l){return o.has(c)?o.get(c):nr(p,c)};var s=t(c);return function(o,f,l){return o.has(c)?o.get(c):s?new i(null,c):n.onUndefinedSymbol(c)}}forEach(p){}map(p){return this.clone()}static onUndefinedSymbol(p){throw new Error("Undefined symbol "+p)}clone(){return new n(this.name)}_toString(p){return this.name}_toHTML(p){var h=cr(this.name);return h==="true"||h==="false"?'<span class="math-symbol math-boolean">'+h+"</span>":h==="i"?'<span class="math-symbol math-imaginary-symbol">'+h+"</span>":h==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+h+"</span>":h==="NaN"?'<span class="math-symbol math-nan-symbol">'+h+"</span>":h==="null"?'<span class="math-symbol math-null-symbol">'+h+"</span>":h==="undefined"?'<span class="math-symbol math-undefined-symbol">'+h+"</span>":'<span class="math-symbol">'+h+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(p){return new n(p.name)}_toTex(p){var h=!1;typeof r[this.name]>"u"&&t(this.name)&&(h=!0);var c=ka(this.name,h);return c[0]==="\\"?c:" "+c}}return n},{isClass:!0,isNode:!0}),Ft="FunctionNode",ml=["math","Node","SymbolNode"],dl=te(Ft,ml,e=>{var r,{math:i,Node:a,SymbolNode:t}=e,n=h=>Ue(h,{truncate:78});function u(h,c,s){for(var o="",f=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,l=0,m;(m=f.exec(h))!==null;)if(o+=h.substring(l,m.index),l=m.index,m[0]==="$$")o+="$",l++;else{l+=m[0].length;var v=c[m[1]];if(!v)throw new ReferenceError("Template: Property "+m[1]+" does not exist.");if(m[2]===void 0)switch(typeof v){case"string":o+=v;break;case"object":if(qe(v))o+=v.toTex(s);else if(Array.isArray(v))o+=v.map(function(D,g){if(qe(D))return D.toTex(s);throw new TypeError("Template: "+m[1]+"["+g+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes")}else if(qe(v[m[2]]&&v[m[2]]))o+=v[m[2]].toTex(s);else throw new TypeError("Template: "+m[1]+"["+m[2]+"] is not a Node.")}return o+=h.slice(l),o}class p extends a{constructor(c,s){if(super(),typeof c=="string"&&(c=new t(c)),!qe(c))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(s)||!s.every(qe))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=c,this.args=s||[]}get name(){return this.fn.name||""}get type(){return Ft}get isFunctionNode(){return!0}_compile(c,s){var o=this.args.map(T=>T._compile(c,s));if(ur(this.fn)){var f=this.fn.name;if(s[f]){var g=this.args;return function(O,_,R){var P=nr(_,f);if(typeof P!="function")throw new TypeError("Argument '".concat(f,"' was not a function; received: ").concat(n(P)));if(P.rawArgs)return P(g,c,Zr(O,_));var U=o.map(z=>z(O,_,R));return P.apply(P,U)}}else{var l=f in c?nr(c,f):void 0,m=typeof l=="function"&&l.rawArgs===!0,v=T=>{var O;if(T.has(f))O=T.get(f);else if(f in c)O=nr(c,f);else return p.onUndefinedFunction(f);if(typeof O=="function")return O;throw new TypeError("'".concat(f,`' is not a function; its value is:
  `).concat(n(O)))};if(m){var D=this.args;return function(O,_,R){var P=v(O);return P(D,c,Zr(O,_))}}else switch(o.length){case 0:return function(O,_,R){var P=v(O);return P()};case 1:return function(O,_,R){var P=v(O),U=o[0];return P(U(O,_,R))};case 2:return function(O,_,R){var P=v(O),U=o[0],z=o[1];return P(U(O,_,R),z(O,_,R))};default:return function(O,_,R){var P=v(O),U=o.map(z=>z(O,_,R));return P(...U)}}}}else if(Tr(this.fn)&&nt(this.fn.index)&&this.fn.index.isObjectProperty()){var N=this.fn.object._compile(c,s),E=this.fn.index.getObjectProperty(),b=this.args;return function(O,_,R){var P=N(O,_,R),U=Zu(P,E);if(U!=null&&U.rawArgs)return U(b,c,Zr(O,_));var z=o.map(Q=>Q(O,_,R));return U.apply(P,z)}}else{var w=this.fn.toString(),y=this.fn._compile(c,s),M=this.args;return function(O,_,R){var P=y(O,_,R);if(typeof P!="function")throw new TypeError("Expression '".concat(w,"' did not evaluate to a function; value is:")+`
  `.concat(n(P)));if(P.rawArgs)return P(M,c,Zr(O,_));var U=o.map(z=>z(O,_,R));return P.apply(P,U)}}}forEach(c){c(this.fn,"fn",this);for(var s=0;s<this.args.length;s++)c(this.args[s],"args["+s+"]",this)}map(c){for(var s=this._ifNode(c(this.fn,"fn",this)),o=[],f=0;f<this.args.length;f++)o[f]=this._ifNode(c(this.args[f],"args["+f+"]",this));return new p(s,o)}clone(){return new p(this.fn,this.args.slice(0))}toString(c){var s,o=this.fn.toString(c);return c&&typeof c.handler=="object"&&ae(c.handler,o)&&(s=c.handler[o](this,c)),typeof s<"u"?s:super.toString(c)}_toString(c){var s=this.args.map(function(f){return f.toString(c)}),o=En(this.fn)?"("+this.fn.toString(c)+")":this.fn.toString(c);return o+"("+s.join(", ")+")"}toJSON(){return{mathjs:Ft,fn:this.fn,args:this.args}}_toHTML(c){var s=this.args.map(function(o){return o.toHTML(c)});return'<span class="math-function">'+cr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(c){var s;return c&&typeof c.handler=="object"&&ae(c.handler,this.name)&&(s=c.handler[this.name](this,c)),typeof s<"u"?s:super.toTex(c)}_toTex(c){var s=this.args.map(function(l){return l.toTex(c)}),o;bi[this.name]&&(o=bi[this.name]),i[this.name]&&(typeof i[this.name].toTex=="function"||typeof i[this.name].toTex=="object"||typeof i[this.name].toTex=="string")&&(o=i[this.name].toTex);var f;switch(typeof o){case"function":f=o(this,c);break;case"string":f=u(o,this,c);break;case"object":switch(typeof o[s.length]){case"function":f=o[s.length](this,c);break;case"string":f=u(o[s.length],this,c);break}}return typeof f<"u"?f:u(Zc,this,c)}getIdentifier(){return this.type+":"+this.name}}return r=p,Je(p,"name",Ft),Je(p,"onUndefinedFunction",function(h){throw new Error("Undefined function "+h)}),Je(p,"fromJSON",function(h){return new r(h.fn,h.args)}),p},{isClass:!0,isNode:!0}),Ci="parse",gl=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],Dl=te(Ci,gl,e=>{var{typed:r,numeric:i,config:a,AccessorNode:t,ArrayNode:n,AssignmentNode:u,BlockNode:p,ConditionalNode:h,ConstantNode:c,FunctionAssignmentNode:s,FunctionNode:o,IndexNode:f,ObjectNode:l,OperatorNode:m,ParenthesisNode:v,RangeNode:D,RelationalNode:g,SymbolNode:N}=e,E=r(Ci,{string:function(S){return ye(S,{})},"Array | Matrix":function(S){return b(S,{})},"string, Object":function(S,$){var J=$.nodes!==void 0?$.nodes:{};return ye(S,J)},"Array | Matrix, Object":b});function b(d){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=S.nodes!==void 0?S.nodes:{};return He(d,function(J){if(typeof J!="string")throw new TypeError("String expected");return ye(J,$)})}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},y={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},M={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},T={true:!0,false:!1,null:null,undefined:void 0},O=["NaN","Infinity"],_={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function R(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null}}function P(d,S){return d.expression.substr(d.index,S)}function U(d){return P(d,1)}function z(d){d.index++}function Q(d){return d.expression.charAt(d.index-1)}function H(d){return d.expression.charAt(d.index+1)}function A(d){for(d.tokenType=w.NULL,d.token="",d.comment="";;){if(U(d)==="#")for(;U(d)!==`
`&&U(d)!=="";)d.comment+=U(d),z(d);if(E.isWhitespace(U(d),d.nestingLevel))z(d);else break}if(U(d)===""){d.tokenType=w.DELIMITER;return}if(U(d)===`
`&&!d.nestingLevel){d.tokenType=w.DELIMITER,d.token=U(d),z(d);return}var S=U(d),$=P(d,2),J=P(d,3);if(J.length===3&&y[J]){d.tokenType=w.DELIMITER,d.token=J,z(d),z(d),z(d);return}if($.length===2&&y[$]){d.tokenType=w.DELIMITER,d.token=$,z(d),z(d);return}if(y[S]){d.tokenType=w.DELIMITER,d.token=S,z(d);return}if(E.isDigitDot(S)){d.tokenType=w.NUMBER;var le=P(d,2);if(le==="0b"||le==="0o"||le==="0x"){for(d.token+=U(d),z(d),d.token+=U(d),z(d);E.isHexDigit(U(d));)d.token+=U(d),z(d);if(U(d)===".")for(d.token+=".",z(d);E.isHexDigit(U(d));)d.token+=U(d),z(d);else if(U(d)==="i")for(d.token+="i",z(d);E.isDigit(U(d));)d.token+=U(d),z(d);return}if(U(d)==="."){if(d.token+=U(d),z(d),!E.isDigit(U(d))){d.tokenType=w.DELIMITER;return}}else{for(;E.isDigit(U(d));)d.token+=U(d),z(d);E.isDecimalMark(U(d),H(d))&&(d.token+=U(d),z(d))}for(;E.isDigit(U(d));)d.token+=U(d),z(d);if(U(d)==="E"||U(d)==="e"){if(E.isDigit(H(d))||H(d)==="-"||H(d)==="+"){if(d.token+=U(d),z(d),(U(d)==="+"||U(d)==="-")&&(d.token+=U(d),z(d)),!E.isDigit(U(d)))throw pe(d,'Digit expected, got "'+U(d)+'"');for(;E.isDigit(U(d));)d.token+=U(d),z(d);if(E.isDecimalMark(U(d),H(d)))throw pe(d,'Digit expected, got "'+U(d)+'"')}else if(H(d)===".")throw z(d),pe(d,'Digit expected, got "'+U(d)+'"')}return}if(E.isAlpha(U(d),Q(d),H(d))){for(;E.isAlpha(U(d),Q(d),H(d))||E.isDigit(U(d));)d.token+=U(d),z(d);ae(M,d.token)?d.tokenType=w.DELIMITER:d.tokenType=w.SYMBOL;return}for(d.tokenType=w.UNKNOWN;U(d)!=="";)d.token+=U(d),z(d);throw pe(d,'Syntax error in part "'+d.token+'"')}function Z(d){do A(d);while(d.token===`
`)}function F(d){d.nestingLevel++}function ue(d){d.nestingLevel--}E.isAlpha=function(S,$,J){return E.isValidLatinOrGreek(S)||E.isValidMathSymbol(S,J)||E.isValidMathSymbol($,S)},E.isValidLatinOrGreek=function(S){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(S)},E.isValidMathSymbol=function(S,$){return/^[\uD835]$/.test(S)&&/^[\uDC00-\uDFFF]$/.test($)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test($)},E.isWhitespace=function(S,$){return S===" "||S==="	"||S===`
`&&$>0},E.isDecimalMark=function(S,$){return S==="."&&$!=="/"&&$!=="*"&&$!=="^"},E.isDigitDot=function(S){return S>="0"&&S<="9"||S==="."},E.isDigit=function(S){return S>="0"&&S<="9"},E.isHexDigit=function(S){return S>="0"&&S<="9"||S>="a"&&S<="f"||S>="A"&&S<="F"};function ye(d,S){var $=R();sr($,{expression:d,extraNodes:S}),A($);var J=Ae($);if($.token!=="")throw $.tokenType===w.DELIMITER?je($,"Unexpected operator "+$.token):pe($,'Unexpected part "'+$.token+'"');return J}function Ae(d){var S,$=[],J;for(d.token!==""&&d.token!==`
`&&d.token!==";"&&(S=G(d),d.comment&&(S.comment=d.comment));d.token===`
`||d.token===";";)$.length===0&&S&&(J=d.token!==";",$.push({node:S,visible:J})),A(d),d.token!==`
`&&d.token!==";"&&d.token!==""&&(S=G(d),d.comment&&(S.comment=d.comment),J=d.token!==";",$.push({node:S,visible:J}));return $.length>0?new p($):(S||(S=new c(void 0),d.comment&&(S.comment=d.comment)),S)}function G(d){var S,$,J,le,me=_e(d);if(d.token==="="){if(ur(me))return S=me.name,Z(d),J=G(d),new u(new N(S),J);if(Tr(me))return Z(d),J=G(d),new u(me.object,me.index,J);if(Ut(me)&&ur(me.fn)&&(le=!0,$=[],S=me.name,me.args.forEach(function(ar,Yt){ur(ar)?$[Yt]=ar.name:le=!1}),le))return Z(d),J=G(d),new s(S,$,J);throw pe(d,"Invalid left hand side of assignment operator =")}return me}function _e(d){for(var S=Ie(d);d.token==="?";){var $=d.conditionalLevel;d.conditionalLevel=d.nestingLevel,Z(d);var J=S,le=G(d);if(d.token!==":")throw pe(d,"False part of conditional expression expected");d.conditionalLevel=null,Z(d);var me=G(d);S=new h(J,le,me),d.conditionalLevel=$}return S}function Ie(d){for(var S=se(d);d.token==="or";)Z(d),S=new m("or","or",[S,se(d)]);return S}function se(d){for(var S=de(d);d.token==="xor";)Z(d),S=new m("xor","xor",[S,de(d)]);return S}function de(d){for(var S=Ge(d);d.token==="and";)Z(d),S=new m("and","and",[S,Ge(d)]);return S}function Ge(d){for(var S=Ce(d);d.token==="|";)Z(d),S=new m("|","bitOr",[S,Ce(d)]);return S}function Ce(d){for(var S=Ee(d);d.token==="^|";)Z(d),S=new m("^|","bitXor",[S,Ee(d)]);return S}function Ee(d){for(var S=Ve(d);d.token==="&";)Z(d),S=new m("&","bitAnd",[S,Ve(d)]);return S}function Ve(d){for(var S=[$e(d)],$=[],J={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};ae(J,d.token);){var le={name:d.token,fn:J[d.token]};$.push(le),Z(d),S.push($e(d))}return S.length===1?S[0]:S.length===2?new m($[0].name,$[0].fn,S):new g($.map(me=>me.fn),S)}function $e(d){var S,$,J,le;S=Ne(d);for(var me={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};ae(me,d.token);)$=d.token,J=me[$],Z(d),le=[S,Ne(d)],S=new m($,J,le);return S}function Ne(d){var S,$,J,le;S=ze(d);for(var me={to:"to",in:"to"};ae(me,d.token);)$=d.token,J=me[$],Z(d),$==="in"&&d.token===""?S=new m("*","multiply",[S,new N("in")],!0):(le=[S,ze(d)],S=new m($,J,le));return S}function ze(d){var S,$=[];if(d.token===":"?S=new c(1):S=x(d),d.token===":"&&d.conditionalLevel!==d.nestingLevel){for($.push(S);d.token===":"&&$.length<3;)Z(d),d.token===")"||d.token==="]"||d.token===","||d.token===""?$.push(new N("end")):$.push(x(d));$.length===3?S=new D($[0],$[2],$[1]):S=new D($[0],$[1])}return S}function x(d){var S,$,J,le;S=B(d);for(var me={"+":"add","-":"subtract"};ae(me,d.token);){$=d.token,J=me[$],Z(d);var ar=B(d);ar.isPercentage?le=[S,new m("*","multiply",[S,ar])]:le=[S,ar],S=new m($,J,le)}return S}function B(d){var S,$,J,le;S=k(d),$=S;for(var me={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};ae(me,d.token);)J=d.token,le=me[J],Z(d),$=k(d),S=new m(J,le,[S,$]);return S}function k(d){var S,$;for(S=Y(d),$=S;d.tokenType===w.SYMBOL||d.token==="in"&&vr(S)||d.tokenType===w.NUMBER&&!vr($)&&(!it($)||$.op==="!")||d.token==="(";)$=Y(d),S=new m("*","multiply",[S,$],!0);return S}function Y(d){for(var S=ne(d),$=S,J=[];d.token==="/"&&tn($);)if(J.push(sr({},d)),Z(d),d.tokenType===w.NUMBER)if(J.push(sr({},d)),Z(d),d.tokenType===w.SYMBOL||d.token==="(")sr(d,J.pop()),J.pop(),$=ne(d),S=new m("/","divide",[S,$]);else{J.pop(),sr(d,J.pop());break}else{sr(d,J.pop());break}return S}function ne(d){var S,$,J,le;S=ie(d);for(var me={"%":"mod",mod:"mod"};ae(me,d.token);)$=d.token,J=me[$],Z(d),$==="%"&&d.tokenType===w.DELIMITER&&d.token!=="("?S=new m("/","divide",[S,new c(100)],!1,!0):(le=[S,ie(d)],S=new m($,J,le));return S}function ie(d){var S,$,J,le={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return ae(le,d.token)?(J=le[d.token],S=d.token,Z(d),$=[ie(d)],new m(S,J,$)):fe(d)}function fe(d){var S,$,J,le;return S=he(d),(d.token==="^"||d.token===".^")&&($=d.token,J=$==="^"?"pow":"dotPow",Z(d),le=[S,ie(d)],S=new m($,J,le)),S}function he(d){var S,$,J,le;S=C(d);for(var me={"!":"factorial","'":"ctranspose"};ae(me,d.token);)$=d.token,J=me[$],A(d),le=[S],S=new m($,J,le),S=L(d,S);return S}function C(d){var S=[];if(d.tokenType===w.SYMBOL&&ae(d.extraNodes,d.token)){var $=d.extraNodes[d.token];if(A(d),d.token==="("){if(S=[],F(d),A(d),d.token!==")")for(S.push(G(d));d.token===",";)A(d),S.push(G(d));if(d.token!==")")throw pe(d,"Parenthesis ) expected");ue(d),A(d)}return new $(S)}return I(d)}function I(d){var S,$;return d.tokenType===w.SYMBOL||d.tokenType===w.DELIMITER&&d.token in M?($=d.token,A(d),ae(T,$)?S=new c(T[$]):O.indexOf($)!==-1?S=new c(i($,"number")):S=new N($),S=L(d,S),S):q(d)}function L(d,S,$){for(var J;(d.token==="("||d.token==="["||d.token===".")&&!$;)if(J=[],d.token==="(")if(ur(S)||Tr(S)){if(F(d),A(d),d.token!==")")for(J.push(G(d));d.token===",";)A(d),J.push(G(d));if(d.token!==")")throw pe(d,"Parenthesis ) expected");ue(d),A(d),S=new o(S,J)}else return S;else if(d.token==="["){if(F(d),A(d),d.token!=="]")for(J.push(G(d));d.token===",";)A(d),J.push(G(d));if(d.token!=="]")throw pe(d,"Parenthesis ] expected");ue(d),A(d),S=new t(S,new f(J))}else{A(d);var le=d.tokenType===w.SYMBOL||d.tokenType===w.DELIMITER&&d.token in M;if(!le)throw pe(d,"Property name expected after dot");J.push(new c(d.token)),A(d);var me=!0;S=new t(S,new f(J,me))}return S}function q(d){var S,$;return d.token==='"'||d.token==="'"?($=V(d,d.token),S=new c($),S=L(d,S),S):j(d)}function V(d,S){for(var $="";U(d)!==""&&U(d)!==S;)if(U(d)==="\\"){z(d);var J=U(d),le=_[J];if(le!==void 0)$+=le,d.index+=1;else if(J==="u"){var me=d.expression.slice(d.index+1,d.index+5);if(/^[0-9A-Fa-f]{4}$/.test(me))$+=String.fromCharCode(parseInt(me,16)),d.index+=5;else throw pe(d,"Invalid unicode character \\u".concat(me))}else throw pe(d,"Bad escape character \\".concat(J))}else $+=U(d),z(d);if(A(d),d.token!==S)throw pe(d,"End of string ".concat(S," expected"));return A(d),$}function j(d){var S,$,J,le;if(d.token==="["){if(F(d),A(d),d.token!=="]"){var me=ee(d);if(d.token===";"){for(J=1,$=[me];d.token===";";)A(d),d.token!=="]"&&($[J]=ee(d),J++);if(d.token!=="]")throw pe(d,"End of matrix ] expected");ue(d),A(d),le=$[0].items.length;for(var ar=1;ar<J;ar++)if($[ar].items.length!==le)throw je(d,"Column dimensions mismatch ("+$[ar].items.length+" !== "+le+")");S=new n($)}else{if(d.token!=="]")throw pe(d,"End of matrix ] expected");ue(d),A(d),S=me}}else ue(d),A(d),S=new n([]);return L(d,S)}return K(d)}function ee(d){for(var S=[G(d)],$=1;d.token===",";)A(d),d.token!=="]"&&d.token!==";"&&(S[$]=G(d),$++);return new n(S)}function K(d){if(d.token==="{"){F(d);var S,$={};do if(A(d),d.token!=="}"){if(d.token==='"'||d.token==="'")S=V(d,d.token);else if(d.tokenType===w.SYMBOL||d.tokenType===w.DELIMITER&&d.token in M)S=d.token,A(d);else throw pe(d,"Symbol or string expected as object key");if(d.token!==":")throw pe(d,"Colon : expected after object key");A(d),$[S]=G(d)}while(d.token===",");if(d.token!=="}")throw pe(d,"Comma , or bracket } expected after object value");ue(d),A(d);var J=new l($);return J=L(d,J),J}return re(d)}function re(d){var S;return d.tokenType===w.NUMBER?(S=d.token,A(d),new c(i(S,a.number))):X(d)}function X(d){var S;if(d.token==="("){if(F(d),A(d),S=G(d),d.token!==")")throw pe(d,"Parenthesis ) expected");return ue(d),A(d),S=new v(S),S=L(d,S),S}return be(d)}function be(d){throw d.token===""?pe(d,"Unexpected end of expression"):pe(d,"Value expected")}function Fe(d){return d.index-d.token.length+1}function pe(d,S){var $=Fe(d),J=new SyntaxError(S+" (char "+$+")");return J.char=$,J}function je(d,S){var $=Fe(d),J=new SyntaxError(S+" (char "+$+")");return J.char=$,J}return r.addConversion({from:"string",to:"Node",convert:E}),E}),Fi="evaluate",El=["typed","parse"],wl=te(Fi,El,e=>{var{typed:r,parse:i}=e;return r(Fi,{string:function(t){var n=on();return i(t).compile().evaluate(n)},"string, Map | Object":function(t,n){return i(t).compile().evaluate(n)},"Array | Matrix":function(t){var n=on();return He(t,function(u){return i(u).compile().evaluate(n)})},"Array | Matrix, Map | Object":function(t,n){return He(t,function(u){return i(u).compile().evaluate(n)})}})}),xi="det",yl=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Nl=te(xi,yl,e=>{var{typed:r,matrix:i,subtractScalar:a,multiply:t,divideScalar:n,isZero:u,unaryMinus:p}=e;return r(xi,{any:function(s){return Se(s)},"Array | Matrix":function(s){var o;switch(ke(s)?o=s.size():Array.isArray(s)?(s=i(s),o=s.size()):o=[],o.length){case 0:return Se(s);case 1:if(o[0]===1)return Se(s.valueOf()[0]);if(o[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ue(o)+")");case 2:{var f=o[0],l=o[1];if(f===l)return h(s.clone().valueOf(),f);if(l===0)return 1;throw new RangeError("Matrix must be square (size: "+Ue(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ue(o)+")")}}});function h(c,s,o){if(s===1)return Se(c[0][0]);if(s===2)return a(t(c[0][0],c[1][1]),t(c[1][0],c[0][1]));for(var f=!1,l=new Array(s).fill(0).map((M,T)=>T),m=0;m<s;m++){var v=l[m];if(u(c[v][m])){var D=void 0;for(D=m+1;D<s;D++)if(!u(c[l[D]][m])){v=l[D],l[D]=l[m],l[m]=v,f=!f;break}if(D===s)return c[v][m]}for(var g=c[v][m],N=m===0?1:c[l[m-1]][m-1],E=m+1;E<s;E++)for(var b=l[E],w=m+1;w<s;w++)c[b][w]=n(a(t(c[b][w],g),t(c[b][m],c[v][w])),N)}var y=c[l[s-1]][s-1];return f?p(y):y}}),Si="inv",bl=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Al=te(Si,bl,e=>{var{typed:r,matrix:i,divideScalar:a,addScalar:t,multiply:n,unaryMinus:u,det:p,identity:h,abs:c}=e;return r(Si,{"Array | Matrix":function(f){var l=ke(f)?f.size():Qe(f);switch(l.length){case 1:if(l[0]===1)return ke(f)?i([a(1,f.valueOf()[0])]):[a(1,f[0])];throw new RangeError("Matrix must be square (size: "+Ue(l)+")");case 2:{var m=l[0],v=l[1];if(m===v)return ke(f)?i(s(f.valueOf(),m,v),f.storage()):s(f,m,v);throw new RangeError("Matrix must be square (size: "+Ue(l)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ue(l)+")")}},any:function(f){return a(1,f)}});function s(o,f,l){var m,v,D,g,N;if(f===1){if(g=o[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(1,g)]]}else if(f===2){var E=p(o);if(E===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(o[1][1],E),a(u(o[0][1]),E)],[a(u(o[1][0]),E),a(o[0][0],E)]]}else{var b=o.concat();for(m=0;m<f;m++)b[m]=b[m].concat();for(var w=h(f).valueOf(),y=0;y<l;y++){var M=c(b[y][y]),T=y;for(m=y+1;m<f;)c(b[m][y])>M&&(M=c(b[m][y]),T=m),m++;if(M===0)throw Error("Cannot calculate inverse, determinant is zero");m=T,m!==y&&(N=b[y],b[y]=b[m],b[m]=N,N=w[y],w[y]=w[m],w[m]=N);var O=b[y],_=w[y];for(m=0;m<f;m++){var R=b[m],P=w[m];if(m!==y){if(R[y]!==0){for(D=a(u(R[y]),O[y]),v=y;v<l;v++)R[v]=t(R[v],n(D,O[v]));for(v=0;v<l;v++)P[v]=t(P[v],n(D,_[v]))}}else{for(D=O[y],v=y;v<l;v++)R[v]=a(R[v],D);for(v=0;v<l;v++)P[v]=a(P[v],D)}}}return w}}}),Ir={createBigNumberClass:ts},Wt={createComplexClass:us},Fn={createMatrixClass:ps},yr={MatrixDependencies:Fn,createDenseMatrixClass:gs},xn={createFractionClass:cs},De={BigNumberDependencies:Ir,ComplexDependencies:Wt,DenseMatrixDependencies:yr,FractionDependencies:xn,createTyped:ro},qa={typedDependencies:De,createAbs:Js},er={createNode:Bc},Mr={typedDependencies:De,createEqualScalar:Ss},Sn={MatrixDependencies:Fn,equalScalarDependencies:Mr,typedDependencies:De,createSparseMatrixClass:Os},st={typedDependencies:De,createAddScalar:Ks},Cl={typedDependencies:De,createIsInteger:Es},Ke={DenseMatrixDependencies:yr,MatrixDependencies:Fn,SparseMatrixDependencies:Sn,typedDependencies:De,createMatrix:Gs},Ha={isIntegerDependencies:Cl,matrixDependencies:Ke,typedDependencies:De,createConcat:Yf},Fl={DenseMatrixDependencies:yr,SparseMatrixDependencies:Sn,addScalarDependencies:st,concatDependencies:Ha,equalScalarDependencies:Mr,matrixDependencies:Ke,typedDependencies:De,createAdd:xc},ft={BigNumberDependencies:Ir,matrixDependencies:Ke,typedDependencies:De,createZeros:sc},Ga={addDependencies:Fl,matrixDependencies:Ke,typedDependencies:De,zerosDependencies:ft,createSubset:nc},xl={NodeDependencies:er,subsetDependencies:Ga,createAccessorNode:Ic},Sl={NodeDependencies:er,createArrayNode:Pc},Ml={matrixDependencies:Ke,NodeDependencies:er,subsetDependencies:Ga,createAssignmentNode:Uc},Tl={BigNumberDependencies:Ir,typedDependencies:De,createBignumber:Us},ja={FractionDependencies:xn,typedDependencies:De,createFraction:qs},Mn={typedDependencies:De,createNumber:Ps},Va={bignumberDependencies:Tl,fractionDependencies:ja,numberDependencies:Mn,createNumeric:pc},Tn={numericDependencies:Va,typedDependencies:De,createDivideScalar:mc},Ol={DenseMatrixDependencies:yr,concatDependencies:Ha,equalScalarDependencies:Mr,matrixDependencies:Ke,typedDependencies:De,createEqual:yc},On={BigNumberDependencies:Ir,DenseMatrixDependencies:yr,equalScalarDependencies:Mr,matrixDependencies:Ke,typedDependencies:De,zerosDependencies:ft,createRound:Ec},Bl={DenseMatrixDependencies:yr,equalScalarDependencies:Mr,matrixDependencies:Ke,roundDependencies:On,typedDependencies:De,zerosDependencies:ft,createCeil:cf},_l={DenseMatrixDependencies:yr,equalScalarDependencies:Mr,matrixDependencies:Ke,roundDependencies:On,typedDependencies:De,zerosDependencies:ft,createFloor:df},Il={ComplexDependencies:Wt,DenseMatrixDependencies:yr,ceilDependencies:Bl,equalScalarDependencies:Mr,floorDependencies:_l,matrixDependencies:Ke,typedDependencies:De,zerosDependencies:ft,createFix:pf},Rl={typedDependencies:De,createFormat:cc},Pl={typedDependencies:De,createIsNumeric:Ns},Bn={typedDependencies:De,createMultiplyScalar:Uf},Wa={BigNumberDependencies:Ir,DenseMatrixDependencies:yr,SparseMatrixDependencies:Sn,matrixDependencies:Ke,typedDependencies:De,createIdentity:Jf},Ll={typedDependencies:De,createIsZero:As},$l={typedDependencies:De,createConj:Vf},Ya={matrixDependencies:Ke,typedDependencies:De,createSize:rc},Ul={addScalarDependencies:st,conjDependencies:$l,multiplyScalarDependencies:Bn,sizeDependencies:Ya,typedDependencies:De,createDot:Mc},_n={addScalarDependencies:st,dotDependencies:Ul,equalScalarDependencies:Mr,matrixDependencies:Ke,multiplyScalarDependencies:Bn,typedDependencies:De,createMultiply:kf},Za={typedDependencies:De,createSubtractScalar:ef},Ja={typedDependencies:De,createUnaryMinus:Vs},zl={divideScalarDependencies:Tn,isZeroDependencies:Ll,matrixDependencies:Ke,multiplyDependencies:_n,subtractScalarDependencies:Za,typedDependencies:De,unaryMinusDependencies:Ja,createDet:Nl},kl={absDependencies:qa,addScalarDependencies:st,detDependencies:zl,divideScalarDependencies:Tn,identityDependencies:Wa,matrixDependencies:Ke,multiplyDependencies:_n,typedDependencies:De,unaryMinusDependencies:Ja,createInv:Al},ql={ComplexDependencies:Wt,fractionDependencies:ja,identityDependencies:Wa,invDependencies:kl,matrixDependencies:Ke,multiplyDependencies:_n,numberDependencies:Mn,typedDependencies:De,createPow:gc},Hl={BigNumberDependencies:Ir,ComplexDependencies:Wt,FractionDependencies:xn,absDependencies:qa,addScalarDependencies:st,divideScalarDependencies:Tn,equalDependencies:Ol,fixDependencies:Il,formatDependencies:Rl,isNumericDependencies:Pl,multiplyScalarDependencies:Bn,numberDependencies:Mn,powDependencies:ql,roundDependencies:On,subtractScalarDependencies:Za,createUnitClass:Cc},Gl={createResultSet:ao},jl={NodeDependencies:er,ResultSetDependencies:Gl,createBlockNode:kc},Vl={NodeDependencies:er,createConditionalNode:Hc},Wl={NodeDependencies:er,createConstantNode:Xc},Yl={NodeDependencies:er,typedDependencies:De,createFunctionAssignmentNode:Qc},Xa={UnitDependencies:Hl,NodeDependencies:er,createSymbolNode:vl},Zl={NodeDependencies:er,SymbolNodeDependencies:Xa,createFunctionNode:dl},Jl={NodeDependencies:er,sizeDependencies:Ya,createIndexNode:rl},Xl={NodeDependencies:er,createObjectNode:nl},Kl={NodeDependencies:er,createOperatorNode:al},Ql={NodeDependencies:er,createParenthesisNode:ol},e0={NodeDependencies:er,createRangeNode:fl},r0={NodeDependencies:er,createRelationalNode:ll},t0={AccessorNodeDependencies:xl,ArrayNodeDependencies:Sl,AssignmentNodeDependencies:Ml,BlockNodeDependencies:jl,ConditionalNodeDependencies:Vl,ConstantNodeDependencies:Wl,FunctionAssignmentNodeDependencies:Yl,FunctionNodeDependencies:Zl,IndexNodeDependencies:Jl,ObjectNodeDependencies:Xl,OperatorNodeDependencies:Kl,ParenthesisNodeDependencies:Ql,RangeNodeDependencies:e0,RelationalNodeDependencies:r0,SymbolNodeDependencies:Xa,numericDependencies:Va,typedDependencies:De,createParse:Dl},c0={BigNumberDependencies:Ir,typedDependencies:De,createUnaryPlus:Ys},l0={parseDependencies:t0,typedDependencies:De,createEvaluate:wl},In={exports:{}};function Rn(){}Rn.prototype={on:function(e,r,i){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:r,ctx:i}),this},once:function(e,r,i){var a=this;function t(){a.off(e,t),r.apply(i,arguments)}return t._=r,this.on(e,t,i)},emit:function(e){var r=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),a=0,t=i.length;for(a;a<t;a++)i[a].fn.apply(i[a].ctx,r);return this},off:function(e,r){var i=this.e||(this.e={}),a=i[e],t=[];if(a&&r)for(var n=0,u=a.length;n<u;n++)a[n].fn!==r&&a[n].fn._!==r&&t.push(a[n]);return t.length?i[e]=t:delete i[e],this}};In.exports=Rn;In.exports.TinyEmitter=Rn;var n0=In.exports;const i0=Lt(n0);function a0(e){var r=new i0;return e.on=r.on.bind(r),e.off=r.off.bind(r),e.once=r.once.bind(r),e.emit=r.emit.bind(r),e}function u0(e,r,i,a){function t(D,g){var N=arguments.length;if(N!==1&&N!==2)throw new _r("import",N,1,2);g||(g={});function E(M,T,O){if(Array.isArray(T))T.forEach(P=>E(M,P));else if(typeof T=="object")for(var _ in T)ae(T,_)&&E(M,T[_],_);else if(Jr(T)||O!==void 0){var R=Jr(T)?m(T)?T.fn+".transform":T.fn:O;if(ae(M,R)&&M[R]!==T&&!g.silent)throw new Error('Cannot import "'+R+'" twice');M[R]=T}else if(!g.silent)throw new TypeError("Factory, Object, or Array expected")}var b={};E(b,D);for(var w in b)if(ae(b,w)){var y=b[w];if(Jr(y))c(y,g);else if(s(y))n(w,y,g);else if(!g.silent)throw new TypeError("Factory, Object, or Array expected")}}function n(D,g,N){if(N.wrap&&typeof g=="function"&&(g=h(g)),o(g)&&(g=e(D,{[g.signature]:g})),e.isTypedFunction(i[D])&&e.isTypedFunction(g)){N.override?g=e(D,g.signatures):g=e(i[D],g),i[D]=g,delete a[D],u(D,g),i.emit("import",D,function(){return g});return}if(i[D]===void 0||N.override){i[D]=g,delete a[D],u(D,g),i.emit("import",D,function(){return g});return}if(!N.silent)throw new Error('Cannot import "'+D+'": already exists')}function u(D,g){g&&typeof g.transform=="function"?(i.expression.transform[D]=g.transform,f(D)&&(i.expression.mathWithTransform[D]=g.transform)):(delete i.expression.transform[D],f(D)&&(i.expression.mathWithTransform[D]=g))}function p(D){delete i.expression.transform[D],f(D)?i.expression.mathWithTransform[D]=i[D]:delete i.expression.mathWithTransform[D]}function h(D){var g=function(){for(var E=[],b=0,w=arguments.length;b<w;b++){var y=arguments[b];E[b]=y&&y.valueOf()}return D.apply(i,E)};return D.transform&&(g.transform=D.transform),g}function c(D,g){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D.fn;if(Yn(N,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(N));var E=m(D)?i.expression.transform:i,b=N in i.expression.transform,w=ae(E,N)?E[N]:void 0,y=function(){var T={};D.dependencies.map(sa).forEach(_=>{if(Yn(_,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(_));_==="math"?T.math=i:_==="mathWithTransform"?T.mathWithTransform=i.expression.mathWithTransform:_==="classes"?T.classes=i:T[_]=i[_]});var O=D(T);if(O&&typeof O.transform=="function")throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(w===void 0||g.override)return O;if(e.isTypedFunction(w)&&e.isTypedFunction(O))return e(w,O);if(g.silent)return w;throw new Error('Cannot import "'+N+'": already exists')};!D.meta||D.meta.lazy!==!1?(Zt(E,N,y),w&&b?p(N):(m(D)||l(D))&&Zt(i.expression.mathWithTransform,N,()=>E[N])):(E[N]=y(),w&&b?p(N):(m(D)||l(D))&&Zt(i.expression.mathWithTransform,N,()=>E[N])),a[N]=D,i.emit("import",N,y)}function s(D){return typeof D=="function"||typeof D=="number"||typeof D=="string"||typeof D=="boolean"||D===null||lr(D)||Ar(D)||Le(D)||$t(D)||ke(D)||Array.isArray(D)}function o(D){return typeof D=="function"&&typeof D.signature=="string"}function f(D){return!ae(v,D)}function l(D){return D.fn.indexOf(".")===-1&&!ae(v,D.fn)&&(!D.meta||!D.meta.isClass)}function m(D){return D!==void 0&&D.meta!==void 0&&D.meta.isTransformFunction===!0||!1}var v={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return t}function o0(e,r){var i=sr({},Mi,r);if(typeof Object.create!="function")throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var a=a0({isNumber:Oe,isComplex:Ar,isBigNumber:Le,isFraction:$t,isUnit:lr,isString:fr,isArray:Re,isMatrix:ke,isCollection:Xr,isDenseMatrix:Ti,isSparseMatrix:Oi,isRange:Bi,isIndex:rt,isBoolean:_i,isResultSet:Ii,isHelp:Ri,isFunction:Pi,isDate:Li,isRegExp:$i,isObject:tt,isNull:Ui,isUndefined:zi,isAccessorNode:Tr,isArrayNode:Kr,isAssignmentNode:ki,isBlockNode:qi,isConditionalNode:Hi,isConstantNode:vr,isFunctionAssignmentNode:En,isFunctionNode:Ut,isIndexNode:nt,isNode:qe,isObjectNode:wn,isOperatorNode:it,isParenthesisNode:zr,isRangeNode:Gi,isRelationalNode:ji,isSymbolNode:ur,isChain:Vi});a.config=Mu(i,a.emit),a.expression={transform:{},mathWithTransform:{config:a.config}};var t=[],n=[];function u(s){if(Jr(s))return s(a);var o=s[Object.keys(s)[0]];if(Jr(o))return o(a);if(!xu(s))throw console.warn("Factory object with properties `type`, `name`, and `factory` expected",s),new Error("Factory object with properties `type`, `name`, and `factory` expected");var f=t.indexOf(s),l;return f===-1?(s.math===!0?l=s.factory(a.type,i,u,a.typed,a):l=s.factory(a.type,i,u,a.typed),t.push(s),n.push(l)):l=n[f],l}var p={};function h(){for(var s=arguments.length,o=new Array(s),f=0;f<s;f++)o[f]=arguments[f];return a.typed.apply(a.typed,o)}h.isTypedFunction=nn.isTypedFunction;var c=u0(h,u,a,p);return a.import=c,a.on("config",()=>{Object.values(p).forEach(s=>{s&&s.meta&&s.meta.recreateOnConfigChange&&c(s,{override:!0})})}),a.create=o0.bind(null,e),a.factory=te,a.import(Object.values(Fu(e))),a.ArgumentsError=_r,a.DimensionError=ge,a.IndexError=wr,a}export{o0 as c,l0 as e,c0 as u};
