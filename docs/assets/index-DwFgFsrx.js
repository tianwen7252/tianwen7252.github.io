const __vite__fileDeps=["./index-291Fi1Vv.js","./react-CrrgmX9u.js","./antd-Bk4piC4u.js","./StickyHeader-CZt5VF9O.js","./lodash-EY-pETZd.js","./mathjs-CgcXHlQa.js","./index-Cqj8VJU_.js","./chartjs-DX-Ta7_F.js","./index-DdMyTRU3.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as D,b as ko,c as uu,d as lu,e as Un,g as lr,R as _r}from"./react-CrrgmX9u.js";import{d as du,b as ot,F as Gn,R as fu,c as hu,e as pu,f as mu,g as yu,h as Ps,B as Er,i as Et,D as Ii,T as Ro,S as Wt,j as Ms,k as As,l as sa,m as vu,I as gu,M as Is,n as bu,o as wu,p as Fo,q as xu,r as _u,s as Eu,t as Cu,u as Su,v as Rr,w as Tu,x as Ou,y as ku,E as Ru,z as Dn,A as Du,C as Pu,G as Mu,H as Au}from"./antd-Bk4piC4u.js";import{i as Ko,f as Iu,t as $u,p as Lu,d as Bu}from"./lodash-EY-pETZd.js";import{c as Nu,e as ju}from"./mathjs-CgcXHlQa.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function o(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(c){if(c.ep)return;c.ep=!0;const l=o(c);fetch(c.href,l)}})();var $s={exports:{}},Ca={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu=D,Ku=Symbol.for("react.element"),zu=Symbol.for("react.fragment"),Uu=Object.prototype.hasOwnProperty,Yu=Fu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qu={key:!0,ref:!0,__self:!0,__source:!0};function Ls(t,r,o){var i,c={},l=null,d=null;o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),r.ref!==void 0&&(d=r.ref);for(i in r)Uu.call(r,i)&&!qu.hasOwnProperty(i)&&(c[i]=r[i]);if(t&&t.defaultProps)for(i in r=t.defaultProps,r)c[i]===void 0&&(c[i]=r[i]);return{$$typeof:Ku,type:t,key:l,ref:d,props:c,_owner:Yu.current}}Ca.Fragment=zu;Ca.jsx=Ls;Ca.jsxs=Ls;$s.exports=Ca;var Dr=$s.exports;function Hu(t){if(t.sheet)return t.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===t)return document.styleSheets[r]}function Wu(t){var r=document.createElement("style");return r.setAttribute("data-emotion",t.key),t.nonce!==void 0&&r.setAttribute("nonce",t.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var Vu=function(){function t(o){var i=this;this._insertTag=function(c){var l;i.tags.length===0?i.insertionPoint?l=i.insertionPoint.nextSibling:i.prepend?l=i.container.firstChild:l=i.before:l=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(c,l),i.tags.push(c)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var r=t.prototype;return r.hydrate=function(i){i.forEach(this._insertTag)},r.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Wu(this));var c=this.tags[this.tags.length-1];if(this.isSpeedy){var l=Hu(c);try{l.insertRule(i,l.cssRules.length)}catch{}}else c.appendChild(document.createTextNode(i));this.ctr++},r.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},t}(),Nt="-ms-",va="-moz-",We="-webkit-",Bs="comm",zo="rule",Uo="decl",Gu="@import",Ns="@keyframes",Xu="@layer",Zu=Math.abs,Sa=String.fromCharCode,Qu=Object.assign;function Ju(t,r){return At(t,0)^45?(((r<<2^At(t,0))<<2^At(t,1))<<2^At(t,2))<<2^At(t,3):0}function js(t){return t.trim()}function el(t,r){return(t=r.exec(t))?t[0]:t}function Ve(t,r,o){return t.replace(r,o)}function Do(t,r){return t.indexOf(r)}function At(t,r){return t.charCodeAt(r)|0}function Pr(t,r,o){return t.slice(r,o)}function pn(t){return t.length}function Yo(t){return t.length}function ca(t,r){return r.push(t),t}function tl(t,r){return t.map(r).join("")}var Ta=1,ir=1,Fs=0,Vt=0,Ct=0,dr="";function Oa(t,r,o,i,c,l,d){return{value:t,root:r,parent:o,type:i,props:c,children:l,line:Ta,column:ir,length:d,return:""}}function Cr(t,r){return Qu(Oa("",null,null,"",null,null,0),t,{length:-t.length},r)}function nl(){return Ct}function rl(){return Ct=Vt>0?At(dr,--Vt):0,ir--,Ct===10&&(ir=1,Ta--),Ct}function Qt(){return Ct=Vt<Fs?At(dr,Vt++):0,ir++,Ct===10&&(ir=1,Ta++),Ct}function yn(){return At(dr,Vt)}function ha(){return Vt}function Nr(t,r){return Pr(dr,t,r)}function Mr(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ks(t){return Ta=ir=1,Fs=pn(dr=t),Vt=0,[]}function zs(t){return dr="",t}function pa(t){return js(Nr(Vt-1,Po(t===91?t+2:t===40?t+1:t)))}function al(t){for(;(Ct=yn())&&Ct<33;)Qt();return Mr(t)>2||Mr(Ct)>3?"":" "}function ol(t,r){for(;--r&&Qt()&&!(Ct<48||Ct>102||Ct>57&&Ct<65||Ct>70&&Ct<97););return Nr(t,ha()+(r<6&&yn()==32&&Qt()==32))}function Po(t){for(;Qt();)switch(Ct){case t:return Vt;case 34:case 39:t!==34&&t!==39&&Po(Ct);break;case 40:t===41&&Po(t);break;case 92:Qt();break}return Vt}function il(t,r){for(;Qt()&&t+Ct!==57;)if(t+Ct===84&&yn()===47)break;return"/*"+Nr(r,Vt-1)+"*"+Sa(t===47?t:Qt())}function sl(t){for(;!Mr(yn());)Qt();return Nr(t,Vt)}function cl(t){return zs(ma("",null,null,null,[""],t=Ks(t),0,[0],t))}function ma(t,r,o,i,c,l,d,p,h){for(var v=0,y=0,b=d,k=0,q=0,L=0,S=1,j=1,V=1,X=0,Y="",Z=c,W=l,U=i,w=Y;j;)switch(L=X,X=Qt()){case 40:if(L!=108&&At(w,b-1)==58){Do(w+=Ve(pa(X),"&","&\f"),"&\f")!=-1&&(V=-1);break}case 34:case 39:case 91:w+=pa(X);break;case 9:case 10:case 13:case 32:w+=al(L);break;case 92:w+=ol(ha()-1,7);continue;case 47:switch(yn()){case 42:case 47:ca(ul(il(Qt(),ha()),r,o),h);break;default:w+="/"}break;case 123*S:p[v++]=pn(w)*V;case 125*S:case 59:case 0:switch(X){case 0:case 125:j=0;case 59+y:V==-1&&(w=Ve(w,/\f/g,"")),q>0&&pn(w)-b&&ca(q>32?Li(w+";",i,o,b-1):Li(Ve(w," ","")+";",i,o,b-2),h);break;case 59:w+=";";default:if(ca(U=$i(w,r,o,v,y,c,p,Y,Z=[],W=[],b),l),X===123)if(y===0)ma(w,r,U,U,Z,l,b,p,W);else switch(k===99&&At(w,3)===110?100:k){case 100:case 108:case 109:case 115:ma(t,U,U,i&&ca($i(t,U,U,0,0,c,p,Y,c,Z=[],b),W),c,W,b,p,i?Z:W);break;default:ma(w,U,U,U,[""],W,0,p,W)}}v=y=q=0,S=V=1,Y=w="",b=d;break;case 58:b=1+pn(w),q=L;default:if(S<1){if(X==123)--S;else if(X==125&&S++==0&&rl()==125)continue}switch(w+=Sa(X),X*S){case 38:V=y>0?1:(w+="\f",-1);break;case 44:p[v++]=(pn(w)-1)*V,V=1;break;case 64:yn()===45&&(w+=pa(Qt())),k=yn(),y=b=pn(Y=w+=sl(ha())),X++;break;case 45:L===45&&pn(w)==2&&(S=0)}}return l}function $i(t,r,o,i,c,l,d,p,h,v,y){for(var b=c-1,k=c===0?l:[""],q=Yo(k),L=0,S=0,j=0;L<i;++L)for(var V=0,X=Pr(t,b+1,b=Zu(S=d[L])),Y=t;V<q;++V)(Y=js(S>0?k[V]+" "+X:Ve(X,/&\f/g,k[V])))&&(h[j++]=Y);return Oa(t,r,o,c===0?zo:p,h,v,y)}function ul(t,r,o){return Oa(t,r,o,Bs,Sa(nl()),Pr(t,2,-2),0)}function Li(t,r,o,i){return Oa(t,r,o,Uo,Pr(t,0,i),Pr(t,i+1,-1),i)}function nr(t,r){for(var o="",i=Yo(t),c=0;c<i;c++)o+=r(t[c],c,t,r)||"";return o}function ll(t,r,o,i){switch(t.type){case Xu:if(t.children.length)break;case Gu:case Uo:return t.return=t.return||t.value;case Bs:return"";case Ns:return t.return=t.value+"{"+nr(t.children,i)+"}";case zo:t.value=t.props.join(",")}return pn(o=nr(t.children,i))?t.return=t.value+"{"+o+"}":""}function dl(t){var r=Yo(t);return function(o,i,c,l){for(var d="",p=0;p<r;p++)d+=t[p](o,i,c,l)||"";return d}}function fl(t){return function(r){r.root||(r=r.return)&&t(r)}}function hl(t){var r=Object.create(null);return function(o){return r[o]===void 0&&(r[o]=t(o)),r[o]}}var pl=function(r,o,i){for(var c=0,l=0;c=l,l=yn(),c===38&&l===12&&(o[i]=1),!Mr(l);)Qt();return Nr(r,Vt)},ml=function(r,o){var i=-1,c=44;do switch(Mr(c)){case 0:c===38&&yn()===12&&(o[i]=1),r[i]+=pl(Vt-1,o,i);break;case 2:r[i]+=pa(c);break;case 4:if(c===44){r[++i]=yn()===58?"&\f":"",o[i]=r[i].length;break}default:r[i]+=Sa(c)}while(c=Qt());return r},yl=function(r,o){return zs(ml(Ks(r),o))},Bi=new WeakMap,vl=function(r){if(!(r.type!=="rule"||!r.parent||r.length<1)){for(var o=r.value,i=r.parent,c=r.column===i.column&&r.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(r.props.length===1&&o.charCodeAt(0)!==58&&!Bi.get(i))&&!c){Bi.set(r,!0);for(var l=[],d=yl(o,l),p=i.props,h=0,v=0;h<d.length;h++)for(var y=0;y<p.length;y++,v++)r.props[v]=l[h]?d[h].replace(/&\f/g,p[y]):p[y]+" "+d[h]}}},gl=function(r){if(r.type==="decl"){var o=r.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(r.return="",r.value="")}};function Us(t,r){switch(Ju(t,r)){case 5103:return We+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return We+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return We+t+va+t+Nt+t+t;case 6828:case 4268:return We+t+Nt+t+t;case 6165:return We+t+Nt+"flex-"+t+t;case 5187:return We+t+Ve(t,/(\w+).+(:[^]+)/,We+"box-$1$2"+Nt+"flex-$1$2")+t;case 5443:return We+t+Nt+"flex-item-"+Ve(t,/flex-|-self/,"")+t;case 4675:return We+t+Nt+"flex-line-pack"+Ve(t,/align-content|flex-|-self/,"")+t;case 5548:return We+t+Nt+Ve(t,"shrink","negative")+t;case 5292:return We+t+Nt+Ve(t,"basis","preferred-size")+t;case 6060:return We+"box-"+Ve(t,"-grow","")+We+t+Nt+Ve(t,"grow","positive")+t;case 4554:return We+Ve(t,/([^-])(transform)/g,"$1"+We+"$2")+t;case 6187:return Ve(Ve(Ve(t,/(zoom-|grab)/,We+"$1"),/(image-set)/,We+"$1"),t,"")+t;case 5495:case 3959:return Ve(t,/(image-set\([^]*)/,We+"$1$`$1");case 4968:return Ve(Ve(t,/(.+:)(flex-)?(.*)/,We+"box-pack:$3"+Nt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+We+t+t;case 4095:case 3583:case 4068:case 2532:return Ve(t,/(.+)-inline(.+)/,We+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pn(t)-1-r>6)switch(At(t,r+1)){case 109:if(At(t,r+4)!==45)break;case 102:return Ve(t,/(.+:)(.+)-([^]+)/,"$1"+We+"$2-$3$1"+va+(At(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~Do(t,"stretch")?Us(Ve(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(At(t,r+1)!==115)break;case 6444:switch(At(t,pn(t)-3-(~Do(t,"!important")&&10))){case 107:return Ve(t,":",":"+We)+t;case 101:return Ve(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+We+(At(t,14)===45?"inline-":"")+"box$3$1"+We+"$2$3$1"+Nt+"$2box$3")+t}break;case 5936:switch(At(t,r+11)){case 114:return We+t+Nt+Ve(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return We+t+Nt+Ve(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return We+t+Nt+Ve(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return We+t+Nt+t+t}return t}var bl=function(r,o,i,c){if(r.length>-1&&!r.return)switch(r.type){case Uo:r.return=Us(r.value,r.length);break;case Ns:return nr([Cr(r,{value:Ve(r.value,"@","@"+We)})],c);case zo:if(r.length)return tl(r.props,function(l){switch(el(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nr([Cr(r,{props:[Ve(l,/:(read-\w+)/,":"+va+"$1")]})],c);case"::placeholder":return nr([Cr(r,{props:[Ve(l,/:(plac\w+)/,":"+We+"input-$1")]}),Cr(r,{props:[Ve(l,/:(plac\w+)/,":"+va+"$1")]}),Cr(r,{props:[Ve(l,/:(plac\w+)/,Nt+"input-$1")]})],c)}return""})}},wl=[bl],Ys=function(r){var o=r.key;if(o==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(S){var j=S.getAttribute("data-emotion");j.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var c=r.stylisPlugins||wl,l={},d,p=[];d=r.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(S){for(var j=S.getAttribute("data-emotion").split(" "),V=1;V<j.length;V++)l[j[V]]=!0;p.push(S)});var h,v=[vl,gl];{var y,b=[ll,fl(function(S){y.insert(S)})],k=dl(v.concat(c,b)),q=function(j){return nr(cl(j),k)};h=function(j,V,X,Y){y=X,q(j?j+"{"+V.styles+"}":V.styles),Y&&(L.inserted[V.name]=!0)}}var L={key:o,sheet:new Vu({key:o,container:d,nonce:r.nonce,speedy:r.speedy,prepend:r.prepend,insertionPoint:r.insertionPoint}),nonce:r.nonce,inserted:l,registered:{},insert:h};return L.sheet.hydrate(p),L},qs={exports:{}},Xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt=typeof Symbol=="function"&&Symbol.for,qo=Dt?Symbol.for("react.element"):60103,Ho=Dt?Symbol.for("react.portal"):60106,ka=Dt?Symbol.for("react.fragment"):60107,Ra=Dt?Symbol.for("react.strict_mode"):60108,Da=Dt?Symbol.for("react.profiler"):60114,Pa=Dt?Symbol.for("react.provider"):60109,Ma=Dt?Symbol.for("react.context"):60110,Wo=Dt?Symbol.for("react.async_mode"):60111,Aa=Dt?Symbol.for("react.concurrent_mode"):60111,Ia=Dt?Symbol.for("react.forward_ref"):60112,$a=Dt?Symbol.for("react.suspense"):60113,xl=Dt?Symbol.for("react.suspense_list"):60120,La=Dt?Symbol.for("react.memo"):60115,Ba=Dt?Symbol.for("react.lazy"):60116,_l=Dt?Symbol.for("react.block"):60121,El=Dt?Symbol.for("react.fundamental"):60117,Cl=Dt?Symbol.for("react.responder"):60118,Sl=Dt?Symbol.for("react.scope"):60119;function Jt(t){if(typeof t=="object"&&t!==null){var r=t.$$typeof;switch(r){case qo:switch(t=t.type,t){case Wo:case Aa:case ka:case Da:case Ra:case $a:return t;default:switch(t=t&&t.$$typeof,t){case Ma:case Ia:case Ba:case La:case Pa:return t;default:return r}}case Ho:return r}}}function Hs(t){return Jt(t)===Aa}Xe.AsyncMode=Wo;Xe.ConcurrentMode=Aa;Xe.ContextConsumer=Ma;Xe.ContextProvider=Pa;Xe.Element=qo;Xe.ForwardRef=Ia;Xe.Fragment=ka;Xe.Lazy=Ba;Xe.Memo=La;Xe.Portal=Ho;Xe.Profiler=Da;Xe.StrictMode=Ra;Xe.Suspense=$a;Xe.isAsyncMode=function(t){return Hs(t)||Jt(t)===Wo};Xe.isConcurrentMode=Hs;Xe.isContextConsumer=function(t){return Jt(t)===Ma};Xe.isContextProvider=function(t){return Jt(t)===Pa};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qo};Xe.isForwardRef=function(t){return Jt(t)===Ia};Xe.isFragment=function(t){return Jt(t)===ka};Xe.isLazy=function(t){return Jt(t)===Ba};Xe.isMemo=function(t){return Jt(t)===La};Xe.isPortal=function(t){return Jt(t)===Ho};Xe.isProfiler=function(t){return Jt(t)===Da};Xe.isStrictMode=function(t){return Jt(t)===Ra};Xe.isSuspense=function(t){return Jt(t)===$a};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ka||t===Aa||t===Da||t===Ra||t===$a||t===xl||typeof t=="object"&&t!==null&&(t.$$typeof===Ba||t.$$typeof===La||t.$$typeof===Pa||t.$$typeof===Ma||t.$$typeof===Ia||t.$$typeof===El||t.$$typeof===Cl||t.$$typeof===Sl||t.$$typeof===_l)};Xe.typeOf=Jt;qs.exports=Xe;var Tl=qs.exports,Ws=Tl,Ol={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kl={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vs={};Vs[Ws.ForwardRef]=Ol;Vs[Ws.Memo]=kl;var Rl=!0;function Vo(t,r,o){var i="";return o.split(" ").forEach(function(c){t[c]!==void 0?r.push(t[c]+";"):i+=c+" "}),i}var Gs=function(r,o,i){var c=r.key+"-"+o.name;(i===!1||Rl===!1)&&r.registered[c]===void 0&&(r.registered[c]=o.styles)},Go=function(r,o,i){Gs(r,o,i);var c=r.key+"-"+o.name;if(r.inserted[o.name]===void 0){var l=o;do r.insert(o===l?"."+c:"",l,r.sheet,!0),l=l.next;while(l!==void 0)}};function Dl(t){for(var r=0,o,i=0,c=t.length;c>=4;++i,c-=4)o=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,r=(o&65535)*1540483477+((o>>>16)*59797<<16)^(r&65535)*1540483477+((r>>>16)*59797<<16);switch(c){case 3:r^=(t.charCodeAt(i+2)&255)<<16;case 2:r^=(t.charCodeAt(i+1)&255)<<8;case 1:r^=t.charCodeAt(i)&255,r=(r&65535)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,r=(r&65535)*1540483477+((r>>>16)*59797<<16),((r^r>>>15)>>>0).toString(36)}var Pl={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ml=/[A-Z]|^ms/g,Al=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Xs=function(r){return r.charCodeAt(1)===45},Ni=function(r){return r!=null&&typeof r!="boolean"},yo=hl(function(t){return Xs(t)?t:t.replace(Ml,"-$&").toLowerCase()}),ji=function(r,o){switch(r){case"animation":case"animationName":if(typeof o=="string")return o.replace(Al,function(i,c,l){return mn={name:c,styles:l,next:mn},c})}return Pl[r]!==1&&!Xs(r)&&typeof o=="number"&&o!==0?o+"px":o};function Ar(t,r,o){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return mn={name:o.name,styles:o.styles,next:mn},o.name;if(o.styles!==void 0){var i=o.next;if(i!==void 0)for(;i!==void 0;)mn={name:i.name,styles:i.styles,next:mn},i=i.next;var c=o.styles+";";return c}return Il(t,r,o)}case"function":{if(t!==void 0){var l=mn,d=o(t);return mn=l,Ar(t,r,d)}break}}if(r==null)return o;var p=r[o];return p!==void 0?p:o}function Il(t,r,o){var i="";if(Array.isArray(o))for(var c=0;c<o.length;c++)i+=Ar(t,r,o[c])+";";else for(var l in o){var d=o[l];if(typeof d!="object")r!=null&&r[d]!==void 0?i+=l+"{"+r[d]+"}":Ni(d)&&(i+=yo(l)+":"+ji(l,d)+";");else if(Array.isArray(d)&&typeof d[0]=="string"&&(r==null||r[d[0]]===void 0))for(var p=0;p<d.length;p++)Ni(d[p])&&(i+=yo(l)+":"+ji(l,d[p])+";");else{var h=Ar(t,r,d);switch(l){case"animation":case"animationName":{i+=yo(l)+":"+h+";";break}default:i+=l+"{"+h+"}"}}}return i}var Fi=/label:\s*([^\s;\n{]+)\s*(;|$)/g,mn,rr=function(r,o,i){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var c=!0,l="";mn=void 0;var d=r[0];d==null||d.raw===void 0?(c=!1,l+=Ar(i,o,d)):l+=d[0];for(var p=1;p<r.length;p++)l+=Ar(i,o,r[p]),c&&(l+=d[p]);Fi.lastIndex=0;for(var h="",v;(v=Fi.exec(l))!==null;)h+="-"+v[1];var y=Dl(l)+h;return{name:y,styles:l,next:mn}},$l=function(r){return r()},Zs=ko.useInsertionEffect?ko.useInsertionEffect:!1,Ll=Zs||$l,Ki=Zs||D.useLayoutEffect,jr={}.hasOwnProperty,Qs=D.createContext(typeof HTMLElement<"u"?Ys({key:"css"}):null);Qs.Provider;var Js=function(r){return D.forwardRef(function(o,i){var c=D.useContext(Qs);return r(o,c,i)})},ec=D.createContext({}),Mo="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Xo=function(r,o){var i={};for(var c in o)jr.call(o,c)&&(i[c]=o[c]);return i[Mo]=r,i},Bl=function(r){var o=r.cache,i=r.serialized,c=r.isStringTag;return Gs(o,i,c),Ll(function(){return Go(o,i,c)}),null},Nl=Js(function(t,r,o){var i=t.css;typeof i=="string"&&r.registered[i]!==void 0&&(i=r.registered[i]);var c=t[Mo],l=[i],d="";typeof t.className=="string"?d=Vo(r.registered,l,t.className):t.className!=null&&(d=t.className+" ");var p=rr(l,void 0,D.useContext(ec));d+=r.key+"-"+p.name;var h={};for(var v in t)jr.call(t,v)&&v!=="css"&&v!==Mo&&(h[v]=t[v]);return h.ref=o,h.className=d,D.createElement(D.Fragment,null,D.createElement(Bl,{cache:r,serialized:p,isStringTag:typeof c=="string"}),D.createElement(c,h))}),Zo=Nl,It=Dr.Fragment;function N(t,r,o){return jr.call(r,"css")?Dr.jsx(Zo,Xo(t,r),o):Dr.jsx(t,r,o)}function pe(t,r,o){return jr.call(r,"css")?Dr.jsxs(Zo,Xo(t,r),o):Dr.jsxs(t,r,o)}var tc,zi=uu;tc=zi.createRoot,zi.hydrateRoot;var Ui=function(r,o){var i=arguments;if(o==null||!jr.call(o,"css"))return D.createElement.apply(void 0,i);var c=i.length,l=new Array(c);l[0]=Zo,l[1]=Xo(r,o);for(var d=2;d<c;d++)l[d]=i[d];return D.createElement.apply(null,l)},jl=Js(function(t,r){var o=t.styles,i=rr([o],void 0,D.useContext(ec)),c=D.useRef();return Ki(function(){var l=r.key+"-global",d=new r.sheet.constructor({key:l,nonce:r.sheet.nonce,container:r.sheet.container,speedy:r.sheet.isSpeedy}),p=!1,h=document.querySelector('style[data-emotion="'+l+" "+i.name+'"]');return r.sheet.tags.length&&(d.before=r.sheet.tags[0]),h!==null&&(p=!0,h.setAttribute("data-emotion",l),d.hydrate([h])),c.current=[d,p],function(){d.flush()}},[r]),Ki(function(){var l=c.current,d=l[0],p=l[1];if(p){l[1]=!1;return}if(i.next!==void 0&&Go(r,i.next,!0),d.tags.length){var h=d.tags[d.tags.length-1].nextElementSibling;d.before=h,d.flush()}r.insert("",i,d,!1)},[r,i.name]),null});function ce(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return rr(r)}/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ut(){return ut=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},ut.apply(this,arguments)}var vt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vt||(vt={}));const Yi="popstate";function Fl(t){t===void 0&&(t={});function r(i,c){let{pathname:l,search:d,hash:p}=i.location;return Ir("",{pathname:l,search:d,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(i,c){return typeof c=="string"?c:Fr(c)}return zl(r,o,null,t)}function Me(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function sr(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Kl(){return Math.random().toString(36).substr(2,8)}function qi(t,r){return{usr:t.state,key:t.key,idx:r}}function Ir(t,r,o,i){return o===void 0&&(o=null),ut({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?En(r):r,{state:o,key:r&&r.key||i||Kl()})}function Fr(t){let{pathname:r="/",search:o="",hash:i=""}=t;return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function En(t){let r={};if(t){let o=t.indexOf("#");o>=0&&(r.hash=t.substr(o),t=t.substr(0,o));let i=t.indexOf("?");i>=0&&(r.search=t.substr(i),t=t.substr(0,i)),t&&(r.pathname=t)}return r}function zl(t,r,o,i){i===void 0&&(i={});let{window:c=document.defaultView,v5Compat:l=!1}=i,d=c.history,p=vt.Pop,h=null,v=y();v==null&&(v=0,d.replaceState(ut({},d.state,{idx:v}),""));function y(){return(d.state||{idx:null}).idx}function b(){p=vt.Pop;let j=y(),V=j==null?null:j-v;v=j,h&&h({action:p,location:S.location,delta:V})}function k(j,V){p=vt.Push;let X=Ir(S.location,j,V);v=y()+1;let Y=qi(X,v),Z=S.createHref(X);try{d.pushState(Y,"",Z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;c.location.assign(Z)}l&&h&&h({action:p,location:S.location,delta:1})}function q(j,V){p=vt.Replace;let X=Ir(S.location,j,V);v=y();let Y=qi(X,v),Z=S.createHref(X);d.replaceState(Y,"",Z),l&&h&&h({action:p,location:S.location,delta:0})}function L(j){let V=c.location.origin!=="null"?c.location.origin:c.location.href,X=typeof j=="string"?j:Fr(j);return X=X.replace(/ $/,"%20"),Me(V,"No window.location.(origin|href) available to create URL for href: "+X),new URL(X,V)}let S={get action(){return p},get location(){return t(c,d)},listen(j){if(h)throw new Error("A history only accepts one active listener");return c.addEventListener(Yi,b),h=j,()=>{c.removeEventListener(Yi,b),h=null}},createHref(j){return r(c,j)},createURL:L,encodeLocation(j){let V=L(j);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:k,replace:q,go(j){return d.go(j)}};return S}var st;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(st||(st={}));const Ul=new Set(["lazy","caseSensitive","path","id","index","children"]);function Yl(t){return t.index===!0}function Ao(t,r,o,i){return o===void 0&&(o=[]),i===void 0&&(i={}),t.map((c,l)=>{let d=[...o,l],p=typeof c.id=="string"?c.id:d.join("-");if(Me(c.index!==!0||!c.children,"Cannot specify children on an index route"),Me(!i[p],'Found a route id collision on id "'+p+`".  Route id's must be globally unique within Data Router usages`),Yl(c)){let h=ut({},c,r(c),{id:p});return i[p]=h,h}else{let h=ut({},c,r(c),{id:p,children:void 0});return i[p]=h,c.children&&(h.children=Ao(c.children,r,d,i)),h}})}function Jn(t,r,o){o===void 0&&(o="/");let i=typeof r=="string"?En(r):r,c=Kr(i.pathname||"/",o);if(c==null)return null;let l=nc(t);Hl(l);let d=null;for(let p=0;d==null&&p<l.length;++p){let h=ad(c);d=td(l[p],h)}return d}function ql(t,r){let{route:o,pathname:i,params:c}=t;return{id:o.id,pathname:i,params:c,data:r[o.id],handle:o.handle}}function nc(t,r,o,i){r===void 0&&(r=[]),o===void 0&&(o=[]),i===void 0&&(i="");let c=(l,d,p)=>{let h={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};h.relativePath.startsWith("/")&&(Me(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let v=An([i,h.relativePath]),y=o.concat(h);l.children&&l.children.length>0&&(Me(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),nc(l.children,r,y,v)),!(l.path==null&&!l.index)&&r.push({path:v,score:Jl(v,l.index),routesMeta:y})};return t.forEach((l,d)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))c(l,d);else for(let h of rc(l.path))c(l,d,h)}),r}function rc(t){let r=t.split("/");if(r.length===0)return[];let[o,...i]=r,c=o.endsWith("?"),l=o.replace(/\?$/,"");if(i.length===0)return c?[l,""]:[l];let d=rc(i.join("/")),p=[];return p.push(...d.map(h=>h===""?l:[l,h].join("/"))),c&&p.push(...d),p.map(h=>t.startsWith("/")&&h===""?"/":h)}function Hl(t){t.sort((r,o)=>r.score!==o.score?o.score-r.score:ed(r.routesMeta.map(i=>i.childrenIndex),o.routesMeta.map(i=>i.childrenIndex)))}const Wl=/^:[\w-]+$/,Vl=3,Gl=2,Xl=1,Zl=10,Ql=-2,Hi=t=>t==="*";function Jl(t,r){let o=t.split("/"),i=o.length;return o.some(Hi)&&(i+=Ql),r&&(i+=Gl),o.filter(c=>!Hi(c)).reduce((c,l)=>c+(Wl.test(l)?Vl:l===""?Xl:Zl),i)}function ed(t,r){return t.length===r.length&&t.slice(0,-1).every((i,c)=>i===r[c])?t[t.length-1]-r[r.length-1]:0}function td(t,r){let{routesMeta:o}=t,i={},c="/",l=[];for(let d=0;d<o.length;++d){let p=o[d],h=d===o.length-1,v=c==="/"?r:r.slice(c.length)||"/",y=nd({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},v);if(!y)return null;Object.assign(i,y.params);let b=p.route;l.push({params:i,pathname:An([c,y.pathname]),pathnameBase:sd(An([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=An([c,y.pathnameBase]))}return l}function nd(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[o,i]=rd(t.path,t.caseSensitive,t.end),c=r.match(o);if(!c)return null;let l=c[0],d=l.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:i.reduce((v,y,b)=>{let{paramName:k,isOptional:q}=y;if(k==="*"){let S=p[b]||"";d=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const L=p[b];return q&&!L?v[k]=void 0:v[k]=(L||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:d,pattern:t}}function rd(t,r,o){r===void 0&&(r=!1),o===void 0&&(o=!0),sr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],c="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,h)=>(i.push({paramName:p,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),c+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":t!==""&&t!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),i]}function ad(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return sr(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function Kr(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,i=t.charAt(o);return i&&i!=="/"?null:t.slice(o)||"/"}function od(t,r){r===void 0&&(r="/");let{pathname:o,search:i="",hash:c=""}=typeof t=="string"?En(t):t;return{pathname:o?o.startsWith("/")?o:id(o,r):r,search:cd(i),hash:ud(c)}}function id(t,r){let o=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function vo(t,r,o,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ac(t){return t.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function oc(t,r){let o=ac(t);return r?o.map((i,c)=>c===t.length-1?i.pathname:i.pathnameBase):o.map(i=>i.pathnameBase)}function ic(t,r,o,i){i===void 0&&(i=!1);let c;typeof t=="string"?c=En(t):(c=ut({},t),Me(!c.pathname||!c.pathname.includes("?"),vo("?","pathname","search",c)),Me(!c.pathname||!c.pathname.includes("#"),vo("#","pathname","hash",c)),Me(!c.search||!c.search.includes("#"),vo("#","search","hash",c)));let l=t===""||c.pathname==="",d=l?"/":c.pathname,p;if(d==null)p=o;else{let b=r.length-1;if(!i&&d.startsWith("..")){let k=d.split("/");for(;k[0]==="..";)k.shift(),b-=1;c.pathname=k.join("/")}p=b>=0?r[b]:"/"}let h=od(c,p),v=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&o.endsWith("/");return!h.pathname.endsWith("/")&&(v||y)&&(h.pathname+="/"),h}const An=t=>t.join("/").replace(/\/\/+/g,"/"),sd=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cd=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ud=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Qo{constructor(r,o,i,c){c===void 0&&(c=!1),this.status=r,this.statusText=o||"",this.internal=c,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Jo(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sc=["post","put","patch","delete"],ld=new Set(sc),dd=["get",...sc],fd=new Set(dd),hd=new Set([301,302,303,307,308]),pd=new Set([307,308]),go={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},md={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ei=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yd=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),cc="remix-router-transitions";function vd(t){const r=t.window?t.window:typeof window<"u"?window:void 0,o=typeof r<"u"&&typeof r.document<"u"&&typeof r.document.createElement<"u",i=!o;Me(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let c;if(t.mapRouteProperties)c=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;c=$=>({hasErrorBoundary:R($)})}else c=yd;let l={},d=Ao(t.routes,c,void 0,l),p,h=t.basename||"/",v=t.unstable_dataStrategy||xd,y=ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),b=null,k=new Set,q=null,L=null,S=null,j=t.hydrationData!=null,V=Jn(d,t.history.location,h),X=null;if(V==null){let R=an(404,{pathname:t.history.location.pathname}),{matches:$,route:K}=ns(d);V=$,X={[K.id]:R}}let Y,Z=V.some(R=>R.route.lazy),W=V.some(R=>R.route.loader);if(Z)Y=!1;else if(!W)Y=!0;else if(y.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null,K=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:R&&R[G.route.id]!==void 0||$&&$[G.route.id]!==void 0:!0;if($){let G=V.findIndex(se=>$[se.route.id]!==void 0);Y=V.slice(0,G+1).every(K)}else Y=V.every(K)}else Y=t.hydrationData!=null;let U,w={historyAction:t.history.action,location:t.history.location,matches:V,initialized:Y,navigation:go,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||X,fetchers:new Map,blockers:new Map},he=vt.Pop,de=!1,le,be=!1,fe=new Map,we=null,ge=!1,Ne=!1,Ze=[],gt=[],Te=new Map,bt=0,ct=-1,lt=new Map,St=new Set,dt=new Map,en=new Map,mt=new Set,Se=new Map,je=new Map,ze=!1;function ue(){if(b=t.history.listen(R=>{let{action:$,location:K,delta:G}=R;if(ze){ze=!1;return}sr(je.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=Je({currentLocation:w.location,nextLocation:K,historyAction:$});if(se&&G!=null){ze=!0,t.history.go(G*-1),ft(se,{state:"blocked",location:K,proceed(){ft(se,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),t.history.go(G)},reset(){let xe=new Map(w.blockers);xe.set(se,Sr),ve({blockers:xe})}});return}return Mt($,K)}),o){Ad(r,fe);let R=()=>Id(r,fe);r.addEventListener("pagehide",R),we=()=>r.removeEventListener("pagehide",R)}return w.initialized||Mt(vt.Pop,w.location,{initialHydration:!0}),U}function Gt(){b&&b(),we&&we(),k.clear(),le&&le.abort(),w.fetchers.forEach((R,$)=>Ue($)),w.blockers.forEach((R,$)=>Ot($))}function wt(R){return k.add(R),()=>k.delete(R)}function ve(R,$){$===void 0&&($={}),w=ut({},w,R);let K=[],G=[];y.v7_fetcherPersist&&w.fetchers.forEach((se,xe)=>{se.state==="idle"&&(mt.has(xe)?G.push(xe):K.push(xe))}),[...k].forEach(se=>se(w,{deletedFetchers:G,unstable_viewTransitionOpts:$.viewTransitionOpts,unstable_flushSync:$.flushSync===!0})),y.v7_fetcherPersist&&(K.forEach(se=>w.fetchers.delete(se)),G.forEach(se=>Ue(se)))}function Pt(R,$,K){var G,se;let{flushSync:xe}=K===void 0?{}:K,re=w.actionData!=null&&w.navigation.formMethod!=null&&un(w.navigation.formMethod)&&w.navigation.state==="loading"&&((G=R.state)==null?void 0:G._isRedirect)!==!0,ee;$.actionData?Object.keys($.actionData).length>0?ee=$.actionData:ee=null:re?ee=w.actionData:ee=null;let Oe=$.loaderData?es(w.loaderData,$.loaderData,$.matches||[],$.errors):w.loaderData,_e=w.blockers;_e.size>0&&(_e=new Map(_e),_e.forEach((Ce,Ke)=>_e.set(Ke,Sr)));let ht=de===!0||w.navigation.formMethod!=null&&un(w.navigation.formMethod)&&((se=R.state)==null?void 0:se._isRedirect)!==!0;p&&(d=p,p=void 0),ge||he===vt.Pop||(he===vt.Push?t.history.push(R,R.state):he===vt.Replace&&t.history.replace(R,R.state));let pt;if(he===vt.Pop){let Ce=fe.get(w.location.pathname);Ce&&Ce.has(R.pathname)?pt={currentLocation:w.location,nextLocation:R}:fe.has(R.pathname)&&(pt={currentLocation:R,nextLocation:w.location})}else if(be){let Ce=fe.get(w.location.pathname);Ce?Ce.add(R.pathname):(Ce=new Set([R.pathname]),fe.set(w.location.pathname,Ce)),pt={currentLocation:w.location,nextLocation:R}}ve(ut({},$,{actionData:ee,loaderData:Oe,historyAction:he,location:R,initialized:!0,navigation:go,revalidation:"idle",restoreScrollPosition:Cn(R,$.matches||w.matches),preventScrollReset:ht,blockers:_e}),{viewTransitionOpts:pt,flushSync:xe===!0}),he=vt.Pop,de=!1,be=!1,ge=!1,Ne=!1,Ze=[],gt=[]}async function vn(R,$){if(typeof R=="number"){t.history.go(R);return}let K=Io(w.location,w.matches,h,y.v7_prependBasename,R,y.v7_relativeSplatPath,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:G,submission:se,error:xe}=Wi(y.v7_normalizeFormMethod,!1,K,$),re=w.location,ee=Ir(w.location,G,$&&$.state);ee=ut({},ee,t.history.encodeLocation(ee));let Oe=$&&$.replace!=null?$.replace:void 0,_e=vt.Push;Oe===!0?_e=vt.Replace:Oe===!1||se!=null&&un(se.formMethod)&&se.formAction===w.location.pathname+w.location.search&&(_e=vt.Replace);let ht=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,pt=($&&$.unstable_flushSync)===!0,Ce=Je({currentLocation:re,nextLocation:ee,historyAction:_e});if(Ce){ft(Ce,{state:"blocked",location:ee,proceed(){ft(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),vn(R,$)},reset(){let Ke=new Map(w.blockers);Ke.set(Ce,Sr),ve({blockers:Ke})}});return}return await Mt(_e,ee,{submission:se,pendingError:xe,preventScrollReset:ht,replace:$&&$.replace,enableViewTransition:$&&$.unstable_viewTransition,flushSync:pt})}function zt(){if($e(),ve({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Mt(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Mt(he||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function Mt(R,$,K){le&&le.abort(),le=null,he=R,ge=(K&&K.startUninterruptedRevalidation)===!0,nn(w.location,w.matches),de=(K&&K.preventScrollReset)===!0,be=(K&&K.enableViewTransition)===!0;let G=p||d,se=K&&K.overrideNavigation,xe=Jn(G,$,h),re=(K&&K.flushSync)===!0;if(!xe){let Ce=an(404,{pathname:$.pathname}),{matches:Ke,route:nt}=ns(G);Q(),Pt($,{matches:Ke,loaderData:{},errors:{[nt.id]:Ce}},{flushSync:re});return}if(w.initialized&&!Ne&&Od(w.location,$)&&!(K&&K.submission&&un(K.submission.formMethod))){Pt($,{matches:xe},{flushSync:re});return}le=new AbortController;let ee=Xn(t.history,$,le.signal,K&&K.submission),Oe;if(K&&K.pendingError)Oe=[kr(xe).route.id,{type:st.error,error:K.pendingError}];else if(K&&K.submission&&un(K.submission.formMethod)){let Ce=await sn(ee,$,K.submission,xe,{replace:K.replace,flushSync:re});if(Ce.shortCircuited)return;Oe=Ce.pendingActionResult,se=bo($,K.submission),re=!1,ee=Xn(t.history,ee.url,ee.signal)}let{shortCircuited:_e,loaderData:ht,errors:pt}=await gn(ee,$,xe,se,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,re,Oe);_e||(le=null,Pt($,ut({matches:xe},ts(Oe),{loaderData:ht,errors:pt})))}async function sn(R,$,K,G,se){se===void 0&&(se={}),$e();let xe=Pd($,K);ve({navigation:xe},{flushSync:se.flushSync===!0});let re,ee=Lo(G,$);if(!ee.route.action&&!ee.route.lazy)re={type:st.error,error:an(405,{method:R.method,pathname:$.pathname,routeId:ee.route.id})};else if(re=(await ye("action",R,[ee],G))[0],R.signal.aborted)return{shortCircuited:!0};if(zn(re)){let Oe;return se&&se.replace!=null?Oe=se.replace:Oe=Zi(re.response.headers.get("Location"),new URL(R.url),h)===w.location.pathname+w.location.search,await me(R,re,{submission:K,replace:Oe}),{shortCircuited:!0}}if(Kn(re))throw an(400,{type:"defer-action"});if(on(re)){let Oe=kr(G,ee.route.id);return(se&&se.replace)!==!0&&(he=vt.Push),{pendingActionResult:[Oe.route.id,re]}}return{pendingActionResult:[ee.route.id,re]}}async function gn(R,$,K,G,se,xe,re,ee,Oe,_e){let ht=G||bo($,se),pt=se||xe||os(ht),Ce=p||d,[Ke,nt]=Vi(t.history,w,K,pt,$,y.v7_partialHydration&&ee===!0,y.unstable_skipActionErrorRevalidation,Ne,Ze,gt,mt,dt,St,Ce,h,_e);if(Q(Re=>!(K&&K.some(rt=>rt.route.id===Re))||Ke&&Ke.some(rt=>rt.route.id===Re)),ct=++bt,Ke.length===0&&nt.length===0){let Re=xt();return Pt($,ut({matches:K,loaderData:{},errors:_e&&on(_e[1])?{[_e[0]]:_e[1].error}:null},ts(_e),Re?{fetchers:new Map(w.fetchers)}:{}),{flushSync:Oe}),{shortCircuited:!0}}if(!ge&&(!y.v7_partialHydration||!ee)){nt.forEach(rt=>{let Ft=w.fetchers.get(rt.key),it=Tr(void 0,Ft?Ft.data:void 0);w.fetchers.set(rt.key,it)});let Re;_e&&!on(_e[1])?Re={[_e[0]]:_e[1].data}:w.actionData&&(Object.keys(w.actionData).length===0?Re=null:Re=w.actionData),ve(ut({navigation:ht},Re!==void 0?{actionData:Re}:{},nt.length>0?{fetchers:new Map(w.fetchers)}:{}),{flushSync:Oe})}nt.forEach(Re=>{Te.has(Re.key)&&Ye(Re.key),Re.controller&&Te.set(Re.key,Re.controller)});let Ht=()=>nt.forEach(Re=>Ye(Re.key));le&&le.signal.addEventListener("abort",Ht);let{loaderResults:Xt,fetcherResults:Sn}=await Pe(w.matches,K,Ke,nt,R);if(R.signal.aborted)return{shortCircuited:!0};le&&le.signal.removeEventListener("abort",Ht),nt.forEach(Re=>Te.delete(Re.key));let jt=rs([...Xt,...Sn]);if(jt){if(jt.idx>=Ke.length){let Re=nt[jt.idx-Ke.length].key;St.add(Re)}return await me(R,jt.result,{replace:re}),{shortCircuited:!0}}let{loaderData:bn,errors:kt}=Ji(w,K,Ke,Xt,_e,nt,Sn,Se);Se.forEach((Re,rt)=>{Re.subscribe(Ft=>{(Ft||Re.done)&&Se.delete(rt)})}),y.v7_partialHydration&&ee&&w.errors&&Object.entries(w.errors).filter(Re=>{let[rt]=Re;return!Ke.some(Ft=>Ft.route.id===rt)}).forEach(Re=>{let[rt,Ft]=Re;kt=Object.assign(kt||{},{[rt]:Ft})});let Ln=xt(),Tn=_t(ct),et=Ln||Tn||nt.length>0;return ut({loaderData:bn,errors:kt},et?{fetchers:new Map(w.fetchers)}:{})}function tn(R,$,K,G){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Te.has(R)&&Ye(R);let se=(G&&G.unstable_flushSync)===!0,xe=p||d,re=Io(w.location,w.matches,h,y.v7_prependBasename,K,y.v7_relativeSplatPath,$,G==null?void 0:G.relative),ee=Jn(xe,re,h);if(!ee){Fe(R,$,an(404,{pathname:re}),{flushSync:se});return}let{path:Oe,submission:_e,error:ht}=Wi(y.v7_normalizeFormMethod,!0,re,G);if(ht){Fe(R,$,ht,{flushSync:se});return}let pt=Lo(ee,Oe);if(de=(G&&G.preventScrollReset)===!0,_e&&un(_e.formMethod)){Ut(R,$,Oe,pt,ee,se,_e);return}dt.set(R,{routeId:$,path:Oe}),Tt(R,$,Oe,pt,ee,se,_e)}async function Ut(R,$,K,G,se,xe,re){if($e(),dt.delete(R),!G.route.action&&!G.route.lazy){let it=an(405,{method:re.formMethod,pathname:K,routeId:$});Fe(R,$,it,{flushSync:xe});return}let ee=w.fetchers.get(R);Ee(R,Md(re,ee),{flushSync:xe});let Oe=new AbortController,_e=Xn(t.history,K,Oe.signal,re);Te.set(R,Oe);let ht=bt,Ce=(await ye("action",_e,[G],se))[0];if(_e.signal.aborted){Te.get(R)===Oe&&Te.delete(R);return}if(y.v7_fetcherPersist&&mt.has(R)){if(zn(Ce)||on(Ce)){Ee(R,Pn(void 0));return}}else{if(zn(Ce))if(Te.delete(R),ct>ht){Ee(R,Pn(void 0));return}else return St.add(R),Ee(R,Tr(re)),me(_e,Ce,{fetcherSubmission:re});if(on(Ce)){Fe(R,$,Ce.error);return}}if(Kn(Ce))throw an(400,{type:"defer-action"});let Ke=w.navigation.location||w.location,nt=Xn(t.history,Ke,Oe.signal),Ht=p||d,Xt=w.navigation.state!=="idle"?Jn(Ht,w.navigation.location,h):w.matches;Me(Xt,"Didn't find any matches after fetcher action");let Sn=++bt;lt.set(R,Sn);let jt=Tr(re,Ce.data);w.fetchers.set(R,jt);let[bn,kt]=Vi(t.history,w,Xt,re,Ke,!1,y.unstable_skipActionErrorRevalidation,Ne,Ze,gt,mt,dt,St,Ht,h,[G.route.id,Ce]);kt.filter(it=>it.key!==R).forEach(it=>{let ln=it.key,qn=w.fetchers.get(ln),fr=Tr(void 0,qn?qn.data:void 0);w.fetchers.set(ln,fr),Te.has(ln)&&Ye(ln),it.controller&&Te.set(ln,it.controller)}),ve({fetchers:new Map(w.fetchers)});let Ln=()=>kt.forEach(it=>Ye(it.key));Oe.signal.addEventListener("abort",Ln);let{loaderResults:Tn,fetcherResults:et}=await Pe(w.matches,Xt,bn,kt,nt);if(Oe.signal.aborted)return;Oe.signal.removeEventListener("abort",Ln),lt.delete(R),Te.delete(R),kt.forEach(it=>Te.delete(it.key));let Re=rs([...Tn,...et]);if(Re){if(Re.idx>=bn.length){let it=kt[Re.idx-bn.length].key;St.add(it)}return me(nt,Re.result)}let{loaderData:rt,errors:Ft}=Ji(w,w.matches,bn,Tn,void 0,kt,et,Se);if(w.fetchers.has(R)){let it=Pn(Ce.data);w.fetchers.set(R,it)}_t(Sn),w.navigation.state==="loading"&&Sn>ct?(Me(he,"Expected pending action"),le&&le.abort(),Pt(w.navigation.location,{matches:Xt,loaderData:rt,errors:Ft,fetchers:new Map(w.fetchers)})):(ve({errors:Ft,loaderData:es(w.loaderData,rt,Xt,Ft),fetchers:new Map(w.fetchers)}),Ne=!1)}async function Tt(R,$,K,G,se,xe,re){let ee=w.fetchers.get(R);Ee(R,Tr(re,ee?ee.data:void 0),{flushSync:xe});let Oe=new AbortController,_e=Xn(t.history,K,Oe.signal);Te.set(R,Oe);let ht=bt,Ce=(await ye("loader",_e,[G],se))[0];if(Kn(Ce)&&(Ce=await fc(Ce,_e.signal,!0)||Ce),Te.get(R)===Oe&&Te.delete(R),!_e.signal.aborted){if(mt.has(R)){Ee(R,Pn(void 0));return}if(zn(Ce))if(ct>ht){Ee(R,Pn(void 0));return}else{St.add(R),await me(_e,Ce);return}if(on(Ce)){Fe(R,$,Ce.error);return}Me(!Kn(Ce),"Unhandled fetcher deferred data"),Ee(R,Pn(Ce.data))}}async function me(R,$,K){let{submission:G,fetcherSubmission:se,replace:xe}=K===void 0?{}:K;$.response.headers.has("X-Remix-Revalidate")&&(Ne=!0);let re=$.response.headers.get("Location");Me(re,"Expected a Location header on the redirect Response"),re=Zi(re,new URL(R.url),h);let ee=Ir(w.location,re,{_isRedirect:!0});if(o){let Ke=!1;if($.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(ei.test(re)){const nt=t.history.createURL(re);Ke=nt.origin!==r.location.origin||Kr(nt.pathname,h)==null}if(Ke){xe?r.location.replace(re):r.location.assign(re);return}}le=null;let Oe=xe===!0?vt.Replace:vt.Push,{formMethod:_e,formAction:ht,formEncType:pt}=w.navigation;!G&&!se&&_e&&ht&&pt&&(G=os(w.navigation));let Ce=G||se;if(pd.has($.response.status)&&Ce&&un(Ce.formMethod))await Mt(Oe,ee,{submission:ut({},Ce,{formAction:re}),preventScrollReset:de});else{let Ke=bo(ee,G);await Mt(Oe,ee,{overrideNavigation:Ke,fetcherSubmission:se,preventScrollReset:de})}}async function ye(R,$,K,G){try{let se=await _d(v,R,$,K,G,l,c);return await Promise.all(se.map((xe,re)=>{if(kd(xe)){let ee=xe.result;return{type:st.redirect,response:Sd(ee,$,K[re].route.id,G,h,y.v7_relativeSplatPath)}}return Cd(xe)}))}catch(se){return K.map(()=>({type:st.error,error:se}))}}async function Pe(R,$,K,G,se){let[xe,...re]=await Promise.all([K.length?ye("loader",se,K,$):[],...G.map(ee=>{if(ee.matches&&ee.match&&ee.controller){let Oe=Xn(t.history,ee.path,ee.controller.signal);return ye("loader",Oe,[ee.match],ee.matches).then(_e=>_e[0])}else return Promise.resolve({type:st.error,error:an(404,{pathname:ee.path})})})]);return await Promise.all([as(R,K,xe,xe.map(()=>se.signal),!1,w.loaderData),as(R,G.map(ee=>ee.match),re,G.map(ee=>ee.controller?ee.controller.signal:null),!0)]),{loaderResults:xe,fetcherResults:re}}function $e(){Ne=!0,Ze.push(...Q()),dt.forEach((R,$)=>{Te.has($)&&(gt.push($),Ye($))})}function Ee(R,$,K){K===void 0&&(K={}),w.fetchers.set(R,$),ve({fetchers:new Map(w.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Fe(R,$,K,G){G===void 0&&(G={});let se=kr(w.matches,$);Ue(R),ve({errors:{[se.route.id]:K},fetchers:new Map(w.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Be(R){return y.v7_fetcherPersist&&(en.set(R,(en.get(R)||0)+1),mt.has(R)&&mt.delete(R)),w.fetchers.get(R)||md}function Ue(R){let $=w.fetchers.get(R);Te.has(R)&&!($&&$.state==="loading"&&lt.has(R))&&Ye(R),dt.delete(R),lt.delete(R),St.delete(R),mt.delete(R),w.fetchers.delete(R)}function tt(R){if(y.v7_fetcherPersist){let $=(en.get(R)||0)-1;$<=0?(en.delete(R),mt.add(R)):en.set(R,$)}else Ue(R);ve({fetchers:new Map(w.fetchers)})}function Ye(R){let $=Te.get(R);Me($,"Expected fetch controller: "+R),$.abort(),Te.delete(R)}function Qe(R){for(let $ of R){let K=Be($),G=Pn(K.data);w.fetchers.set($,G)}}function xt(){let R=[],$=!1;for(let K of St){let G=w.fetchers.get(K);Me(G,"Expected fetcher: "+K),G.state==="loading"&&(St.delete(K),R.push(K),$=!0)}return Qe(R),$}function _t(R){let $=[];for(let[K,G]of lt)if(G<R){let se=w.fetchers.get(K);Me(se,"Expected fetcher: "+K),se.state==="loading"&&(Ye(K),lt.delete(K),$.push(K))}return Qe($),$.length>0}function oe(R,$){let K=w.blockers.get(R)||Sr;return je.get(R)!==$&&je.set(R,$),K}function Ot(R){w.blockers.delete(R),je.delete(R)}function ft(R,$){let K=w.blockers.get(R)||Sr;Me(K.state==="unblocked"&&$.state==="blocked"||K.state==="blocked"&&$.state==="blocked"||K.state==="blocked"&&$.state==="proceeding"||K.state==="blocked"&&$.state==="unblocked"||K.state==="proceeding"&&$.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+$.state);let G=new Map(w.blockers);G.set(R,$),ve({blockers:G})}function Je(R){let{currentLocation:$,nextLocation:K,historyAction:G}=R;if(je.size===0)return;je.size>1&&sr(!1,"A router only supports one blocker at a time");let se=Array.from(je.entries()),[xe,re]=se[se.length-1],ee=w.blockers.get(xe);if(!(ee&&ee.state==="proceeding")&&re({currentLocation:$,nextLocation:K,historyAction:G}))return xe}function Q(R){let $=[];return Se.forEach((K,G)=>{(!R||R(G))&&(K.cancel(),$.push(G),Se.delete(G))}),$}function Yt(R,$,K){if(q=R,S=$,L=K||null,!j&&w.navigation===go){j=!0;let G=Cn(w.location,w.matches);G!=null&&ve({restoreScrollPosition:G})}return()=>{q=null,S=null,L=null}}function qt(R,$){return L&&L(R,$.map(G=>ql(G,w.loaderData)))||R.key}function nn(R,$){if(q&&S){let K=qt(R,$);q[K]=S()}}function Cn(R,$){if(q){let K=qt(R,$),G=q[K];if(typeof G=="number")return G}return null}function $n(R){l={},p=Ao(R,c,void 0,l)}return U={get basename(){return h},get future(){return y},get state(){return w},get routes(){return d},get window(){return r},initialize:ue,subscribe:wt,enableScrollRestoration:Yt,navigate:vn,fetch:tn,revalidate:zt,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:Be,deleteFetcher:tt,dispose:Gt,getBlocker:oe,deleteBlocker:Ot,_internalFetchControllers:Te,_internalActiveDeferreds:Se,_internalSetRoutes:$n},U}function gd(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Io(t,r,o,i,c,l,d,p){let h,v;if(d){h=[];for(let b of r)if(h.push(b),b.route.id===d){v=b;break}}else h=r,v=r[r.length-1];let y=ic(c||".",oc(h,l),Kr(t.pathname,o)||t.pathname,p==="path");return c==null&&(y.search=t.search,y.hash=t.hash),(c==null||c===""||c===".")&&v&&v.route.index&&!ti(y.search)&&(y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index"),i&&o!=="/"&&(y.pathname=y.pathname==="/"?o:An([o,y.pathname])),Fr(y)}function Wi(t,r,o,i){if(!i||!gd(i))return{path:o};if(i.formMethod&&!Dd(i.formMethod))return{path:o,error:an(405,{method:i.formMethod})};let c=()=>({path:o,error:an(400,{type:"invalid-body"})}),l=i.formMethod||"get",d=t?l.toUpperCase():l.toLowerCase(),p=lc(o);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!un(d))return c();let k=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((q,L)=>{let[S,j]=L;return""+q+S+"="+j+`
`},""):String(i.body);return{path:o,submission:{formMethod:d,formAction:p,formEncType:i.formEncType,formData:void 0,json:void 0,text:k}}}else if(i.formEncType==="application/json"){if(!un(d))return c();try{let k=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:o,submission:{formMethod:d,formAction:p,formEncType:i.formEncType,formData:void 0,json:k,text:void 0}}}catch{return c()}}}Me(typeof FormData=="function","FormData is not available in this environment");let h,v;if(i.formData)h=$o(i.formData),v=i.formData;else if(i.body instanceof FormData)h=$o(i.body),v=i.body;else if(i.body instanceof URLSearchParams)h=i.body,v=Qi(h);else if(i.body==null)h=new URLSearchParams,v=new FormData;else try{h=new URLSearchParams(i.body),v=Qi(h)}catch{return c()}let y={formMethod:d,formAction:p,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:v,json:void 0,text:void 0};if(un(y.formMethod))return{path:o,submission:y};let b=En(o);return r&&b.search&&ti(b.search)&&h.append("index",""),b.search="?"+h,{path:Fr(b),submission:y}}function bd(t,r){let o=t;if(r){let i=t.findIndex(c=>c.route.id===r);i>=0&&(o=t.slice(0,i))}return o}function Vi(t,r,o,i,c,l,d,p,h,v,y,b,k,q,L,S){let j=S?on(S[1])?S[1].error:S[1].data:void 0,V=t.createURL(r.location),X=t.createURL(c),Y=S&&on(S[1])?S[0]:void 0,Z=Y?bd(o,Y):o,W=S?S[1].statusCode:void 0,U=d&&W&&W>=400,w=Z.filter((de,le)=>{let{route:be}=de;if(be.lazy)return!0;if(be.loader==null)return!1;if(l)return typeof be.loader!="function"||be.loader.hydrate?!0:r.loaderData[be.id]===void 0&&(!r.errors||r.errors[be.id]===void 0);if(wd(r.loaderData,r.matches[le],de)||h.some(ge=>ge===de.route.id))return!0;let fe=r.matches[le],we=de;return Gi(de,ut({currentUrl:V,currentParams:fe.params,nextUrl:X,nextParams:we.params},i,{actionResult:j,unstable_actionStatus:W,defaultShouldRevalidate:U?!1:p||V.pathname+V.search===X.pathname+X.search||V.search!==X.search||uc(fe,we)}))}),he=[];return b.forEach((de,le)=>{if(l||!o.some(Ne=>Ne.route.id===de.routeId)||y.has(le))return;let be=Jn(q,de.path,L);if(!be){he.push({key:le,routeId:de.routeId,path:de.path,matches:null,match:null,controller:null});return}let fe=r.fetchers.get(le),we=Lo(be,de.path),ge=!1;k.has(le)?ge=!1:v.includes(le)?ge=!0:fe&&fe.state!=="idle"&&fe.data===void 0?ge=p:ge=Gi(we,ut({currentUrl:V,currentParams:r.matches[r.matches.length-1].params,nextUrl:X,nextParams:o[o.length-1].params},i,{actionResult:j,unstable_actionStatus:W,defaultShouldRevalidate:U?!1:p})),ge&&he.push({key:le,routeId:de.routeId,path:de.path,matches:be,match:we,controller:new AbortController})}),[w,he]}function wd(t,r,o){let i=!r||o.route.id!==r.route.id,c=t[o.route.id]===void 0;return i||c}function uc(t,r){let o=t.route.path;return t.pathname!==r.pathname||o!=null&&o.endsWith("*")&&t.params["*"]!==r.params["*"]}function Gi(t,r){if(t.route.shouldRevalidate){let o=t.route.shouldRevalidate(r);if(typeof o=="boolean")return o}return r.defaultShouldRevalidate}async function Xi(t,r,o){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let c=o[t.id];Me(c,"No route found in manifest");let l={};for(let d in i){let h=c[d]!==void 0&&d!=="hasErrorBoundary";sr(!h,'Route "'+c.id+'" has a static property "'+d+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+d+'" will be ignored.')),!h&&!Ul.has(d)&&(l[d]=i[d])}Object.assign(c,l),Object.assign(c,ut({},r(c),{lazy:void 0}))}function xd(t){return Promise.all(t.matches.map(r=>r.resolve()))}async function _d(t,r,o,i,c,l,d,p){let h=i.reduce((b,k)=>b.add(k.route.id),new Set),v=new Set,y=await t({matches:c.map(b=>{let k=h.has(b.route.id);return ut({},b,{shouldLoad:k,resolve:L=>(v.add(b.route.id),k?Ed(r,o,b,l,d,L,p):Promise.resolve({type:st.data,result:void 0}))})}),request:o,params:c[0].params,context:p});return c.forEach(b=>Me(v.has(b.route.id),'`match.resolve()` was not called for route id "'+b.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),y.filter((b,k)=>h.has(c[k].route.id))}async function Ed(t,r,o,i,c,l,d){let p,h,v=y=>{let b,k=new Promise((S,j)=>b=j);h=()=>b(),r.signal.addEventListener("abort",h);let q=S=>typeof y!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+o.route.id+"]"))):y({request:r,params:o.params,context:d},...S!==void 0?[S]:[]),L;return l?L=l(S=>q(S)):L=(async()=>{try{return{type:"data",result:await q()}}catch(S){return{type:"error",result:S}}})(),Promise.race([L,k])};try{let y=o.route[t];if(o.route.lazy)if(y){let b,[k]=await Promise.all([v(y).catch(q=>{b=q}),Xi(o.route,c,i)]);if(b!==void 0)throw b;p=k}else if(await Xi(o.route,c,i),y=o.route[t],y)p=await v(y);else if(t==="action"){let b=new URL(r.url),k=b.pathname+b.search;throw an(405,{method:r.method,pathname:k,routeId:o.route.id})}else return{type:st.data,result:void 0};else if(y)p=await v(y);else{let b=new URL(r.url),k=b.pathname+b.search;throw an(404,{pathname:k})}Me(p.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+o.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){return{type:st.error,result:y}}finally{h&&r.signal.removeEventListener("abort",h)}return p}async function Cd(t){let{result:r,type:o,status:i}=t;if(dc(r)){let d;try{let p=r.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?r.body==null?d=null:d=await r.json():d=await r.text()}catch(p){return{type:st.error,error:p}}return o===st.error?{type:st.error,error:new Qo(r.status,r.statusText,d),statusCode:r.status,headers:r.headers}:{type:st.data,data:d,statusCode:r.status,headers:r.headers}}if(o===st.error)return{type:st.error,error:r,statusCode:Jo(r)?r.status:i};if(Rd(r)){var c,l;return{type:st.deferred,deferredData:r,statusCode:(c=r.init)==null?void 0:c.status,headers:((l=r.init)==null?void 0:l.headers)&&new Headers(r.init.headers)}}return{type:st.data,data:r,statusCode:i}}function Sd(t,r,o,i,c,l){let d=t.headers.get("Location");if(Me(d,"Redirects returned/thrown from loaders/actions must have a Location header"),!ei.test(d)){let p=i.slice(0,i.findIndex(h=>h.route.id===o)+1);d=Io(new URL(r.url),p,c,!0,d,l),t.headers.set("Location",d)}return t}function Zi(t,r,o){if(ei.test(t)){let i=t,c=i.startsWith("//")?new URL(r.protocol+i):new URL(i),l=Kr(c.pathname,o)!=null;if(c.origin===r.origin&&l)return c.pathname+c.search+c.hash}return t}function Xn(t,r,o,i){let c=t.createURL(lc(r)).toString(),l={signal:o};if(i&&un(i.formMethod)){let{formMethod:d,formEncType:p}=i;l.method=d.toUpperCase(),p==="application/json"?(l.headers=new Headers({"Content-Type":p}),l.body=JSON.stringify(i.json)):p==="text/plain"?l.body=i.text:p==="application/x-www-form-urlencoded"&&i.formData?l.body=$o(i.formData):l.body=i.formData}return new Request(c,l)}function $o(t){let r=new URLSearchParams;for(let[o,i]of t.entries())r.append(o,typeof i=="string"?i:i.name);return r}function Qi(t){let r=new FormData;for(let[o,i]of t.entries())r.append(o,i);return r}function Td(t,r,o,i,c,l){let d={},p=null,h,v=!1,y={},b=i&&on(i[1])?i[1].error:void 0;return o.forEach((k,q)=>{let L=r[q].route.id;if(Me(!zn(k),"Cannot handle redirect results in processLoaderData"),on(k)){let S=k.error;b!==void 0&&(S=b,b=void 0),p=p||{};{let j=kr(t,L);p[j.route.id]==null&&(p[j.route.id]=S)}d[L]=void 0,v||(v=!0,h=Jo(k.error)?k.error.status:500),k.headers&&(y[L]=k.headers)}else Kn(k)?(c.set(L,k.deferredData),d[L]=k.deferredData.data,k.statusCode!=null&&k.statusCode!==200&&!v&&(h=k.statusCode),k.headers&&(y[L]=k.headers)):(d[L]=k.data,k.statusCode&&k.statusCode!==200&&!v&&(h=k.statusCode),k.headers&&(y[L]=k.headers))}),b!==void 0&&i&&(p={[i[0]]:b},d[i[0]]=void 0),{loaderData:d,errors:p,statusCode:h||200,loaderHeaders:y}}function Ji(t,r,o,i,c,l,d,p){let{loaderData:h,errors:v}=Td(r,o,i,c,p);for(let y=0;y<l.length;y++){let{key:b,match:k,controller:q}=l[y];Me(d!==void 0&&d[y]!==void 0,"Did not find corresponding fetcher result");let L=d[y];if(!(q&&q.signal.aborted))if(on(L)){let S=kr(t.matches,k==null?void 0:k.route.id);v&&v[S.route.id]||(v=ut({},v,{[S.route.id]:L.error})),t.fetchers.delete(b)}else if(zn(L))Me(!1,"Unhandled fetcher revalidation redirect");else if(Kn(L))Me(!1,"Unhandled fetcher deferred data");else{let S=Pn(L.data);t.fetchers.set(b,S)}}return{loaderData:h,errors:v}}function es(t,r,o,i){let c=ut({},r);for(let l of o){let d=l.route.id;if(r.hasOwnProperty(d)?r[d]!==void 0&&(c[d]=r[d]):t[d]!==void 0&&l.route.loader&&(c[d]=t[d]),i&&i.hasOwnProperty(d))break}return c}function ts(t){return t?on(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function kr(t,r){return(r?t.slice(0,t.findIndex(i=>i.route.id===r)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function ns(t){let r=t.length===1?t[0]:t.find(o=>o.index||!o.path||o.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function an(t,r){let{pathname:o,routeId:i,method:c,type:l}=r===void 0?{}:r,d="Unknown Server Error",p="Unknown @remix-run/router error";return t===400?(d="Bad Request",c&&o&&i?p="You made a "+c+' request to "'+o+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?p="defer() is not supported in actions":l==="invalid-body"&&(p="Unable to encode submission body")):t===403?(d="Forbidden",p='Route "'+i+'" does not match URL "'+o+'"'):t===404?(d="Not Found",p='No route matches URL "'+o+'"'):t===405&&(d="Method Not Allowed",c&&o&&i?p="You made a "+c.toUpperCase()+' request to "'+o+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":c&&(p='Invalid request method "'+c.toUpperCase()+'"')),new Qo(t||500,d,new Error(p),!0)}function rs(t){for(let r=t.length-1;r>=0;r--){let o=t[r];if(zn(o))return{result:o,idx:r}}}function lc(t){let r=typeof t=="string"?En(t):t;return Fr(ut({},r,{hash:""}))}function Od(t,r){return t.pathname!==r.pathname||t.search!==r.search?!1:t.hash===""?r.hash!=="":t.hash===r.hash?!0:r.hash!==""}function kd(t){return dc(t.result)&&hd.has(t.result.status)}function Kn(t){return t.type===st.deferred}function on(t){return t.type===st.error}function zn(t){return(t&&t.type)===st.redirect}function Rd(t){let r=t;return r&&typeof r=="object"&&typeof r.data=="object"&&typeof r.subscribe=="function"&&typeof r.cancel=="function"&&typeof r.resolveData=="function"}function dc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Dd(t){return fd.has(t.toLowerCase())}function un(t){return ld.has(t.toLowerCase())}async function as(t,r,o,i,c,l){for(let d=0;d<o.length;d++){let p=o[d],h=r[d];if(!h)continue;let v=t.find(b=>b.route.id===h.route.id),y=v!=null&&!uc(v,h)&&(l&&l[h.route.id])!==void 0;if(Kn(p)&&(c||y)){let b=i[d];Me(b,"Expected an AbortSignal for revalidating fetcher deferred result"),await fc(p,b,c).then(k=>{k&&(o[d]=k||o[d])})}}}async function fc(t,r,o){if(o===void 0&&(o=!1),!await t.deferredData.resolveData(r)){if(o)try{return{type:st.data,data:t.deferredData.unwrappedData}}catch(c){return{type:st.error,error:c}}return{type:st.data,data:t.deferredData.data}}}function ti(t){return new URLSearchParams(t).getAll("index").some(r=>r==="")}function Lo(t,r){let o=typeof r=="string"?En(r).search:r.search;if(t[t.length-1].route.index&&ti(o||""))return t[t.length-1];let i=ac(t);return i[i.length-1]}function os(t){let{formMethod:r,formAction:o,formEncType:i,text:c,formData:l,json:d}=t;if(!(!r||!o||!i)){if(c!=null)return{formMethod:r,formAction:o,formEncType:i,formData:void 0,json:void 0,text:c};if(l!=null)return{formMethod:r,formAction:o,formEncType:i,formData:l,json:void 0,text:void 0};if(d!==void 0)return{formMethod:r,formAction:o,formEncType:i,formData:void 0,json:d,text:void 0}}}function bo(t,r){return r?{state:"loading",location:t,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Pd(t,r){return{state:"submitting",location:t,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function Tr(t,r){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function Md(t,r){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:r?r.data:void 0}}function Pn(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ad(t,r){try{let o=t.sessionStorage.getItem(cc);if(o){let i=JSON.parse(o);for(let[c,l]of Object.entries(i||{}))l&&Array.isArray(l)&&r.set(c,new Set(l||[]))}}catch{}}function Id(t,r){if(r.size>0){let o={};for(let[i,c]of r)o[i]=[...c];try{t.sessionStorage.setItem(cc,JSON.stringify(o))}catch(i){sr(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $r(){return $r=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},$r.apply(this,arguments)}const Na=D.createContext(null),hc=D.createContext(null),ja=D.createContext(null),Fa=D.createContext(null),Yn=D.createContext({outlet:null,matches:[],isDataRoute:!1}),pc=D.createContext(null);function Ka(){return D.useContext(Fa)!=null}function ni(){return Ka()||Me(!1),D.useContext(Fa).location}function mc(t){D.useContext(ja).static||D.useLayoutEffect(t)}function $d(){let{isDataRoute:t}=D.useContext(Yn);return t?Gd():Ld()}function Ld(){Ka()||Me(!1);let t=D.useContext(Na),{basename:r,future:o,navigator:i}=D.useContext(ja),{matches:c}=D.useContext(Yn),{pathname:l}=ni(),d=JSON.stringify(oc(c,o.v7_relativeSplatPath)),p=D.useRef(!1);return mc(()=>{p.current=!0}),D.useCallback(function(v,y){if(y===void 0&&(y={}),!p.current)return;if(typeof v=="number"){i.go(v);return}let b=ic(v,JSON.parse(d),l,y.relative==="path");t==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:An([r,b.pathname])),(y.replace?i.replace:i.push)(b,y.state,y)},[r,i,d,l,t])}const Bd=D.createContext(null);function Nd(t){let r=D.useContext(Yn).outlet;return r&&D.createElement(Bd.Provider,{value:t},r)}function jd(t,r){return yc(t,r)}function yc(t,r,o,i){Ka()||Me(!1);let{navigator:c}=D.useContext(ja),{matches:l}=D.useContext(Yn),d=l[l.length-1],p=d?d.params:{};d&&d.pathname;let h=d?d.pathnameBase:"/";d&&d.route;let v=ni(),y;if(r){var b;let j=typeof r=="string"?En(r):r;h==="/"||(b=j.pathname)!=null&&b.startsWith(h)||Me(!1),y=j}else y=v;let k=y.pathname||"/",q=k;if(h!=="/"){let j=h.replace(/^\//,"").split("/");q="/"+k.replace(/^\//,"").split("/").slice(j.length).join("/")}let L=Jn(t,{pathname:q}),S=Yd(L&&L.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:An([h,c.encodeLocation?c.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:An([h,c.encodeLocation?c.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,o,i);return r&&S?D.createElement(Fa.Provider,{value:{location:$r({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:vt.Pop}},S):S}function Fd(){let t=Vd(),r=Jo(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),o=t instanceof Error?t.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},r),o?D.createElement("pre",{style:c},o):null,null)}const Kd=D.createElement(Fd,null);class zd extends D.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){console.error("React Router caught the following error during render",r,o)}render(){return this.state.error!==void 0?D.createElement(Yn.Provider,{value:this.props.routeContext},D.createElement(pc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ud(t){let{routeContext:r,match:o,children:i}=t,c=D.useContext(Na);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),D.createElement(Yn.Provider,{value:r},i)}function Yd(t,r,o,i){var c;if(r===void 0&&(r=[]),o===void 0&&(o=null),i===void 0&&(i=null),t==null){var l;if((l=o)!=null&&l.errors)t=o.matches;else return null}let d=t,p=(c=o)==null?void 0:c.errors;if(p!=null){let y=d.findIndex(b=>b.route.id&&(p==null?void 0:p[b.route.id])!==void 0);y>=0||Me(!1),d=d.slice(0,Math.min(d.length,y+1))}let h=!1,v=-1;if(o&&i&&i.v7_partialHydration)for(let y=0;y<d.length;y++){let b=d[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(v=y),b.route.id){let{loaderData:k,errors:q}=o,L=b.route.loader&&k[b.route.id]===void 0&&(!q||q[b.route.id]===void 0);if(b.route.lazy||L){h=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((y,b,k)=>{let q,L=!1,S=null,j=null;o&&(q=p&&b.route.id?p[b.route.id]:void 0,S=b.route.errorElement||Kd,h&&(v<0&&k===0?(L=!0,j=null):v===k&&(L=!0,j=b.route.hydrateFallbackElement||null)));let V=r.concat(d.slice(0,k+1)),X=()=>{let Y;return q?Y=S:L?Y=j:b.route.Component?Y=D.createElement(b.route.Component,null):b.route.element?Y=b.route.element:Y=y,D.createElement(Ud,{match:b,routeContext:{outlet:y,matches:V,isDataRoute:o!=null},children:Y})};return o&&(b.route.ErrorBoundary||b.route.errorElement||k===0)?D.createElement(zd,{location:o.location,revalidation:o.revalidation,component:S,error:q,children:X(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):X()},null)}var vc=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vc||{}),ga=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ga||{});function qd(t){let r=D.useContext(Na);return r||Me(!1),r}function Hd(t){let r=D.useContext(hc);return r||Me(!1),r}function Wd(t){let r=D.useContext(Yn);return r||Me(!1),r}function gc(t){let r=Wd(),o=r.matches[r.matches.length-1];return o.route.id||Me(!1),o.route.id}function Vd(){var t;let r=D.useContext(pc),o=Hd(ga.UseRouteError),i=gc(ga.UseRouteError);return r!==void 0?r:(t=o.errors)==null?void 0:t[i]}function Gd(){let{router:t}=qd(vc.UseNavigateStable),r=gc(ga.UseNavigateStable),o=D.useRef(!1);return mc(()=>{o.current=!0}),D.useCallback(function(c,l){l===void 0&&(l={}),o.current&&(typeof c=="number"?t.navigate(c):t.navigate(c,$r({fromRouteId:r},l)))},[t,r])}function Xd(t){return Nd(t.context)}function Mn(t){Me(!1)}function Zd(t){let{basename:r="/",children:o=null,location:i,navigationType:c=vt.Pop,navigator:l,static:d=!1,future:p}=t;Ka()&&Me(!1);let h=r.replace(/^\/*/,"/"),v=D.useMemo(()=>({basename:h,navigator:l,static:d,future:$r({v7_relativeSplatPath:!1},p)}),[h,p,l,d]);typeof i=="string"&&(i=En(i));let{pathname:y="/",search:b="",hash:k="",state:q=null,key:L="default"}=i,S=D.useMemo(()=>{let j=Kr(y,h);return j==null?null:{location:{pathname:j,search:b,hash:k,state:q,key:L},navigationType:c}},[h,y,b,k,q,L,c]);return S==null?null:D.createElement(ja.Provider,{value:v},D.createElement(Fa.Provider,{children:o,value:S}))}function Qd(t){let{children:r,location:o}=t;return jd(Bo(r),o)}new Promise(()=>{});function Bo(t,r){r===void 0&&(r=[]);let o=[];return D.Children.forEach(t,(i,c)=>{if(!D.isValidElement(i))return;let l=[...r,c];if(i.type===D.Fragment){o.push.apply(o,Bo(i.props.children,l));return}i.type!==Mn&&Me(!1),!i.props.index||!i.props.children||Me(!1);let d={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Bo(i.props.children,l)),o.push(d)}),o}function Jd(t){let r={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(r,{element:D.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(r,{hydrateFallbackElement:D.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(r,{errorElement:D.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),r}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},ba.apply(this,arguments)}const ef="6";try{window.__reactRouterVersion=ef}catch{}function tf(t,r){return vd({basename:void 0,future:ba({},void 0,{v7_prependBasename:!0}),history:Fl({window:void 0}),hydrationData:nf(),routes:t,mapRouteProperties:Jd,unstable_dataStrategy:void 0,window:void 0}).initialize()}function nf(){var t;let r=(t=window)==null?void 0:t.__staticRouterHydrationData;return r&&r.errors&&(r=ba({},r,{errors:rf(r.errors)})),r}function rf(t){if(!t)return null;let r=Object.entries(t),o={};for(let[i,c]of r)if(c&&c.__type==="RouteErrorResponse")o[i]=new Qo(c.status,c.statusText,c.data,c.internal===!0);else if(c&&c.__type==="Error"){if(c.__subType){let l=window[c.__subType];if(typeof l=="function")try{let d=new l(c.message);d.stack="",o[i]=d}catch{}}if(o[i]==null){let l=new Error(c.message);l.stack="",o[i]=l}}else o[i]=c;return o}const af=D.createContext({isTransitioning:!1}),of=D.createContext(new Map),sf="startTransition",is=ko[sf],cf="flushSync",ss=lu[cf];function uf(t){is?is(t):t()}function Or(t){ss?ss(t):t()}class lf{constructor(){this.status="pending",this.promise=new Promise((r,o)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",r(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",o(i))}})}}function df(t){let{fallbackElement:r,router:o,future:i}=t,[c,l]=D.useState(o.state),[d,p]=D.useState(),[h,v]=D.useState({isTransitioning:!1}),[y,b]=D.useState(),[k,q]=D.useState(),[L,S]=D.useState(),j=D.useRef(new Map),{v7_startTransition:V}=i||{},X=D.useCallback(w=>{V?uf(w):w()},[V]),Y=D.useCallback((w,he)=>{let{deletedFetchers:de,unstable_flushSync:le,unstable_viewTransitionOpts:be}=he;de.forEach(we=>j.current.delete(we)),w.fetchers.forEach((we,ge)=>{we.data!==void 0&&j.current.set(ge,we.data)});let fe=o.window==null||o.window.document==null||typeof o.window.document.startViewTransition!="function";if(!be||fe){le?Or(()=>l(w)):X(()=>l(w));return}if(le){Or(()=>{k&&(y&&y.resolve(),k.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:be.currentLocation,nextLocation:be.nextLocation})});let we=o.window.document.startViewTransition(()=>{Or(()=>l(w))});we.finished.finally(()=>{Or(()=>{b(void 0),q(void 0),p(void 0),v({isTransitioning:!1})})}),Or(()=>q(we));return}k?(y&&y.resolve(),k.skipTransition(),S({state:w,currentLocation:be.currentLocation,nextLocation:be.nextLocation})):(p(w),v({isTransitioning:!0,flushSync:!1,currentLocation:be.currentLocation,nextLocation:be.nextLocation}))},[o.window,k,y,j,X]);D.useLayoutEffect(()=>o.subscribe(Y),[o,Y]),D.useEffect(()=>{h.isTransitioning&&!h.flushSync&&b(new lf)},[h]),D.useEffect(()=>{if(y&&d&&o.window){let w=d,he=y.promise,de=o.window.document.startViewTransition(async()=>{X(()=>l(w)),await he});de.finished.finally(()=>{b(void 0),q(void 0),p(void 0),v({isTransitioning:!1})}),q(de)}},[X,d,y,o.window]),D.useEffect(()=>{y&&d&&c.location.key===d.location.key&&y.resolve()},[y,k,c.location,d]),D.useEffect(()=>{!h.isTransitioning&&L&&(p(L.state),v({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}),S(void 0))},[h.isTransitioning,L]),D.useEffect(()=>{},[]);let Z=D.useMemo(()=>({createHref:o.createHref,encodeLocation:o.encodeLocation,go:w=>o.navigate(w),push:(w,he,de)=>o.navigate(w,{state:he,preventScrollReset:de==null?void 0:de.preventScrollReset}),replace:(w,he,de)=>o.navigate(w,{replace:!0,state:he,preventScrollReset:de==null?void 0:de.preventScrollReset})}),[o]),W=o.basename||"/",U=D.useMemo(()=>({router:o,navigator:Z,static:!1,basename:W}),[o,Z,W]);return D.createElement(D.Fragment,null,D.createElement(Na.Provider,{value:U},D.createElement(hc.Provider,{value:c},D.createElement(of.Provider,{value:j.current},D.createElement(af.Provider,{value:h},D.createElement(Zd,{basename:W,location:c.location,navigationType:c.historyAction,navigator:Z,future:{v7_relativeSplatPath:o.future.v7_relativeSplatPath}},c.initialized||o.future.v7_partialHydration?D.createElement(ff,{routes:o.routes,future:o.future,state:c}):r))))),null)}function ff(t){let{routes:r,future:o,state:i}=t;return yc(r,void 0,i,o)}var cs;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cs||(cs={}));var us;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(us||(us={}));var bc={exports:{}};(function(t,r){(function(o,i){t.exports=i()})(Un,function(){var o="minute",i=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(l,d,p){var h=d.prototype;p.utc=function(S){var j={date:S,utc:!0,args:arguments};return new d(j)},h.utc=function(S){var j=p(this.toDate(),{locale:this.$L,utc:!0});return S?j.add(this.utcOffset(),o):j},h.local=function(){return p(this.toDate(),{locale:this.$L,utc:!1})};var v=h.parse;h.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),v.call(this,S)};var y=h.init;h.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else y.call(this)};var b=h.utcOffset;h.utcOffset=function(S,j){var V=this.$utils().u;if(V(S))return this.$u?0:V(this.$offset)?b.call(this):this.$offset;if(typeof S=="string"&&(S=function(W){W===void 0&&(W="");var U=W.match(i);if(!U)return null;var w=(""+U[0]).match(c)||["-",0,0],he=w[0],de=60*+w[1]+ +w[2];return de===0?0:he==="+"?de:-de}(S),S===null))return this;var X=Math.abs(S)<=16?60*S:S,Y=this;if(j)return Y.$offset=X,Y.$u=S===0,Y;if(S!==0){var Z=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(Y=this.local().add(X+Z,o)).$offset=X,Y.$x.$localOffset=Z}else Y=this.utc();return Y};var k=h.format;h.format=function(S){var j=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return k.call(this,j)},h.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var q=h.toDate;h.toDate=function(S){return S==="s"&&this.$offset?p(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():q.call(this)};var L=h.diff;h.diff=function(S,j,V){if(S&&this.$u===S.$u)return L.call(this,S,j,V);var X=this.local(),Y=p(S).local();return L.call(X,Y,j,V)}}})})(bc);var hf=bc.exports;const pf=lr(hf);var wc={exports:{}};(function(t,r){(function(o,i){t.exports=i()})(Un,function(){var o={year:0,month:1,day:2,hour:3,minute:4,second:5},i={};return function(c,l,d){var p,h=function(k,q,L){L===void 0&&(L={});var S=new Date(k),j=function(V,X){X===void 0&&(X={});var Y=X.timeZoneName||"short",Z=V+"|"+Y,W=i[Z];return W||(W=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:V,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:Y}),i[Z]=W),W}(q,L);return j.formatToParts(S)},v=function(k,q){for(var L=h(k,q),S=[],j=0;j<L.length;j+=1){var V=L[j],X=V.type,Y=V.value,Z=o[X];Z>=0&&(S[Z]=parseInt(Y,10))}var W=S[3],U=W===24?0:W,w=S[0]+"-"+S[1]+"-"+S[2]+" "+U+":"+S[4]+":"+S[5]+":000",he=+k;return(d.utc(w).valueOf()-(he-=he%1e3))/6e4},y=l.prototype;y.tz=function(k,q){k===void 0&&(k=p);var L=this.utcOffset(),S=this.toDate(),j=S.toLocaleString("en-US",{timeZone:k}),V=Math.round((S-new Date(j))/1e3/60),X=d(j,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(S.getTimezoneOffset()/15)-V,!0);if(q){var Y=X.utcOffset();X=X.add(L-Y,"minute")}return X.$x.$timezone=k,X},y.offsetName=function(k){var q=this.$x.$timezone||d.tz.guess(),L=h(this.valueOf(),q,{timeZoneName:k}).find(function(S){return S.type.toLowerCase()==="timezonename"});return L&&L.value};var b=y.startOf;y.startOf=function(k,q){if(!this.$x||!this.$x.$timezone)return b.call(this,k,q);var L=d(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return b.call(L,k,q).tz(this.$x.$timezone,!0)},d.tz=function(k,q,L){var S=L&&q,j=L||q||p,V=v(+d(),j);if(typeof k!="string")return d(k).tz(j);var X=function(U,w,he){var de=U-60*w*1e3,le=v(de,he);if(w===le)return[de,w];var be=v(de-=60*(le-w)*1e3,he);return le===be?[de,le]:[U-60*Math.min(le,be)*1e3,Math.max(le,be)]}(d.utc(k,S).valueOf(),V,j),Y=X[0],Z=X[1],W=d(Y).utcOffset(Z);return W.$x.$timezone=j,W},d.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},d.tz.setDefault=function(k){p=k}}})})(wc);var mf=wc.exports;const yf=lr(mf);var xc={exports:{}};(function(t,r){(function(o,i){t.exports=i()})(Un,function(){var o="month",i="quarter";return function(c,l){var d=l.prototype;d.quarter=function(v){return this.$utils().u(v)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(v-1))};var p=d.add;d.add=function(v,y){return v=Number(v),this.$utils().p(y)===i?this.add(3*v,o):p.bind(this)(v,y)};var h=d.startOf;d.startOf=function(v,y){var b=this.$utils(),k=!!b.u(y)||y;if(b.p(v)===i){var q=this.quarter()-1;return k?this.month(3*q).startOf(o).startOf("day"):this.month(3*q+2).endOf(o).endOf("day")}return h.bind(this)(v,y)}}})})(xc);var vf=xc.exports;const gf=lr(vf);var _c={exports:{}};(function(t,r){(function(o,i){t.exports=i()})(Un,function(){return function(o,i,c){o=o||{};var l=i.prototype,d={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function p(v,y,b,k){return l.fromToBase(v,y,b,k)}c.en.relativeTime=d,l.fromToBase=function(v,y,b,k,q){for(var L,S,j,V=b.$locale().relativeTime||d,X=o.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],Y=X.length,Z=0;Z<Y;Z+=1){var W=X[Z];W.d&&(L=k?c(v).diff(b,W.d,!0):b.diff(v,W.d,!0));var U=(o.rounding||Math.round)(Math.abs(L));if(j=L>0,U<=W.r||!W.r){U<=1&&Z>0&&(W=X[Z-1]);var w=V[W.l];q&&(U=q(""+U)),S=typeof w=="string"?w.replace("%d",U):w(U,y,W.l,j);break}}if(y)return S;var he=j?V.future:V.past;return typeof he=="function"?he(S):he.replace("%s",S)},l.to=function(v,y){return p(v,y,this,!0)},l.from=function(v,y){return p(v,y,this)};var h=function(v){return v.$u?c.utc():c()};l.toNow=function(v){return this.to(h(this),v)},l.fromNow=function(v){return this.from(h(this),v)}}})})(_c);var bf=_c.exports;const wf=lr(bf);var xf={exports:{}};(function(t,r){(function(o,i){t.exports=i(du)})(Un,function(o){function i(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var c=i(o),l={name:"zh-tw",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(d,p){return p==="W"?d+"":d+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(d,p){var h=100*d+p;return h<600?"":h<900?"":h<1100?"":h<1300?"":h<1800?"":""}};return c.default.locale(l,null,!0),l})})(xf);ot.extend(pf);ot.extend(yf);ot.extend(gf);ot.extend(wf);ot.locale("zh-tw");ot.tz.setDefault();const Lr={KEYBOARD_TEXT_MEALS_HEIGHT:"190px",KEYBOARD_TEXT_MIN_HEIGHT:"250px",ORDER_CARD_WIDTH:"260px"},_f="linear-gradient(to right, #33ceea 0%, #ffd194  51%, #33ceea  100%)",Ef="radial-gradient(circle, #ffd194 0%, #33ceea 100%);",Cf="0px",Sf="1.5rem",Tf="2rem",Of=".2rem",Ec=".9rem",Cc=".85rem",ls="1rem",kf="1.1rem",ds="250px",fs="190px",Sc="284px";function Tc(t="all",r=1){return`${t} ${r}s cubic-bezier(0.075, 0.82, 0.165, 1)`}function Rf(t=0){return`calc(100vw - ${t}px);`}function ri(t=0){return`calc(100vh - ${t}px - ${Cf});`}function Df(t={}){const{width:r="200px",height:o="200px",innerWidth:i="150px",innerHeight:c="150px",rtColor:l="#F4D8DD",rbColor:d="#C9DDE7",lbColor:p="#F3EFE6",ltColor:h="#D5EAE5"}=t;return`
    width: ${r};
    height: ${o};
    display: flex;
    flex-direction: column;
    align-content: center;
    justify-content: center;
    position: relative;
    &::before {
      content: '';
      position: absolute;
      left: 0;
      width: ${r};
      height: ${o};
      border-radius: 50%;
      z-index: -1;
      background: radial-Gradient(
          circle at calc(50% + (50% - 0.625em) * 1)
            calc(50% + (50% - 0.625em) * 0),
          ${l} calc(0.625em - 1px),
          transparent 0.625em
        ),
        radial-Gradient(
          circle at calc(50% + (50% - 0.625em) * 0)
            calc(50% + (50% - 0.625em) * 1),
          ${d} calc(0.625em - 1px),
          transparent 0.625em
        ),
        radial-Gradient(
          circle at calc(50% + (50% - 0.625em) * -1)
            calc(50% + (50% - 0.625em) * 0),
          ${p} calc(0.625em - 1px),
          transparent 0.625em
        ),
        radial-Gradient(
          circle at calc(50% + (50% - 0.625em) * 0)
            calc(50% + (50% - 0.625em) * -1),
          ${h} calc(0.625em - 1px),
          transparent 0.625em
        ),
        conic-Gradient(
          ${l} 0% 90deg,
          ${d} 0% 180deg,
          ${p} 0% 270deg,
          ${h} 0% 360deg
        );
      background-origin: border-box;
      mask: radial-Gradient(
        closest-side,
        red calc(100% - 1.25em - 0.75em - 1px),
        transparent calc(100% - 1.25em - 0.75em) calc(100% - 1.25em),
        red calc(100% - 1.25em + 1px) calc(100% - 1px),
        transparent
      );
    }
    .ant-statistic {
      background-color: #fff;
      border-radius: 50%;
      margin: auto;
      display: flex;
      flex-direction: column;
      flex-wrap: wrap;
      width: ${i};
      height: ${c};
      justify-content: center;
    }
  `}const Pf=ce`
  * {
    margin: 0;
  }
  :root {
    font-family: -apple-system, BlinkMacSystemFont, Inter, 'Segoe UI', Roboto,
      'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji',
      'Segoe UI Emoji', 'Segoe UI Symbol';
    line-height: 1.5;
    font-weight: 400;

    color-scheme: light dark;
    color: #213547;
    background-color: #fff;
    font-size: 16px;

    font-synthesis: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .resta--hidden-scroll {
    overflow: hidden;
  }

  a {
    font-weight: 500;
    color: #646cff;
    text-decoration: inherit;

    &:hover {
      color: #535bf2;
    }
  }

  body {
    margin: 0;
    min-width: 320px;
    min-height: 100vh;
    /* background-color: #fff; */ // move it to root instead, otherwise the circle style of statistics will be gone
  }

  h1 {
    font-size: 3.2em;
    line-height: 1.1;
  }

  small {
    font-size: 0.8rem;
  }

  .ant-btn {
    &.ant-btn-primary {
      text-shadow: 0 0 5px #beb7b7;
    }

    &.ant-btn-default {
    }

    &.ant-btn-text {
      padding: 1.1rem;
      border-radius: 9999px;
      vertical-align: middle;

      &:not(:disabled):not(.ant-btn-disabled) {
        color: #404756;
        &:active,
        &:focus {
          color: #0a7ea4;
          background: #e6f7ff;
        }
      }
    }
  }

  .ant-picker-dropdown {
    .ant-picker-footer-extra:not(:last-child) {
      border-bottom: none;
    }
  }

  .ant-picker-ok,
  .ant-picker-now {
    .ant-btn-primary,
    .ant-picker-now-btn {
      padding: 1.1rem;
      border-radius: 9999px;
      vertical-align: middle;
      background: #ffffff;
      box-shadow: none;
      border: none;
      text-shadow: none;

      &:not(:disabled):not(.ant-btn-disabled) {
        color: #404756;
        &:hover {
          background: #23272f0d;
          box-shadow: none;
        }
        &:active,
        &:focus {
          color: #0a7ea4;
          background: #e6f7ff;
        }
      }
    }
  }

  .ant-picker-now {
    padding-block: 2px;
    .ant-picker-now-btn {
      padding: 0.7rem 1rem;
      vertical-align: middle;
    }
  }

  .ant-switch {
    transition: ${Tc()};

    width: 80px;
    font-size: 1rem;
    height: 30px;
    line-height: 30px;
    vertical-align: text-top;

    .ant-switch-handle {
      top: 5px;
    }

    .ant-switch-inner {
      > span {
        font-size: 1rem !important;
      }
      .ant-switch-inner-unchecked {
        margin-top: -30px;
      }
    }

    &.ant-switch-checked {
      background: ${_f};
      background-size: 200% auto;
      &:hover:not(.ant-switch-disabled) {
        background: ${Ef};
      }
    }
    .ant-switch-inner {
      text-shadow: 0 0 10px #636060;
    }
  }

  .ant-drawer {
    & > .ant-drawer-content-wrapper {
      box-shadow:
        -6px 0 16px 0 transparent,
        -3px 0 6px -4px transparent,
        -9px 0 28px 8px rgba(0, 0, 0, 0.05);
    }

    .ant-drawer-mask {
      background: #ffffffca;
    }

    .ant-drawer-body {
      padding: 1rem;
    }

    .ant-drawer-header-title {
      flex-direction: row-reverse;
    }

    .ant-drawer-title {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
  }

  .ant-modal {
    .ant-modal-confirm-content {
      font-size: 1rem;
    }
  }

  .ant-modal-root {
    .ant-modal-mask {
      background: #ffffffca;
    }
  }

  .ant-divider {
    margin: 8px 0;
  }

  .ant-input-affix-wrapper .ant-input-clear-icon {
    font-size: 1rem;
  }

  .ant-select .ant-select-clear {
    font-size: 1rem;
    margin-top: -8px;
  }

  .ant-notification {
    .ant-notification-notice-wrapper {
      .ant-notification-notice {
        &-success {
          .ant-notification-notice-progress {
            &::-webkit-progress-value {
              background: #52c41a;
            }
          }
        }
        &-error {
          .ant-notification-notice-progress {
            &::-webkit-progress-value {
              background: #ff4d4f;
            }
          }
        }
        &-warning {
          .ant-notification-notice-progress {
            &::-webkit-progress-value {
              background: #faad14;
            }
          }
        }
      }

      .ant-notification-notice-message {
        font-size: 1.12rem !important;
        font-weight: 500;
        line-height: 1.2;
        margin-bottom: 1rem;
      }

      .ant-notification-notice-description {
        font-size: 1rem !important;
        font-weight: normal;
        color: #444;

        small {
          margin-top: 10px;
          display: block;
        }
      }
    }
    &.ant-notification-topRight {
      .ant-notification-notice-wrapper {
        top: -20px;
        right: 32px;
      }
    }
  }

  .ant-float-btn {
    z-index: 1001;
  }

  .ant-float-btn-group {
    height: min-content;
  }

  @media (prefers-color-scheme: light) {
    :root {
      color: #213547;
      /* background-color: #ffffff; */
    }
    a:hover {
      color: #747bff;
    }
    button {
      background-color: #f9f9f9;
    }
  }

  @media (prefers-color-scheme: dark) {
    :root {
      color: #213547;
      /* background-color: #ffffff; */
    }
  }

  /* PWA: It targets only the app used with a system icon in all mode */
  @media (display-mode: standalone),
    (display-mode: fullscreen),
    (display-mode: minimal-ui) {
    * {
      user-select: none;
    }
    // stop browser-refreshing when scrolling down to bottom
    body {
      overscroll-behavior-y: contain;
    }
  }
`,Mf=`linear-gradient(to right, #2bc0e4 0%, #eaecc6 51%, #2bc0e4 100%);
    background-size: 200% auto;
    border-radius: 10px;
  `,Af={primaryColor:"#fff",colorPrimary:Mf,colorPrimaryHover:`'?';
    background-position: center;
    box-shadow: 0 0 20px #eee;
  `,colorPrimaryActive:`'?';
    background-position: center;
    box-shadow: 0 0 20px #eee;
  `,textHoverBg:"#23272f0d"},If={Button:Af},$f="modulepreload",Lf=function(t,r){return new URL(t,r).href},hs={},wo=function(r,o,i){let c=Promise.resolve();if(o&&o.length>0){const l=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));c=Promise.all(o.map(h=>{if(h=Lf(h,i),h in hs)return;hs[h]=!0;const v=h.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(!!i)for(let q=l.length-1;q>=0;q--){const L=l[q];if(L.href===h&&(!v||L.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${y}`))return;const k=document.createElement("link");if(k.rel=v?"stylesheet":$f,v||(k.as="script",k.crossOrigin=""),k.href=h,p&&k.setAttribute("nonce",p),document.head.appendChild(k),v)return new Promise((q,L)=>{k.addEventListener("load",q),k.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${h}`)))})}))}return c.then(()=>r()).catch(l=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l})},Bf=D.memo(()=>{ni();const t=$d(),r=D.useRef();D.useRef();const o=D.useCallback(c=>{c.preventDefault();const{url:l}=c.currentTarget.dataset;t(l)},[t]),i=D.useCallback(()=>{window.location.reload()},[]);return pe(It,{children:[N("div",{id:"resta-header-observer",ref:r}),pe(Gn.Group,{trigger:"click",style:{right:10,top:10,zIndex:1001},icon:N(fu,{}),placement:"bottom",children:[N(Gn,{"data-url":"/",icon:N(hu,{}),onClick:o}),N(Gn,{"data-url":"/order-list",icon:N(pu,{}),onClick:o}),N(Gn,{"data-url":"/statistics",icon:N(mu,{}),onClick:o}),N(Gn,{"data-url":"/settings",icon:N(yu,{}),onClick:o}),N(Gn,{icon:N(Ps,{}),onClick:i})]})]})}),Nf=ce`
  /* width: 100vw; */
`,jf=()=>pe(It,{children:[N(Bf,{}),N("main",{css:Nf,children:N(Xd,{})})]});var Oc={exports:{}};(function(t,r){(function(o,i){t.exports=i()})(Un,function(){var o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=s[u])})(e,n)},i=function(){return(i=Object.assign||function(e){for(var n,a=1,s=arguments.length;a<s;a++)for(var u in n=arguments[a])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e}).apply(this,arguments)};function c(e,n,a){for(var s,u=0,f=n.length;u<f;u++)!s&&u in n||((s=s||Array.prototype.slice.call(n,0,u))[u]=n[u]);return e.concat(s||Array.prototype.slice.call(n))}var l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Un,d=Object.keys,p=Array.isArray;function h(e,n){return typeof n!="object"||d(n).forEach(function(a){e[a]=n[a]}),e}typeof Promise>"u"||l.Promise||(l.Promise=Promise);var v=Object.getPrototypeOf,y={}.hasOwnProperty;function b(e,n){return y.call(e,n)}function k(e,n){typeof n=="function"&&(n=n(v(e))),(typeof Reflect>"u"?d:Reflect.ownKeys)(n).forEach(function(a){L(e,a,n[a])})}var q=Object.defineProperty;function L(e,n,a,s){q(e,n,h(a&&b(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},s))}function S(e){return{from:function(n){return e.prototype=Object.create(n.prototype),L(e.prototype,"constructor",e),{extend:k.bind(null,e.prototype)}}}}var j=Object.getOwnPropertyDescriptor,V=[].slice;function X(e,n,a){return V.call(e,n,a)}function Y(e,n){return n(e)}function Z(e){if(!e)throw new Error("Assertion Failed")}function W(e){l.setImmediate?setImmediate(e):setTimeout(e,0)}function U(e,n){if(typeof n=="string"&&b(e,n))return e[n];if(!n)return e;if(typeof n!="string"){for(var a=[],s=0,u=n.length;s<u;++s){var f=U(e,n[s]);a.push(f)}return a}var m=n.indexOf(".");if(m!==-1){var g=e[n.substr(0,m)];return g==null?void 0:U(g,n.substr(m+1))}}function w(e,n,a){if(e&&n!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof n!="string"&&"length"in n){Z(typeof a!="string"&&"length"in a);for(var s=0,u=n.length;s<u;++s)w(e,n[s],a[s])}else{var f,m,g=n.indexOf(".");g!==-1?(f=n.substr(0,g),(m=n.substr(g+1))===""?a===void 0?p(e)&&!isNaN(parseInt(f))?e.splice(f,1):delete e[f]:e[f]=a:w(g=!(g=e[f])||!b(e,f)?e[f]={}:g,m,a)):a===void 0?p(e)&&!isNaN(parseInt(n))?e.splice(n,1):delete e[n]:e[n]=a}}function he(e){var n,a={};for(n in e)b(e,n)&&(a[n]=e[n]);return a}var de=[].concat;function le(e){return de.apply([],e)}var wn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(le([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(n){return n+e+"Array"})}))).filter(function(e){return l[e]}),be=new Set(wn.map(function(e){return l[e]})),fe=null;function we(e){return fe=new WeakMap,e=function n(a){if(!a||typeof a!="object")return a;var s=fe.get(a);if(s)return s;if(p(a)){s=[],fe.set(a,s);for(var u=0,f=a.length;u<f;++u)s.push(n(a[u]))}else if(be.has(a.constructor))s=a;else{var m,g=v(a);for(m in s=g===Object.prototype?{}:Object.create(g),fe.set(a,s),a)b(a,m)&&(s[m]=n(a[m]))}return s}(e),fe=null,e}var ge={}.toString;function Ne(e){return ge.call(e).slice(8,-1)}var Ze=typeof Symbol<"u"?Symbol.iterator:"@@iterator",gt=typeof Ze=="symbol"?function(e){var n;return e!=null&&(n=e[Ze])&&n.apply(e)}:function(){return null};function Te(e,n){return n=e.indexOf(n),0<=n&&e.splice(n,1),0<=n}var bt={};function ct(e){var n,a,s,u;if(arguments.length===1){if(p(e))return e.slice();if(this===bt&&typeof e=="string")return[e];if(u=gt(e)){for(a=[];!(s=u.next()).done;)a.push(s.value);return a}if(e==null)return[e];if(typeof(n=e.length)!="number")return[e];for(a=new Array(n);n--;)a[n]=e[n];return a}for(n=arguments.length,a=new Array(n);n--;)a[n]=arguments[n];return a}var lt=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},$e=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],rn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat($e),St={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function dt(e,n){this.name=e,this.message=n}function en(e,n){return e+". Errors: "+Object.keys(n).map(function(a){return n[a].toString()}).filter(function(a,s,u){return u.indexOf(a)===s}).join(`
`)}function mt(e,n,a,s){this.failures=n,this.failedKeys=s,this.successCount=a,this.message=en(e,n)}function Se(e,n){this.name="BulkError",this.failures=Object.keys(n).map(function(a){return n[a]}),this.failuresByPos=n,this.message=en(e,this.failures)}S(dt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(mt).from(dt),S(Se).from(dt);var je=rn.reduce(function(e,n){return e[n]=n+"Error",e},{}),ze=dt,ue=rn.reduce(function(e,n){var a=n+"Error";function s(u,f){this.name=a,u?typeof u=="string"?(this.message="".concat(u).concat(f?`
 `+f:""),this.inner=f||null):typeof u=="object"&&(this.message="".concat(u.name," ").concat(u.message),this.inner=u):(this.message=St[n]||a,this.inner=null)}return S(s).from(ze),e[n]=s,e},{});ue.Syntax=SyntaxError,ue.Type=TypeError,ue.Range=RangeError;var Gt=$e.reduce(function(e,n){return e[n+"Error"]=ue[n],e},{}),wt=rn.reduce(function(e,n){return["Syntax","Type","Range"].indexOf(n)===-1&&(e[n+"Error"]=ue[n]),e},{});function ve(){}function Pt(e){return e}function vn(e,n){return e==null||e===Pt?n:function(a){return n(e(a))}}function zt(e,n){return function(){e.apply(this,arguments),n.apply(this,arguments)}}function Mt(e,n){return e===ve?n:function(){var a=e.apply(this,arguments);a!==void 0&&(arguments[0]=a);var s=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var f=n.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?zt(s,this.onsuccess):s),u&&(this.onerror=this.onerror?zt(u,this.onerror):u),f!==void 0?f:a}}function sn(e,n){return e===ve?n:function(){e.apply(this,arguments);var a=this.onsuccess,s=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?zt(a,this.onsuccess):a),s&&(this.onerror=this.onerror?zt(s,this.onerror):s)}}function gn(e,n){return e===ve?n:function(a){var s=e.apply(this,arguments);h(a,s);var u=this.onsuccess,f=this.onerror;return this.onsuccess=null,this.onerror=null,a=n.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?zt(u,this.onsuccess):u),f&&(this.onerror=this.onerror?zt(f,this.onerror):f),s===void 0?a===void 0?void 0:a:h(s,a)}}function tn(e,n){return e===ve?n:function(){return n.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Ut(e,n){return e===ve?n:function(){var a=e.apply(this,arguments);if(a&&typeof a.then=="function"){for(var s=this,u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return a.then(function(){return n.apply(s,f)})}return n.apply(this,arguments)}}wt.ModifyError=mt,wt.DexieError=dt,wt.BulkError=Se;var Tt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function me(e){Tt=e}var ye={},Pe=100,wn=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,v(e),e];var n=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[n,v(n),e]}(),$e=wn[0],rn=wn[1],wn=wn[2],rn=rn&&rn.then,Ee=$e&&$e.constructor,Fe=!!wn,Be=function(e,n){Ot.push([e,n]),tt&&(queueMicrotask($),tt=!1)},Ue=!0,tt=!0,Ye=[],Qe=[],xt=Pt,_t={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ve,pgp:!1,env:{},finalize:ve},oe=_t,Ot=[],ft=0,Je=[];function Q(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var n=this._PSD=oe;if(typeof e!="function"){if(e!==ye)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&nn(this,this._value))}this._state=null,this._value=null,++n.ref,function a(s,u){try{u(function(f){if(s._state===null){if(f===s)throw new TypeError("A promise cannot be resolved with itself.");var m=s._lib&&K();f&&typeof f.then=="function"?a(s,function(g,C){f instanceof Q?f._then(g,C):f.then(g,C)}):(s._state=!0,s._value=f,Cn(s)),m&&G()}},nn.bind(null,s))}catch(f){nn(s,f)}}(this,e)}var Yt={get:function(){var e=oe,n=pt;function a(s,u){var f=this,m=!e.global&&(e!==oe||n!==pt),g=m&&!Ht(),C=new Q(function(_,P){$n(f,new qt(Ln(s,e,m,g),Ln(u,e,m,g),_,P,e))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return a.prototype=ye,a},set:function(e){L(this,"then",e&&e.prototype===ye?Yt:{get:function(){return e},set:Yt.set})}};function qt(e,n,a,s,u){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof n=="function"?n:null,this.resolve=a,this.reject=s,this.psd=u}function nn(e,n){var a,s;Qe.push(n),e._state===null&&(a=e._lib&&K(),n=xt(n),e._state=!1,e._value=n,s=e,Ye.some(function(u){return u._value===s._value})||Ye.push(s),Cn(e),a&&G())}function Cn(e){var n=e._listeners;e._listeners=[];for(var a=0,s=n.length;a<s;++a)$n(e,n[a]);var u=e._PSD;--u.ref||u.finalize(),ft===0&&(++ft,Be(function(){--ft==0&&se()},[]))}function $n(e,n){if(e._state!==null){var a=e._state?n.onFulfilled:n.onRejected;if(a===null)return(e._state?n.resolve:n.reject)(e._value);++n.psd.ref,++ft,Be(R,[a,e,n])}else e._listeners.push(n)}function R(e,n,a){try{var s,u=n._value;!n._state&&Qe.length&&(Qe=[]),s=Tt&&n._consoleTask?n._consoleTask.run(function(){return e(u)}):e(u),n._state||Qe.indexOf(u)!==-1||function(f){for(var m=Ye.length;m;)if(Ye[--m]._value===f._value)return Ye.splice(m,1)}(n),a.resolve(s)}catch(f){a.reject(f)}finally{--ft==0&&se(),--a.psd.ref||a.psd.finalize()}}function $(){kt(_t,function(){K()&&G()})}function K(){var e=Ue;return tt=Ue=!1,e}function G(){var e,n,a;do for(;0<Ot.length;)for(e=Ot,Ot=[],a=e.length,n=0;n<a;++n){var s=e[n];s[0].apply(null,s[1])}while(0<Ot.length);tt=Ue=!0}function se(){var e=Ye;Ye=[],e.forEach(function(s){s._PSD.onunhandled.call(null,s._value,s)});for(var n=Je.slice(0),a=n.length;a;)n[--a]()}function xe(e){return new Q(ye,!1,e)}function re(e,n){var a=oe;return function(){var s=K(),u=oe;try{return jt(a,!0),e.apply(this,arguments)}catch(f){n&&n(f)}finally{jt(u,!1),s&&G()}}}k(Q.prototype,{then:Yt,_then:function(e,n){$n(this,new qt(null,null,e,n,oe))},catch:function(e){if(arguments.length===1)return this.then(null,e);var n=e,a=arguments[1];return typeof n=="function"?this.then(null,function(s){return(s instanceof n?a:xe)(s)}):this.then(null,function(s){return(s&&s.name===n?a:xe)(s)})},finally:function(e){return this.then(function(n){return Q.resolve(e()).then(function(){return n})},function(n){return Q.resolve(e()).then(function(){return xe(n)})})},timeout:function(e,n){var a=this;return e<1/0?new Q(function(s,u){var f=setTimeout(function(){return u(new ue.Timeout(n))},e);a.then(s,u).finally(clearTimeout.bind(null,f))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&L(Q.prototype,Symbol.toStringTag,"Dexie.Promise"),_t.env=bn(),k(Q,{all:function(){var e=ct.apply(null,arguments).map(Xt);return new Q(function(n,a){e.length===0&&n([]);var s=e.length;e.forEach(function(u,f){return Q.resolve(u).then(function(m){e[f]=m,--s||n(e)},a)})})},resolve:function(e){return e instanceof Q?e:e&&typeof e.then=="function"?new Q(function(n,a){e.then(n,a)}):new Q(ye,!0,e)},reject:xe,race:function(){var e=ct.apply(null,arguments).map(Xt);return new Q(function(n,a){e.map(function(s){return Q.resolve(s).then(n,a)})})},PSD:{get:function(){return oe},set:function(e){return oe=e}},totalEchoes:{get:function(){return pt}},newPSD:Ke,usePSD:kt,scheduler:{get:function(){return Be},set:function(e){Be=e}},rejectionMapper:{get:function(){return xt},set:function(e){xt=e}},follow:function(e,n){return new Q(function(a,s){return Ke(function(u,f){var m=oe;m.unhandleds=[],m.onunhandled=f,m.finalize=zt(function(){var g,C=this;g=function(){C.unhandleds.length===0?u():f(C.unhandleds[0])},Je.push(function _(){g(),Je.splice(Je.indexOf(_),1)}),++ft,Be(function(){--ft==0&&se()},[])},m.finalize),e()},n,a,s)})}}),Ee&&(Ee.allSettled&&L(Q,"allSettled",function(){var e=ct.apply(null,arguments).map(Xt);return new Q(function(n){e.length===0&&n([]);var a=e.length,s=new Array(a);e.forEach(function(u,f){return Q.resolve(u).then(function(m){return s[f]={status:"fulfilled",value:m}},function(m){return s[f]={status:"rejected",reason:m}}).then(function(){return--a||n(s)})})})}),Ee.any&&typeof AggregateError<"u"&&L(Q,"any",function(){var e=ct.apply(null,arguments).map(Xt);return new Q(function(n,a){e.length===0&&a(new AggregateError([]));var s=e.length,u=new Array(s);e.forEach(function(f,m){return Q.resolve(f).then(function(g){return n(g)},function(g){u[m]=g,--s||a(new AggregateError(u))})})})}));var ee={awaits:0,echoes:0,id:0},Oe=0,_e=[],ht=0,pt=0,Ce=0;function Ke(e,n,a,s){var u=oe,f=Object.create(u);return f.parent=u,f.ref=0,f.global=!1,f.id=++Ce,_t.env,f.env=Fe?{Promise:Q,PromiseProp:{value:Q,configurable:!0,writable:!0},all:Q.all,race:Q.race,allSettled:Q.allSettled,any:Q.any,resolve:Q.resolve,reject:Q.reject}:{},n&&h(f,n),++u.ref,f.finalize=function(){--this.parent.ref||this.parent.finalize()},s=kt(f,e,a,s),f.ref===0&&f.finalize(),s}function nt(){return ee.id||(ee.id=++Oe),++ee.awaits,ee.echoes+=Pe,ee.id}function Ht(){return!!ee.awaits&&(--ee.awaits==0&&(ee.id=0),ee.echoes=ee.awaits*Pe,!0)}function Xt(e){return ee.echoes&&e&&e.constructor===Ee?(nt(),e.then(function(n){return Ht(),n},function(n){return Ht(),et(n)})):e}function Sn(){var e=_e[_e.length-1];_e.pop(),jt(e,!1)}function jt(e,n){var a,s=oe;(n?!ee.echoes||ht++&&e===oe:!ht||--ht&&e===oe)||queueMicrotask(n?(function(u){++pt,ee.echoes&&--ee.echoes!=0||(ee.echoes=ee.awaits=ee.id=0),_e.push(oe),jt(u,!0)}).bind(null,e):Sn),e!==oe&&(oe=e,s===_t&&(_t.env=bn()),Fe&&(a=_t.env.Promise,n=e.env,(s.global||e.global)&&(Object.defineProperty(l,"Promise",n.PromiseProp),a.all=n.all,a.race=n.race,a.resolve=n.resolve,a.reject=n.reject,n.allSettled&&(a.allSettled=n.allSettled),n.any&&(a.any=n.any))))}function bn(){var e=l.Promise;return Fe?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(l,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function kt(e,n,a,s,u){var f=oe;try{return jt(e,!0),n(a,s,u)}finally{jt(f,!1)}}function Ln(e,n,a,s){return typeof e!="function"?e:function(){var u=oe;a&&nt(),jt(n,!0);try{return e.apply(this,arguments)}finally{jt(u,!1),s&&queueMicrotask(Ht)}}}function Tn(e){Promise===Ee&&ee.echoes===0?ht===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+rn).indexOf("[native code]")===-1&&(nt=Ht=ve);var et=Q.reject,Re="",rt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ft="String expected.",it=[],ln="__dbnames",qn="readonly",fr="readwrite";function Bn(e,n){return e?n?function(){return e.apply(this,arguments)&&n.apply(this,arguments)}:e:n}var ui={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Yr(e){return typeof e!="string"||/\./.test(e)?function(n){return n}:function(n){return n[e]===void 0&&e in n&&delete(n=we(n))[e],n}}function li(){throw ue.Type()}function He(e,n){try{var a=di(e),s=di(n);if(a!==s)return a==="Array"?1:s==="Array"?-1:a==="binary"?1:s==="binary"?-1:a==="string"?1:s==="string"?-1:a==="Date"?1:s!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return n<e?1:e<n?-1:0;case"binary":return function(u,f){for(var m=u.length,g=f.length,C=m<g?m:g,_=0;_<C;++_)if(u[_]!==f[_])return u[_]<f[_]?-1:1;return m===g?0:m<g?-1:1}(fi(e),fi(n));case"Array":return function(u,f){for(var m=u.length,g=f.length,C=m<g?m:g,_=0;_<C;++_){var P=He(u[_],f[_]);if(P!==0)return P}return m===g?0:m<g?-1:1}(e,n)}}catch{}return NaN}function di(e){var n=typeof e;return n!="object"?n:ArrayBuffer.isView(e)?"binary":(e=Ne(e),e==="ArrayBuffer"?"binary":e)}function fi(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var hi=(at.prototype._trans=function(e,n,a){var s=this._tx||oe.trans,u=this.name,f=Tt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function m(_,P,x){if(!x.schema[u])throw new ue.NotFound("Table "+u+" not part of transaction");return n(x.idbtrans,x)}var g=K();try{var C=s&&s.db._novip===this.db._novip?s===oe.trans?s._promise(e,m,a):Ke(function(){return s._promise(e,m,a)},{trans:s,transless:oe.transless||oe}):function _(P,x,M,E){if(P.idbdb&&(P._state.openComplete||oe.letThrough||P._vip)){var O=P._createTransaction(x,M,P._dbSchema);try{O.create(),P._state.PR1398_maxLoop=3}catch(A){return A.name===je.InvalidState&&P.isOpen()&&0<--P._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),P.close({disableAutoOpen:!1}),P.open().then(function(){return _(P,x,M,E)})):et(A)}return O._promise(x,function(A,T){return Ke(function(){return oe.trans=O,E(A,T,O)})}).then(function(A){if(x==="readwrite")try{O.idbtrans.commit()}catch{}return x==="readonly"?A:O._completion.then(function(){return A})})}if(P._state.openComplete)return et(new ue.DatabaseClosed(P._state.dbOpenError));if(!P._state.isBeingOpened){if(!P._state.autoOpen)return et(new ue.DatabaseClosed);P.open().catch(ve)}return P._state.dbReadyPromise.then(function(){return _(P,x,M,E)})}(this.db,e,[this.name],m);return f&&(C._consoleTask=f,C=C.catch(function(_){return console.trace(_),et(_)})),C}finally{g&&G()}},at.prototype.get=function(e,n){var a=this;return e&&e.constructor===Object?this.where(e).first(n):e==null?et(new ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(s){return a.core.get({trans:s,key:e}).then(function(u){return a.hook.reading.fire(u)})}).then(n)},at.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(p(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var n=d(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(C){if(C.compound&&n.every(function(P){return 0<=C.keyPath.indexOf(P)})){for(var _=0;_<n.length;++_)if(n.indexOf(C.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(C,_){return C.keyPath.length-_.keyPath.length})[0];if(a&&this.db._maxKey!==Re){var m=a.keyPath.slice(0,n.length);return this.where(m).equals(m.map(function(_){return e[_]}))}!a&&Tt&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(n.join("+"),"]"));var s=this.schema.idxByName,u=this.db._deps.indexedDB;function f(C,_){return u.cmp(C,_)===0}var g=n.reduce(function(M,_){var P=M[0],x=M[1],M=s[_],E=e[_];return[P||M,P||!M?Bn(x,M&&M.multi?function(O){return O=U(O,_),p(O)&&O.some(function(A){return f(E,A)})}:function(O){return f(E,U(O,_))}):x]},[null,null]),m=g[0],g=g[1];return m?this.where(m.name).equals(e[m.keyPath]).filter(g):a?this.filter(g):this.where(n).equals("")},at.prototype.filter=function(e){return this.toCollection().and(e)},at.prototype.count=function(e){return this.toCollection().count(e)},at.prototype.offset=function(e){return this.toCollection().offset(e)},at.prototype.limit=function(e){return this.toCollection().limit(e)},at.prototype.each=function(e){return this.toCollection().each(e)},at.prototype.toArray=function(e){return this.toCollection().toArray(e)},at.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},at.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,p(e)?"[".concat(e.join("+"),"]"):e))},at.prototype.reverse=function(){return this.toCollection().reverse()},at.prototype.mapToClass=function(e){var n,a=this.db,s=this.name;function u(){return n!==null&&n.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof li&&(function(C,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function P(){this.constructor=C}o(C,_),C.prototype=_===null?Object.create(_):(P.prototype=_.prototype,new P)}(u,n=e),Object.defineProperty(u.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),u.prototype.table=function(){return s},e=u);for(var f=new Set,m=e.prototype;m;m=v(m))Object.getOwnPropertyNames(m).forEach(function(C){return f.add(C)});function g(C){if(!C)return C;var _,P=Object.create(e.prototype);for(_ in C)if(!f.has(_))try{P[_]=C[_]}catch{}return P}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=g,this.hook("reading",g),e},at.prototype.defineClass=function(){return this.mapToClass(function(e){h(this,e)})},at.prototype.add=function(e,n){var a=this,s=this.schema.primKey,u=s.auto,f=s.keyPath,m=e;return f&&u&&(m=Yr(f)(e)),this._trans("readwrite",function(g){return a.core.mutate({trans:g,type:"add",keys:n!=null?[n]:null,values:[m]})}).then(function(g){return g.numFailures?Q.reject(g.failures[0]):g.lastResult}).then(function(g){if(f)try{w(e,f,g)}catch{}return g})},at.prototype.update=function(e,n){return typeof e!="object"||p(e)?this.where(":id").equals(e).modify(n):(e=U(e,this.schema.primKey.keyPath),e===void 0?et(new ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(n))},at.prototype.put=function(e,n){var a=this,s=this.schema.primKey,u=s.auto,f=s.keyPath,m=e;return f&&u&&(m=Yr(f)(e)),this._trans("readwrite",function(g){return a.core.mutate({trans:g,type:"put",values:[m],keys:n!=null?[n]:null})}).then(function(g){return g.numFailures?Q.reject(g.failures[0]):g.lastResult}).then(function(g){if(f)try{w(e,f,g)}catch{}return g})},at.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(a){return n.core.mutate({trans:a,type:"delete",keys:[e]})}).then(function(a){return a.numFailures?Q.reject(a.failures[0]):void 0})},at.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:ui})}).then(function(n){return n.numFailures?Q.reject(n.failures[0]):void 0})},at.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(a){return n.core.getMany({keys:e,trans:a}).then(function(s){return s.map(function(u){return n.hook.reading.fire(u)})})})},at.prototype.bulkAdd=function(e,n,a){var s=this,u=Array.isArray(n)?n:void 0,f=(a=a||(u?void 0:n))?a.allKeys:void 0;return this._trans("readwrite",function(m){var _=s.schema.primKey,g=_.auto,_=_.keyPath;if(_&&u)throw new ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var C=e.length,_=_&&g?e.map(Yr(_)):e;return s.core.mutate({trans:m,type:"add",keys:u,values:_,wantResults:f}).then(function(O){var x=O.numFailures,M=O.results,E=O.lastResult,O=O.failures;if(x===0)return f?M:E;throw new Se("".concat(s.name,".bulkAdd(): ").concat(x," of ").concat(C," operations failed"),O)})})},at.prototype.bulkPut=function(e,n,a){var s=this,u=Array.isArray(n)?n:void 0,f=(a=a||(u?void 0:n))?a.allKeys:void 0;return this._trans("readwrite",function(m){var _=s.schema.primKey,g=_.auto,_=_.keyPath;if(_&&u)throw new ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var C=e.length,_=_&&g?e.map(Yr(_)):e;return s.core.mutate({trans:m,type:"put",keys:u,values:_,wantResults:f}).then(function(O){var x=O.numFailures,M=O.results,E=O.lastResult,O=O.failures;if(x===0)return f?M:E;throw new Se("".concat(s.name,".bulkPut(): ").concat(x," of ").concat(C," operations failed"),O)})})},at.prototype.bulkUpdate=function(e){var n=this,a=this.core,s=e.map(function(m){return m.key}),u=e.map(function(m){return m.changes}),f=[];return this._trans("readwrite",function(m){return a.getMany({trans:m,keys:s,cache:"clone"}).then(function(g){var C=[],_=[];e.forEach(function(x,M){var E=x.key,O=x.changes,A=g[M];if(A){for(var T=0,I=Object.keys(O);T<I.length;T++){var B=I[T],F=O[B];if(B===n.schema.primKey.keyPath){if(He(F,E)!==0)throw new ue.Constraint("Cannot update primary key in bulkUpdate()")}else w(A,B,F)}f.push(M),C.push(E),_.push(A)}});var P=C.length;return a.mutate({trans:m,type:"put",keys:C,values:_,updates:{keys:s,changeSpecs:u}}).then(function(x){var M=x.numFailures,E=x.failures;if(M===0)return P;for(var O=0,A=Object.keys(E);O<A.length;O++){var T,I=A[O],B=f[Number(I)];B!=null&&(T=E[I],delete E[I],E[B]=T)}throw new Se("".concat(n.name,".bulkUpdate(): ").concat(M," of ").concat(P," operations failed"),E)})})})},at.prototype.bulkDelete=function(e){var n=this,a=e.length;return this._trans("readwrite",function(s){return n.core.mutate({trans:s,type:"delete",keys:e})}).then(function(m){var u=m.numFailures,f=m.lastResult,m=m.failures;if(u===0)return f;throw new Se("".concat(n.name,".bulkDelete(): ").concat(u," of ").concat(a," operations failed"),m)})},at);function at(){}function hr(e){function n(m,g){if(g){for(var C=arguments.length,_=new Array(C-1);--C;)_[C-1]=arguments[C];return a[m].subscribe.apply(null,_),e}if(typeof m=="string")return a[m]}var a={};n.addEventType=f;for(var s=1,u=arguments.length;s<u;++s)f(arguments[s]);return n;function f(m,g,C){if(typeof m!="object"){var _;g=g||tn;var P={subscribers:[],fire:C=C||ve,subscribe:function(x){P.subscribers.indexOf(x)===-1&&(P.subscribers.push(x),P.fire=g(P.fire,x))},unsubscribe:function(x){P.subscribers=P.subscribers.filter(function(M){return M!==x}),P.fire=P.subscribers.reduce(g,C)}};return a[m]=n[m]=P}d(_=m).forEach(function(x){var M=_[x];if(p(M))f(x,_[x][0],_[x][1]);else{if(M!=="asap")throw new ue.InvalidArgument("Invalid event config");var E=f(x,Pt,function(){for(var O=arguments.length,A=new Array(O);O--;)A[O]=arguments[O];E.subscribers.forEach(function(T){W(function(){T.apply(null,A)})})})}})}}function pr(e,n){return S(n).from({prototype:e}),n}function Hn(e,n){return!(e.filter||e.algorithm||e.or)&&(n?e.justLimit:!e.replayFilter)}function Ua(e,n){e.filter=Bn(e.filter,n)}function Ya(e,n,a){var s=e.replayFilter;e.replayFilter=s?function(){return Bn(s(),n())}:n,e.justLimit=a&&!s}function qr(e,n){if(e.isPrimKey)return n.primaryKey;var a=n.getIndexByKeyPath(e.index);if(!a)throw new ue.Schema("KeyPath "+e.index+" on object store "+n.name+" is not indexed");return a}function pi(e,n,a){var s=qr(e,n.schema);return n.openCursor({trans:a,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:s,range:e.range}})}function Hr(e,n,a,s){var u=e.replayFilter?Bn(e.filter,e.replayFilter()):e.filter;if(e.or){var f={},m=function(g,C,_){var P,x;u&&!u(C,_,function(M){return C.stop(M)},function(M){return C.fail(M)})||((x=""+(P=C.primaryKey))=="[object ArrayBuffer]"&&(x=""+new Uint8Array(P)),b(f,x)||(f[x]=!0,n(g,C,_)))};return Promise.all([e.or._iterate(m,a),mi(pi(e,s,a),e.algorithm,m,!e.keysOnly&&e.valueMapper)])}return mi(pi(e,s,a),Bn(e.algorithm,u),n,!e.keysOnly&&e.valueMapper)}function mi(e,n,a,s){var u=re(s?function(f,m,g){return a(s(f),m,g)}:a);return e.then(function(f){if(f)return f.start(function(){var m=function(){return f.continue()};n&&!n(f,function(g){return m=g},function(g){f.stop(g),m=ve},function(g){f.fail(g),m=ve})||u(f.value,f,function(g){return m=g}),m()})})}var wn=Symbol(),mr=(yi.prototype.execute=function(e){if(this.add!==void 0){var n=this.add;if(p(n))return c(c([],p(e)?e:[],!0),n).sort();if(typeof n=="number")return(Number(e)||0)+n;if(typeof n=="bigint")try{return BigInt(e)+n}catch{return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(this.remove!==void 0){var a=this.remove;if(p(a))return p(e)?e.filter(function(s){return!a.includes(s)}).sort():[];if(typeof a=="number")return Number(e)-a;if(typeof a=="bigint")try{return BigInt(e)-a}catch{return BigInt(0)-a}throw new TypeError("Invalid subtrahend ".concat(a))}return n=(n=this.replacePrefix)===null||n===void 0?void 0:n[0],n&&typeof e=="string"&&e.startsWith(n)?this.replacePrefix[1]+e.substring(n.length):e},yi);function yi(e){Object.assign(this,e)}var Uc=(qe.prototype._read=function(e,n){var a=this._ctx;return a.error?a.table._trans(null,et.bind(null,a.error)):a.table._trans("readonly",e).then(n)},qe.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,et.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},qe.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=Bn(n.algorithm,e)},qe.prototype._iterate=function(e,n){return Hr(this._ctx,e,n,this._ctx.table.core)},qe.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return e&&h(a,e),n._ctx=a,n},qe.prototype.raw=function(){return this._ctx.valueMapper=null,this},qe.prototype.each=function(e){var n=this._ctx;return this._read(function(a){return Hr(n,e,a,n.table.core)})},qe.prototype.count=function(e){var n=this;return this._read(function(a){var s=n._ctx,u=s.table.core;if(Hn(s,!0))return u.count({trans:a,query:{index:qr(s,u.schema),range:s.range}}).then(function(m){return Math.min(m,s.limit)});var f=0;return Hr(s,function(){return++f,!1},a,u).then(function(){return f})}).then(e)},qe.prototype.sortBy=function(e,n){var a=e.split(".").reverse(),s=a[0],u=a.length-1;function f(C,_){return _?f(C[a[_]],_-1):C[s]}var m=this._ctx.dir==="next"?1:-1;function g(C,_){return C=f(C,u),_=f(_,u),C<_?-m:_<C?m:0}return this.toArray(function(C){return C.sort(g)}).then(n)},qe.prototype.toArray=function(e){var n=this;return this._read(function(a){var s=n._ctx;if(s.dir==="next"&&Hn(s,!0)&&0<s.limit){var u=s.valueMapper,f=qr(s,s.table.core.schema);return s.table.core.query({trans:a,limit:s.limit,values:!0,query:{index:f,range:s.range}}).then(function(g){return g=g.result,u?g.map(u):g})}var m=[];return Hr(s,function(g){return m.push(g)},a,s.table.core).then(function(){return m})},e)},qe.prototype.offset=function(e){var n=this._ctx;return e<=0||(n.offset+=e,Hn(n)?Ya(n,function(){var a=e;return function(s,u){return a===0||(a===1?--a:u(function(){s.advance(a),a=0}),!1)}}):Ya(n,function(){var a=e;return function(){return--a<0}})),this},qe.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ya(this._ctx,function(){var n=e;return function(a,s,u){return--n<=0&&s(u),0<=n}},!0),this},qe.prototype.until=function(e,n){return Ua(this._ctx,function(a,s,u){return!e(a.value)||(s(u),n)}),this},qe.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},qe.prototype.last=function(e){return this.reverse().first(e)},qe.prototype.filter=function(e){var n;return Ua(this._ctx,function(a){return e(a.value)}),(n=this._ctx).isMatch=Bn(n.isMatch,e),this},qe.prototype.and=function(e){return this.filter(e)},qe.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},qe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},qe.prototype.desc=function(){return this.reverse()},qe.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(a,s){e(s.key,s)})},qe.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},qe.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(a,s){e(s.primaryKey,s)})},qe.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var a=[];return this.each(function(s,u){a.push(u.key)}).then(function(){return a}).then(e)},qe.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&Hn(n,!0)&&0<n.limit)return this._read(function(s){var u=qr(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:u,range:n.range}})}).then(function(s){return s.result}).then(e);n.keysOnly=!n.isMatch;var a=[];return this.each(function(s,u){a.push(u.primaryKey)}).then(function(){return a}).then(e)},qe.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},qe.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},qe.prototype.lastKey=function(e){return this.reverse().firstKey(e)},qe.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var n={};return Ua(this._ctx,function(u){var s=u.primaryKey.toString(),u=b(n,s);return n[s]=!0,!u}),this},qe.prototype.modify=function(e){var n=this,a=this._ctx;return this._write(function(s){var u,f,m;m=typeof e=="function"?e:(u=d(e),f=u.length,function(T){for(var I=!1,B=0;B<f;++B){var F=u[B],z=e[F],H=U(T,F);z instanceof mr?(w(T,F,z.execute(H)),I=!0):H!==z&&(w(T,F,z),I=!0)}return I});function g(T,F){var B=F.failures,F=F.numFailures;O+=T-F;for(var z=0,H=d(B);z<H.length;z++){var ae=H[z];E.push(B[ae])}}var C=a.table.core,_=C.schema.primaryKey,P=_.outbound,x=_.extractKey,M=n.db._options.modifyChunkSize||200,E=[],O=0,A=[];return n.clone().primaryKeys().then(function(T){function I(F){var z=Math.min(M,T.length-F);return C.getMany({trans:s,keys:T.slice(F,F+z),cache:"immutable"}).then(function(H){for(var ae=[],J=[],ne=P?[]:null,ie=[],te=0;te<z;++te){var ke=H[te],De={value:we(ke),primKey:T[F+te]};m.call(De,De.value,De)!==!1&&(De.value==null?ie.push(T[F+te]):P||He(x(ke),x(De.value))===0?(J.push(De.value),P&&ne.push(T[F+te])):(ie.push(T[F+te]),ae.push(De.value)))}return Promise.resolve(0<ae.length&&C.mutate({trans:s,type:"add",values:ae}).then(function(Le){for(var Ae in Le.failures)ie.splice(parseInt(Ae),1);g(ae.length,Le)})).then(function(){return(0<J.length||B&&typeof e=="object")&&C.mutate({trans:s,type:"put",keys:ne,values:J,criteria:B,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<F}).then(function(Le){return g(J.length,Le)})}).then(function(){return(0<ie.length||B&&e===qa)&&C.mutate({trans:s,type:"delete",keys:ie,criteria:B,isAdditionalChunk:0<F}).then(function(Le){return g(ie.length,Le)})}).then(function(){return T.length>F+z&&I(F+M)})})}var B=Hn(a)&&a.limit===1/0&&(typeof e!="function"||e===qa)&&{index:a.index,range:a.range};return I(0).then(function(){if(0<E.length)throw new mt("Error modifying one or more objects",E,O,A);return T.length})})})},qe.prototype.delete=function(){var e=this._ctx,n=e.range;return Hn(e)&&(e.isPrimKey||n.type===3)?this._write(function(a){var s=e.table.core.schema.primaryKey,u=n;return e.table.core.count({trans:a,query:{index:s,range:u}}).then(function(f){return e.table.core.mutate({trans:a,type:"deleteRange",range:u}).then(function(m){var g=m.failures;if(m.lastResult,m.results,m=m.numFailures,m)throw new mt("Could not delete some values",Object.keys(g).map(function(C){return g[C]}),f-m);return f-m})})}):this.modify(qa)},qe);function qe(){}var qa=function(e,n){return n.value=null};function Yc(e,n){return e<n?-1:e===n?0:1}function qc(e,n){return n<e?-1:e===n?0:1}function Zt(e,n,a){return e=e instanceof gi?new e.Collection(e):e,e._ctx.error=new(a||TypeError)(n),e}function Wn(e){return new e.Collection(e,function(){return vi("")}).limit(0)}function Wr(e,n,a,s){var u,f,m,g,C,_,P,x=a.length;if(!a.every(function(O){return typeof O=="string"}))return Zt(e,Ft);function M(O){u=O==="next"?function(T){return T.toUpperCase()}:function(T){return T.toLowerCase()},f=O==="next"?function(T){return T.toLowerCase()}:function(T){return T.toUpperCase()},m=O==="next"?Yc:qc;var A=a.map(function(T){return{lower:f(T),upper:u(T)}}).sort(function(T,I){return m(T.lower,I.lower)});g=A.map(function(T){return T.upper}),C=A.map(function(T){return T.lower}),P=(_=O)==="next"?"":s}M("next"),e=new e.Collection(e,function(){return On(g[0],C[x-1]+s)}),e._ondirectionchange=function(O){M(O)};var E=0;return e._addAlgorithm(function(O,A,T){var I=O.key;if(typeof I!="string")return!1;var B=f(I);if(n(B,C,E))return!0;for(var F=null,z=E;z<x;++z){var H=function(ae,J,ne,ie,te,ke){for(var De=Math.min(ae.length,ie.length),Le=-1,Ae=0;Ae<De;++Ae){var cn=J[Ae];if(cn!==ie[Ae])return te(ae[Ae],ne[Ae])<0?ae.substr(0,Ae)+ne[Ae]+ne.substr(Ae+1):te(ae[Ae],ie[Ae])<0?ae.substr(0,Ae)+ie[Ae]+ne.substr(Ae+1):0<=Le?ae.substr(0,Le)+J[Le]+ne.substr(Le+1):null;te(ae[Ae],cn)<0&&(Le=Ae)}return De<ie.length&&ke==="next"?ae+ne.substr(ae.length):De<ae.length&&ke==="prev"?ae.substr(0,ne.length):Le<0?null:ae.substr(0,Le)+ie[Le]+ne.substr(Le+1)}(I,B,g[z],C[z],m,_);H===null&&F===null?E=z+1:(F===null||0<m(F,H))&&(F=H)}return A(F!==null?function(){O.continue(F+P)}:T),!1}),e}function On(e,n,a,s){return{type:2,lower:e,upper:n,lowerOpen:a,upperOpen:s}}function vi(e){return{type:1,lower:e,upper:e}}var gi=(Object.defineProperty(Rt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Rt.prototype.between=function(e,n,a,s){a=a!==!1,s=s===!0;try{return 0<this._cmp(e,n)||this._cmp(e,n)===0&&(a||s)&&(!a||!s)?Wn(this):new this.Collection(this,function(){return On(e,n,!a,!s)})}catch{return Zt(this,rt)}},Rt.prototype.equals=function(e){return e==null?Zt(this,rt):new this.Collection(this,function(){return vi(e)})},Rt.prototype.above=function(e){return e==null?Zt(this,rt):new this.Collection(this,function(){return On(e,void 0,!0)})},Rt.prototype.aboveOrEqual=function(e){return e==null?Zt(this,rt):new this.Collection(this,function(){return On(e,void 0,!1)})},Rt.prototype.below=function(e){return e==null?Zt(this,rt):new this.Collection(this,function(){return On(void 0,e,!1,!0)})},Rt.prototype.belowOrEqual=function(e){return e==null?Zt(this,rt):new this.Collection(this,function(){return On(void 0,e)})},Rt.prototype.startsWith=function(e){return typeof e!="string"?Zt(this,Ft):this.between(e,e+Re,!0,!0)},Rt.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):Wr(this,function(n,a){return n.indexOf(a[0])===0},[e],Re)},Rt.prototype.equalsIgnoreCase=function(e){return Wr(this,function(n,a){return n===a[0]},[e],"")},Rt.prototype.anyOfIgnoreCase=function(){var e=ct.apply(bt,arguments);return e.length===0?Wn(this):Wr(this,function(n,a){return a.indexOf(n)!==-1},e,"")},Rt.prototype.startsWithAnyOfIgnoreCase=function(){var e=ct.apply(bt,arguments);return e.length===0?Wn(this):Wr(this,function(n,a){return a.some(function(s){return n.indexOf(s)===0})},e,Re)},Rt.prototype.anyOf=function(){var e=this,n=ct.apply(bt,arguments),a=this._cmp;try{n.sort(a)}catch{return Zt(this,rt)}if(n.length===0)return Wn(this);var s=new this.Collection(this,function(){return On(n[0],n[n.length-1])});s._ondirectionchange=function(f){a=f==="next"?e._ascending:e._descending,n.sort(a)};var u=0;return s._addAlgorithm(function(f,m,g){for(var C=f.key;0<a(C,n[u]);)if(++u===n.length)return m(g),!1;return a(C,n[u])===0||(m(function(){f.continue(n[u])}),!1)}),s},Rt.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Rt.prototype.noneOf=function(){var e=ct.apply(bt,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Zt(this,rt)}var n=e.reduce(function(a,s){return a?a.concat([[a[a.length-1][1],s]]):[[-1/0,s]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},Rt.prototype.inAnyRange=function(I,n){var a=this,s=this._cmp,u=this._ascending,f=this._descending,m=this._min,g=this._max;if(I.length===0)return Wn(this);if(!I.every(function(B){return B[0]!==void 0&&B[1]!==void 0&&u(B[0],B[1])<=0}))return Zt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ue.InvalidArgument);var C=!n||n.includeLowers!==!1,_=n&&n.includeUppers===!0,P,x=u;function M(B,F){return x(B[0],F[0])}try{(P=I.reduce(function(B,F){for(var z=0,H=B.length;z<H;++z){var ae=B[z];if(s(F[0],ae[1])<0&&0<s(F[1],ae[0])){ae[0]=m(ae[0],F[0]),ae[1]=g(ae[1],F[1]);break}}return z===H&&B.push(F),B},[])).sort(M)}catch{return Zt(this,rt)}var E=0,O=_?function(B){return 0<u(B,P[E][1])}:function(B){return 0<=u(B,P[E][1])},A=C?function(B){return 0<f(B,P[E][0])}:function(B){return 0<=f(B,P[E][0])},T=O,I=new this.Collection(this,function(){return On(P[0][0],P[P.length-1][1],!C,!_)});return I._ondirectionchange=function(B){x=B==="next"?(T=O,u):(T=A,f),P.sort(M)},I._addAlgorithm(function(B,F,z){for(var H,ae=B.key;T(ae);)if(++E===P.length)return F(z),!1;return!O(H=ae)&&!A(H)||(a._cmp(ae,P[E][1])===0||a._cmp(ae,P[E][0])===0||F(function(){x===u?B.continue(P[E][0]):B.continue(P[E][1])}),!1)}),I},Rt.prototype.startsWithAnyOf=function(){var e=ct.apply(bt,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?Wn(this):this.inAnyRange(e.map(function(n){return[n,n+Re]})):Zt(this,"startsWithAnyOf() only works with strings")},Rt);function Rt(){}function dn(e){return re(function(n){return yr(n),e(n.target.error),!1})}function yr(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var vr="storagemutated",Ha="x-storagemutated-1",kn=hr(null,vr),Hc=(fn.prototype._lock=function(){return Z(!oe.global),++this._reculock,this._reculock!==1||oe.global||(oe.lockOwnerFor=this),this},fn.prototype._unlock=function(){if(Z(!oe.global),--this._reculock==0)for(oe.global||(oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{kt(e[1],e[0])}catch{}}return this},fn.prototype._locked=function(){return this._reculock&&oe.lockOwnerFor!==this},fn.prototype.create=function(e){var n=this;if(!this.mode)return this;var a=this.db.idbdb,s=this.db._state.dbOpenError;if(Z(!this.idbtrans),!e&&!a)switch(s&&s.name){case"DatabaseClosedError":throw new ue.DatabaseClosed(s);case"MissingAPIError":throw new ue.MissingAPI(s.message,s);default:throw new ue.OpenFailed(s)}if(!this.active)throw new ue.TransactionInactive;return Z(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||a).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=re(function(u){yr(u),n._reject(e.error)}),e.onabort=re(function(u){yr(u),n.active&&n._reject(new ue.Abort(e.error)),n.active=!1,n.on("abort").fire(u)}),e.oncomplete=re(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&kn.storagemutated.fire(e.mutatedParts)}),this},fn.prototype._promise=function(e,n,a){var s=this;if(e==="readwrite"&&this.mode!=="readwrite")return et(new ue.ReadOnly("Transaction is readonly"));if(!this.active)return et(new ue.TransactionInactive);if(this._locked())return new Q(function(f,m){s._blockedFuncs.push([function(){s._promise(e,n,a).then(f,m)},oe])});if(a)return Ke(function(){var f=new Q(function(m,g){s._lock();var C=n(m,g,s);C&&C.then&&C.then(m,g)});return f.finally(function(){return s._unlock()}),f._lib=!0,f});var u=new Q(function(f,m){var g=n(f,m,s);g&&g.then&&g.then(f,m)});return u._lib=!0,u},fn.prototype._root=function(){return this.parent?this.parent._root():this},fn.prototype.waitFor=function(e){var n,a=this._root(),s=Q.resolve(e);a._waitingFor?a._waitingFor=a._waitingFor.then(function(){return s}):(a._waitingFor=s,a._waitingQueue=[],n=a.idbtrans.objectStore(a.storeNames[0]),function f(){for(++a._spinCount;a._waitingQueue.length;)a._waitingQueue.shift()();a._waitingFor&&(n.get(-1/0).onsuccess=f)}());var u=a._waitingFor;return new Q(function(f,m){s.then(function(g){return a._waitingQueue.push(re(f.bind(null,g)))},function(g){return a._waitingQueue.push(re(m.bind(null,g)))}).finally(function(){a._waitingFor===u&&(a._waitingFor=null)})})},fn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ue.Abort))},fn.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(b(n,e))return n[e];var a=this.schema[e];if(!a)throw new ue.NotFound("Table "+e+" not part of transaction");return a=new this.db.Table(e,a,this),a.core=this.db.core.table(e),n[e]=a},fn);function fn(){}function Wa(e,n,a,s,u,f,m){return{name:e,keyPath:n,unique:a,multi:s,auto:u,compound:f,src:(a&&!m?"&":"")+(s?"*":"")+(u?"++":"")+bi(n)}}function bi(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Va(e,n,a){return{name:e,primKey:n,indexes:a,mappedClass:null,idxByName:(s=function(u){return[u.name,u]},a.reduce(function(u,f,m){return m=s(f,m),m&&(u[m[0]]=m[1]),u},{}))};var s}var gr=function(e){try{return e.only([[]]),gr=function(){return[[]]},[[]]}catch{return gr=function(){return Re},Re}};function Ga(e){return e==null?function(){}:typeof e=="string"?(n=e).split(".").length===1?function(a){return a[n]}:function(a){return U(a,n)}:function(a){return U(a,e)};var n}function wi(e){return[].slice.call(e)}var Wc=0;function br(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function Vc(e,n,C){function s(T){if(T.type===3)return null;if(T.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=T.lower,O=T.upper,A=T.lowerOpen,T=T.upperOpen;return E===void 0?O===void 0?null:n.upperBound(O,!!T):O===void 0?n.lowerBound(E,!!A):n.bound(E,O,!!A,!!T)}function u(M){var E,O=M.name;return{name:O,schema:M,mutate:function(A){var T=A.trans,I=A.type,B=A.keys,F=A.values,z=A.range;return new Promise(function(H,ae){H=re(H);var J=T.objectStore(O),ne=J.keyPath==null,ie=I==="put"||I==="add";if(!ie&&I!=="delete"&&I!=="deleteRange")throw new Error("Invalid operation type: "+I);var te,ke=(B||F||{length:1}).length;if(B&&F&&B.length!==F.length)throw new Error("Given keys array must have same length as given values array.");if(ke===0)return H({numFailures:0,failures:{},results:[],lastResult:void 0});function De(Kt){++cn,yr(Kt)}var Le=[],Ae=[],cn=0;if(I==="deleteRange"){if(z.type===4)return H({numFailures:cn,failures:Ae,results:[],lastResult:void 0});z.type===3?Le.push(te=J.clear()):Le.push(te=J.delete(s(z)))}else{var ne=ie?ne?[F,B]:[F,null]:[B,null],Ie=ne[0],Lt=ne[1];if(ie)for(var Bt=0;Bt<ke;++Bt)Le.push(te=Lt&&Lt[Bt]!==void 0?J[I](Ie[Bt],Lt[Bt]):J[I](Ie[Bt])),te.onerror=De;else for(Bt=0;Bt<ke;++Bt)Le.push(te=J[I](Ie[Bt])),te.onerror=De}function ia(Kt){Kt=Kt.target.result,Le.forEach(function(Fn,mo){return Fn.error!=null&&(Ae[mo]=Fn.error)}),H({numFailures:cn,failures:Ae,results:I==="delete"?B:Le.map(function(Fn){return Fn.result}),lastResult:Kt})}te.onerror=function(Kt){De(Kt),ia(Kt)},te.onsuccess=ia})},getMany:function(A){var T=A.trans,I=A.keys;return new Promise(function(B,F){B=re(B);for(var z,H=T.objectStore(O),ae=I.length,J=new Array(ae),ne=0,ie=0,te=function(Le){Le=Le.target,J[Le._pos]=Le.result,++ie===ne&&B(J)},ke=dn(F),De=0;De<ae;++De)I[De]!=null&&((z=H.get(I[De]))._pos=De,z.onsuccess=te,z.onerror=ke,++ne);ne===0&&B(J)})},get:function(A){var T=A.trans,I=A.key;return new Promise(function(B,F){B=re(B);var z=T.objectStore(O).get(I);z.onsuccess=function(H){return B(H.target.result)},z.onerror=dn(F)})},query:(E=_,function(A){return new Promise(function(T,I){T=re(T);var B,F,z,ne=A.trans,H=A.values,ae=A.limit,te=A.query,J=ae===1/0?void 0:ae,ie=te.index,te=te.range,ne=ne.objectStore(O),ie=ie.isPrimaryKey?ne:ne.index(ie.name),te=s(te);if(ae===0)return T({result:[]});E?((J=H?ie.getAll(te,J):ie.getAllKeys(te,J)).onsuccess=function(ke){return T({result:ke.target.result})},J.onerror=dn(I)):(B=0,F=!H&&"openKeyCursor"in ie?ie.openKeyCursor(te):ie.openCursor(te),z=[],F.onsuccess=function(ke){var De=F.result;return De?(z.push(H?De.value:De.primaryKey),++B===ae?T({result:z}):void De.continue()):T({result:z})},F.onerror=dn(I))})}),openCursor:function(A){var T=A.trans,I=A.values,B=A.query,F=A.reverse,z=A.unique;return new Promise(function(H,ae){H=re(H);var ie=B.index,J=B.range,ne=T.objectStore(O),ne=ie.isPrimaryKey?ne:ne.index(ie.name),ie=F?z?"prevunique":"prev":z?"nextunique":"next",te=!I&&"openKeyCursor"in ne?ne.openKeyCursor(s(J),ie):ne.openCursor(s(J),ie);te.onerror=dn(ae),te.onsuccess=re(function(ke){var De,Le,Ae,cn,Ie=te.result;Ie?(Ie.___id=++Wc,Ie.done=!1,De=Ie.continue.bind(Ie),Le=(Le=Ie.continuePrimaryKey)&&Le.bind(Ie),Ae=Ie.advance.bind(Ie),cn=function(){throw new Error("Cursor not stopped")},Ie.trans=T,Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=function(){throw new Error("Cursor not started")},Ie.fail=re(ae),Ie.next=function(){var Lt=this,Bt=1;return this.start(function(){return Bt--?Lt.continue():Lt.stop()}).then(function(){return Lt})},Ie.start=function(Lt){function Bt(){if(te.result)try{Lt()}catch(Kt){Ie.fail(Kt)}else Ie.done=!0,Ie.start=function(){throw new Error("Cursor behind last entry")},Ie.stop()}var ia=new Promise(function(Kt,Fn){Kt=re(Kt),te.onerror=dn(Fn),Ie.fail=Fn,Ie.stop=function(mo){Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=cn,Kt(mo)}});return te.onsuccess=re(function(Kt){te.onsuccess=Bt,Bt()}),Ie.continue=De,Ie.continuePrimaryKey=Le,Ie.advance=Ae,Bt(),ia},H(Ie)):H(null)},ae)})},count:function(A){var T=A.query,I=A.trans,B=T.index,F=T.range;return new Promise(function(z,H){var ae=I.objectStore(O),J=B.isPrimaryKey?ae:ae.index(B.name),ae=s(F),J=ae?J.count(ae):J.count();J.onsuccess=re(function(ne){return z(ne.target.result)}),J.onerror=dn(H)})}}}var f,m,g,P=(m=C,g=wi((f=e).objectStoreNames),{schema:{name:f.name,tables:g.map(function(M){return m.objectStore(M)}).map(function(M){var E=M.keyPath,T=M.autoIncrement,O=p(E),A={},T={name:M.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:O,keyPath:E,autoIncrement:T,unique:!0,extractKey:Ga(E)},indexes:wi(M.indexNames).map(function(I){return M.index(I)}).map(function(z){var B=z.name,F=z.unique,H=z.multiEntry,z=z.keyPath,H={name:B,compound:p(z),keyPath:z,unique:F,multiEntry:H,extractKey:Ga(z)};return A[br(z)]=H}),getIndexByKeyPath:function(I){return A[br(I)]}};return A[":id"]=T.primaryKey,E!=null&&(A[br(E)]=T.primaryKey),T})},hasGetAll:0<g.length&&"getAll"in m.objectStore(g[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),C=P.schema,_=P.hasGetAll,P=C.tables.map(u),x={};return P.forEach(function(M){return x[M.name]=M}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(M){if(!x[M])throw new Error("Table '".concat(M,"' not found"));return x[M]},MIN_KEY:-1/0,MAX_KEY:gr(n),schema:C}}function Gc(e,n,a,s){var u=a.IDBKeyRange;return a.indexedDB,{dbcore:(s=Vc(n,u,s),e.dbcore.reduce(function(f,m){return m=m.create,i(i({},f),m(f))},s))}}function Vr(e,s){var a=s.db,s=Gc(e._middlewares,a,e._deps,s);e.core=s.dbcore,e.tables.forEach(function(u){var f=u.name;e.core.schema.tables.some(function(m){return m.name===f})&&(u.core=e.core.table(f),e[f]instanceof e.Table&&(e[f].core=u.core))})}function Gr(e,n,a,s){a.forEach(function(u){var f=s[u];n.forEach(function(m){var g=function C(_,P){return j(_,P)||(_=v(_))&&C(_,P)}(m,u);(!g||"value"in g&&g.value===void 0)&&(m===e.Transaction.prototype||m instanceof e.Transaction?L(m,u,{get:function(){return this.table(u)},set:function(C){q(this,u,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):m[u]=new e.Table(u,f))})})}function Xa(e,n){n.forEach(function(a){for(var s in a)a[s]instanceof e.Table&&delete a[s]})}function Xc(e,n){return e._cfg.version-n._cfg.version}function Zc(e,n,a,s){var u=e._dbSchema;a.objectStoreNames.contains("$meta")&&!u.$meta&&(u.$meta=Va("$meta",_i("")[0],[]),e._storeNames.push("$meta"));var f=e._createTransaction("readwrite",e._storeNames,u);f.create(a),f._completion.catch(s);var m=f._reject.bind(f),g=oe.transless||oe;Ke(function(){return oe.trans=f,oe.transless=g,n!==0?(Vr(e,a),_=n,((C=f).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(P){return P??_}):Q.resolve(_)).then(function(P){return M=P,E=f,O=a,A=[],P=(x=e)._versions,T=x._dbSchema=Zr(0,x.idbdb,O),(P=P.filter(function(I){return I._cfg.version>=M})).length!==0?(P.forEach(function(I){A.push(function(){var B=T,F=I._cfg.dbschema;Qr(x,B,O),Qr(x,F,O),T=x._dbSchema=F;var z=Za(B,F);z.add.forEach(function(ie){Qa(O,ie[0],ie[1].primKey,ie[1].indexes)}),z.change.forEach(function(ie){if(ie.recreate)throw new ue.Upgrade("Not yet support for changing primary key");var te=O.objectStore(ie.name);ie.add.forEach(function(ke){return Xr(te,ke)}),ie.change.forEach(function(ke){te.deleteIndex(ke.name),Xr(te,ke)}),ie.del.forEach(function(ke){return te.deleteIndex(ke)})});var H=I._cfg.contentUpgrade;if(H&&I._cfg.version>M){Vr(x,O),E._memoizedTables={};var ae=he(F);z.del.forEach(function(ie){ae[ie]=B[ie]}),Xa(x,[x.Transaction.prototype]),Gr(x,[x.Transaction.prototype],d(ae),ae),E.schema=ae;var J,ne=lt(H);return ne&&nt(),z=Q.follow(function(){var ie;(J=H(E))&&ne&&(ie=Ht.bind(null,null),J.then(ie,ie))}),J&&typeof J.then=="function"?Q.resolve(J):z.then(function(){return J})}}),A.push(function(B){var F,z,H=I._cfg.dbschema;F=H,z=B,[].slice.call(z.db.objectStoreNames).forEach(function(ae){return F[ae]==null&&z.db.deleteObjectStore(ae)}),Xa(x,[x.Transaction.prototype]),Gr(x,[x.Transaction.prototype],x._storeNames,x._dbSchema),E.schema=x._dbSchema}),A.push(function(B){x.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(x.idbdb.version/10)===I._cfg.version?(x.idbdb.deleteObjectStore("$meta"),delete x._dbSchema.$meta,x._storeNames=x._storeNames.filter(function(F){return F!=="$meta"})):B.objectStore("$meta").put(I._cfg.version,"version"))})}),function I(){return A.length?Q.resolve(A.shift()(E.idbtrans)).then(I):Q.resolve()}().then(function(){xi(T,O)})):Q.resolve();var x,M,E,O,A,T}).catch(m)):(d(u).forEach(function(P){Qa(a,P,u[P].primKey,u[P].indexes)}),Vr(e,a),void Q.follow(function(){return e.on.populate.fire(f)}).catch(m));var C,_})}function Qc(e,n){xi(e._dbSchema,n),n.db.version%10!=0||n.objectStoreNames.contains("$meta")||n.db.createObjectStore("$meta").add(Math.ceil(n.db.version/10-1),"version");var a=Zr(0,e.idbdb,n);Qr(e,e._dbSchema,n);for(var s=0,u=Za(a,e._dbSchema).change;s<u.length;s++){var f=function(m){if(m.change.length||m.recreate)return console.warn("Unable to patch indexes of table ".concat(m.name," because it has changes on the type of index or primary key.")),{value:void 0};var g=n.objectStore(m.name);m.add.forEach(function(C){Tt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(m.name,".").concat(C.src)),Xr(g,C)})}(u[s]);if(typeof f=="object")return f.value}}function Za(e,n){var a,s={del:[],add:[],change:[]};for(a in e)n[a]||s.del.push(a);for(a in n){var u=e[a],f=n[a];if(u){var m={name:a,def:f,recreate:!1,del:[],add:[],change:[]};if(""+(u.primKey.keyPath||"")!=""+(f.primKey.keyPath||"")||u.primKey.auto!==f.primKey.auto)m.recreate=!0,s.change.push(m);else{var g=u.idxByName,C=f.idxByName,_=void 0;for(_ in g)C[_]||m.del.push(_);for(_ in C){var P=g[_],x=C[_];P?P.src!==x.src&&m.change.push(x):m.add.push(x)}(0<m.del.length||0<m.add.length||0<m.change.length)&&s.change.push(m)}}else s.add.push([a,f])}return s}function Qa(e,n,a,s){var u=e.db.createObjectStore(n,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return s.forEach(function(f){return Xr(u,f)}),u}function xi(e,n){d(e).forEach(function(a){n.db.objectStoreNames.contains(a)||(Tt&&console.debug("Dexie: Creating missing table",a),Qa(n,a,e[a].primKey,e[a].indexes))})}function Xr(e,n){e.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function Zr(e,n,a){var s={};return X(n.objectStoreNames,0).forEach(function(u){for(var f=a.objectStore(u),m=Wa(bi(_=f.keyPath),_||"",!0,!1,!!f.autoIncrement,_&&typeof _!="string",!0),g=[],C=0;C<f.indexNames.length;++C){var P=f.index(f.indexNames[C]),_=P.keyPath,P=Wa(P.name,_,!!P.unique,!!P.multiEntry,!1,_&&typeof _!="string",!1);g.push(P)}s[u]=Va(u,m,g)}),s}function Qr(e,n,a){for(var s=a.db.objectStoreNames,u=0;u<s.length;++u){var f=s[u],m=a.objectStore(f);e._hasGetAll="getAll"in m;for(var g=0;g<m.indexNames.length;++g){var C=m.indexNames[g],_=m.index(C).keyPath,P=typeof _=="string"?_:"["+X(_).join("+")+"]";!n[f]||(_=n[f].idxByName[P])&&(_.name=C,delete n[f].idxByName[P],n[f].idxByName[C]=_)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&l.WorkerGlobalScope&&l instanceof l.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function _i(e){return e.split(",").map(function(n,a){var s=(n=n.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(s)?s.match(/^\[(.*)\]$/)[1].split("+"):s;return Wa(s,u||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),p(u),a===0)})}var Jc=(Jr.prototype._parseStoresSpec=function(e,n){d(e).forEach(function(a){if(e[a]!==null){var s=_i(e[a]),u=s.shift();if(u.unique=!0,u.multi)throw new ue.Schema("Primary key cannot be multi-valued");s.forEach(function(f){if(f.auto)throw new ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!f.keyPath)throw new ue.Schema("Index must have a name and cannot be an empty string")}),n[a]=Va(a,u,s)}})},Jr.prototype.stores=function(a){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,a):a;var a=n._versions,s={},u={};return a.forEach(function(f){h(s,f._cfg.storesSource),u=f._cfg.dbschema={},f._parseStoresSpec(s,u)}),n._dbSchema=u,Xa(n,[n._allTables,n,n.Transaction.prototype]),Gr(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],d(u),u),n._storeNames=d(u),this},Jr.prototype.upgrade=function(e){return this._cfg.contentUpgrade=Ut(this._cfg.contentUpgrade||ve,e),this},Jr);function Jr(){}function Ja(e,n){var a=e._dbNamesDB;return a||(a=e._dbNamesDB=new xn(ln,{addons:[],indexedDB:e,IDBKeyRange:n})).version(1).stores({dbnames:"name"}),a.table("dbnames")}function eo(e){return e&&typeof e.databases=="function"}function to(e){return Ke(function(){return oe.letThrough=!0,e()})}function no(e){return!("from"in e)}var $t=function(e,n){if(!this){var a=new $t;return e&&"d"in e&&h(a,e),a}h(this,arguments.length?{d:1,from:e,to:1<arguments.length?n:e}:{d:0})};function wr(e,n,a){var s=He(n,a);if(!isNaN(s)){if(0<s)throw RangeError();if(no(e))return h(e,{from:n,to:a,d:1});var u=e.l,s=e.r;if(He(a,e.from)<0)return u?wr(u,n,a):e.l={from:n,to:a,d:1,l:null,r:null},Ei(e);if(0<He(n,e.to))return s?wr(s,n,a):e.r={from:n,to:a,d:1,l:null,r:null},Ei(e);He(n,e.from)<0&&(e.from=n,e.l=null,e.d=s?s.d+1:1),0<He(a,e.to)&&(e.to=a,e.r=null,e.d=e.l?e.l.d+1:1),a=!e.r,u&&!e.l&&xr(e,u),s&&a&&xr(e,s)}}function xr(e,n){no(n)||function a(s,C){var f=C.from,m=C.to,g=C.l,C=C.r;wr(s,f,m),g&&a(s,g),C&&a(s,C)}(e,n)}function ea(e,n){var a=ro(n),s=a.next();if(s.done)return!1;for(var u=s.value,f=ro(e),m=f.next(u.from),g=m.value;!s.done&&!m.done;){if(He(g.from,u.to)<=0&&0<=He(g.to,u.from))return!0;He(u.from,g.from)<0?u=(s=a.next(g.from)).value:g=(m=f.next(u.from)).value}return!1}function ro(e){var n=no(e)?null:{s:0,n:e};return{next:function(a){for(var s=0<arguments.length;n;)switch(n.s){case 0:if(n.s=1,s)for(;n.n.l&&He(a,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!s||He(a,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function Ei(e){var n,a,s=(((n=e.r)===null||n===void 0?void 0:n.d)||0)-(((a=e.l)===null||a===void 0?void 0:a.d)||0),u=1<s?"r":s<-1?"l":"";u&&(n=u=="r"?"l":"r",a=i({},e),s=e[u],e.from=s.from,e.to=s.to,e[u]=s[u],a[u]=s[n],(e[n]=a).d=Ci(a)),e.d=Ci(e)}function Ci(a){var n=a.r,a=a.l;return(n?a?Math.max(n.d,a.d):n.d:a?a.d:0)+1}function ta(e,n){return d(n).forEach(function(a){e[a]?xr(e[a],n[a]):e[a]=function s(u){var f,m,g={};for(f in u)b(u,f)&&(m=u[f],g[f]=!m||typeof m!="object"||be.has(m.constructor)?m:s(m));return g}(n[a])}),e}function ao(e,n){return e.all||n.all||Object.keys(e).some(function(a){return n[a]&&ea(n[a],e[a])})}k($t.prototype,((rn={add:function(e){return xr(this,e),this},addKey:function(e){return wr(this,e,e),this},addKeys:function(e){var n=this;return e.forEach(function(a){return wr(n,a,a)}),this}})[Ze]=function(){return ro(this)},rn));var Nn={},oo={},io=!1;function na(e){ta(oo,e),io||(io=!0,setTimeout(function(){io=!1,so(oo,!(oo={}))},0))}function so(e,n){n===void 0&&(n=!1);var a=new Set;if(e.all)for(var s=0,u=Object.values(Nn);s<u.length;s++)Si(m=u[s],e,a,n);else for(var f in e){var m,g=/^idb\:\/\/(.*)\/(.*)\//.exec(f);g&&(f=g[1],g=g[2],(m=Nn["idb://".concat(f,"/").concat(g)])&&Si(m,e,a,n))}a.forEach(function(C){return C()})}function Si(e,n,a,s){for(var u=[],f=0,m=Object.entries(e.queries.query);f<m.length;f++){for(var g=m[f],C=g[0],_=[],P=0,x=g[1];P<x.length;P++){var M=x[P];ao(n,M.obsSet)?M.subscribers.forEach(function(T){return a.add(T)}):s&&_.push(M)}s&&u.push([C,_])}if(s)for(var E=0,O=u;E<O.length;E++){var A=O[E],C=A[0],_=A[1];e.queries.query[C]=_}}function eu(e){var n=e._state,a=e._deps.indexedDB;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then(function(){return n.dbOpenError?et(n.dbOpenError):e});n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var s=n.openCanceller,u=Math.round(10*e.verno),f=!1;function m(){if(n.openCanceller!==s)throw new ue.DatabaseClosed("db.open() was cancelled")}function g(){return new Q(function(M,E){if(m(),!a)throw new ue.MissingAPI;var O=e.name,A=n.autoSchema||!u?a.open(O):a.open(O,u);if(!A)throw new ue.MissingAPI;A.onerror=dn(E),A.onblocked=re(e._fireOnBlocked),A.onupgradeneeded=re(function(T){var I;P=A.transaction,n.autoSchema&&!e._options.allowEmptyDB?(A.onerror=yr,P.abort(),A.result.close(),(I=a.deleteDatabase(O)).onsuccess=I.onerror=re(function(){E(new ue.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(P.onerror=dn(E),T=T.oldVersion>Math.pow(2,62)?0:T.oldVersion,x=T<1,e.idbdb=A.result,f&&Qc(e,P),Zc(e,T/10,P,E))},E),A.onsuccess=re(function(){P=null;var T,I,B,F,z,H=e.idbdb=A.result,ae=X(H.objectStoreNames);if(0<ae.length)try{var J=H.transaction((F=ae).length===1?F[0]:F,"readonly");if(n.autoSchema)I=H,B=J,(T=e).verno=I.version/10,B=T._dbSchema=Zr(0,I,B),T._storeNames=X(I.objectStoreNames,0),Gr(T,[T._allTables],d(B),B);else if(Qr(e,e._dbSchema,J),((z=Za(Zr(0,(z=e).idbdb,J),z._dbSchema)).add.length||z.change.some(function(ne){return ne.add.length||ne.change.length}))&&!f)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),H.close(),u=H.version+1,f=!0,M(g());Vr(e,J)}catch{}it.push(e),H.onversionchange=re(function(ne){n.vcFired=!0,e.on("versionchange").fire(ne)}),H.onclose=re(function(ne){e.on("close").fire(ne)}),x&&(z=e._deps,J=O,H=z.indexedDB,z=z.IDBKeyRange,eo(H)||J===ln||Ja(H,z).put({name:J}).catch(ve)),M()},E)}).catch(function(M){switch(M==null?void 0:M.name){case"UnknownError":if(0<n.PR1398_maxLoop)return n.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),g();break;case"VersionError":if(0<u)return u=0,g()}return Q.reject(M)})}var C,_=n.dbReadyResolve,P=null,x=!1;return Q.race([s,(typeof navigator>"u"?Q.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(M){function E(){return indexedDB.databases().finally(M)}C=setInterval(E,100),E()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(g)]).then(function(){return m(),n.onReadyBeingFired=[],Q.resolve(to(function(){return e.on.ready.fire(e.vip)})).then(function M(){if(0<n.onReadyBeingFired.length){var E=n.onReadyBeingFired.reduce(Ut,ve);return n.onReadyBeingFired=[],Q.resolve(to(function(){return E(e.vip)})).then(M)}})}).finally(function(){n.openCanceller===s&&(n.onReadyBeingFired=null,n.isBeingOpened=!1)}).catch(function(M){n.dbOpenError=M;try{P&&P.abort()}catch{}return s===n.openCanceller&&e._close(),et(M)}).finally(function(){n.openComplete=!0,_()}).then(function(){var M;return x&&(M={},e.tables.forEach(function(E){E.schema.indexes.forEach(function(O){O.name&&(M["idb://".concat(e.name,"/").concat(E.name,"/").concat(O.name)]=new $t(-1/0,[[[]]]))}),M["idb://".concat(e.name,"/").concat(E.name,"/")]=M["idb://".concat(e.name,"/").concat(E.name,"/:dels")]=new $t(-1/0,[[[]]])}),kn(vr).fire(M),so(M,!0)),e})}function co(e){function n(f){return e.next(f)}var a=u(n),s=u(function(f){return e.throw(f)});function u(f){return function(C){var g=f(C),C=g.value;return g.done?C:C&&typeof C.then=="function"?C.then(a,s):p(C)?Promise.all(C).then(a,s):a(C)}}return u(n)()}function ra(e,n,a){for(var s=p(e)?e.slice():[e],u=0;u<a;++u)s.push(n);return s}var tu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return i(i({},e),{table:function(n){var a=e.table(n),s=a.schema,u={},f=[];function m(x,M,E){var O=br(x),A=u[O]=u[O]||[],T=x==null?0:typeof x=="string"?1:x.length,I=0<M,I=i(i({},E),{name:I?"".concat(O,"(virtual-from:").concat(E.name,")"):E.name,lowLevelIndex:E,isVirtual:I,keyTail:M,keyLength:T,extractKey:Ga(x),unique:!I&&E.unique});return A.push(I),I.isPrimaryKey||f.push(I),1<T&&m(T===2?x[0]:x.slice(0,T-1),M+1,E),A.sort(function(B,F){return B.keyTail-F.keyTail}),I}n=m(s.primaryKey.keyPath,0,s.primaryKey),u[":id"]=[n];for(var g=0,C=s.indexes;g<C.length;g++){var _=C[g];m(_.keyPath,0,_)}function P(x){var M,E=x.query.index;return E.isVirtual?i(i({},x),{query:{index:E.lowLevelIndex,range:(M=x.query.range,E=E.keyTail,{type:M.type===1?2:M.type,lower:ra(M.lower,M.lowerOpen?e.MAX_KEY:e.MIN_KEY,E),lowerOpen:!0,upper:ra(M.upper,M.upperOpen?e.MIN_KEY:e.MAX_KEY,E),upperOpen:!0})}}):x}return i(i({},a),{schema:i(i({},s),{primaryKey:n,indexes:f,getIndexByKeyPath:function(x){return(x=u[br(x)])&&x[0]}}),count:function(x){return a.count(P(x))},query:function(x){return a.query(P(x))},openCursor:function(x){var M=x.query.index,E=M.keyTail,O=M.isVirtual,A=M.keyLength;return O?a.openCursor(P(x)).then(function(I){return I&&T(I)}):a.openCursor(x);function T(I){return Object.create(I,{continue:{value:function(B){B!=null?I.continue(ra(B,x.reverse?e.MAX_KEY:e.MIN_KEY,E)):x.unique?I.continue(I.key.slice(0,A).concat(x.reverse?e.MIN_KEY:e.MAX_KEY,E)):I.continue()}},continuePrimaryKey:{value:function(B,F){I.continuePrimaryKey(ra(B,e.MAX_KEY,E),F)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var B=I.key;return A===1?B[0]:B.slice(0,A)}},value:{get:function(){return I.value}}})}}})}})}};function uo(e,n,a,s){return a=a||{},s=s||"",d(e).forEach(function(u){var f,m,g;b(n,u)?(f=e[u],m=n[u],typeof f=="object"&&typeof m=="object"&&f&&m?(g=Ne(f))!==Ne(m)?a[s+u]=n[u]:g==="Object"?uo(f,m,a,s+u+"."):f!==m&&(a[s+u]=n[u]):f!==m&&(a[s+u]=n[u])):a[s+u]=void 0}),d(n).forEach(function(u){b(e,u)||(a[s+u]=n[u])}),a}function lo(e,n){return n.type==="delete"?n.keys:n.keys||n.values.map(e.extractKey)}var nu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return i(i({},e),{table:function(n){var a=e.table(n),s=a.schema.primaryKey;return i(i({},a),{mutate:function(u){var f=oe.trans,m=f.table(n).hook,g=m.deleting,C=m.creating,_=m.updating;switch(u.type){case"add":if(C.fire===ve)break;return f._promise("readwrite",function(){return P(u)},!0);case"put":if(C.fire===ve&&_.fire===ve)break;return f._promise("readwrite",function(){return P(u)},!0);case"delete":if(g.fire===ve)break;return f._promise("readwrite",function(){return P(u)},!0);case"deleteRange":if(g.fire===ve)break;return f._promise("readwrite",function(){return function x(M,E,O){return a.query({trans:M,values:!1,query:{index:s,range:E},limit:O}).then(function(A){var T=A.result;return P({type:"delete",keys:T,trans:M}).then(function(I){return 0<I.numFailures?Promise.reject(I.failures[0]):T.length<O?{failures:[],numFailures:0,lastResult:void 0}:x(M,i(i({},E),{lower:T[T.length-1],lowerOpen:!0}),O)})})}(u.trans,u.range,1e4)},!0)}return a.mutate(u);function P(x){var M,E,O,A=oe.trans,T=x.keys||lo(s,x);if(!T)throw new Error("Keys missing");return(x=x.type==="add"||x.type==="put"?i(i({},x),{keys:T}):i({},x)).type!=="delete"&&(x.values=c([],x.values)),x.keys&&(x.keys=c([],x.keys)),M=a,O=T,((E=x).type==="add"?Promise.resolve([]):M.getMany({trans:E.trans,keys:O,cache:"immutable"})).then(function(I){var B=T.map(function(F,z){var H,ae,J,ne=I[z],ie={onerror:null,onsuccess:null};return x.type==="delete"?g.fire.call(ie,F,ne,A):x.type==="add"||ne===void 0?(H=C.fire.call(ie,F,x.values[z],A),F==null&&H!=null&&(x.keys[z]=F=H,s.outbound||w(x.values[z],s.keyPath,F))):(H=uo(ne,x.values[z]),(ae=_.fire.call(ie,H,F,ne,A))&&(J=x.values[z],Object.keys(ae).forEach(function(te){b(J,te)?J[te]=ae[te]:w(J,te,ae[te])}))),ie});return a.mutate(x).then(function(F){for(var z=F.failures,H=F.results,ae=F.numFailures,F=F.lastResult,J=0;J<T.length;++J){var ne=(H||T)[J],ie=B[J];ne==null?ie.onerror&&ie.onerror(z[J]):ie.onsuccess&&ie.onsuccess(x.type==="put"&&I[J]?x.values[J]:ne)}return{failures:z,results:H,numFailures:ae,lastResult:F}}).catch(function(F){return B.forEach(function(z){return z.onerror&&z.onerror(F)}),Promise.reject(F)})})}}})}})}};function Ti(e,n,a){try{if(!n||n.keys.length<e.length)return null;for(var s=[],u=0,f=0;u<n.keys.length&&f<e.length;++u)He(n.keys[u],e[f])===0&&(s.push(a?we(n.values[u]):n.values[u]),++f);return s.length===e.length?s:null}catch{return null}}var ru={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var a=e.table(n);return i(i({},a),{getMany:function(s){if(!s.cache)return a.getMany(s);var u=Ti(s.keys,s.trans._cache,s.cache==="clone");return u?Q.resolve(u):a.getMany(s).then(function(f){return s.trans._cache={keys:s.keys,values:s.cache==="clone"?we(f):f},f})},mutate:function(s){return s.type!=="add"&&(s.trans._cache=null),a.mutate(s)}})}}}};function Oi(e,n){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!n.schema.primaryKey.outbound}function ki(e,n){switch(e){case"query":return n.values&&!n.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var au={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,a=new $t(e.MIN_KEY,e.MAX_KEY);return i(i({},e),{transaction:function(s,u,f){if(oe.subscr&&u!=="readonly")throw new ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(oe.querier));return e.transaction(s,u,f)},table:function(s){var u=e.table(s),f=u.schema,m=f.primaryKey,x=f.indexes,g=m.extractKey,C=m.outbound,_=m.autoIncrement&&x.filter(function(E){return E.compound&&E.keyPath.includes(m.keyPath)}),P=i(i({},u),{mutate:function(E){function O(te){return te="idb://".concat(n,"/").concat(s,"/").concat(te),F[te]||(F[te]=new $t)}var A,T,I,B=E.trans,F=E.mutatedParts||(E.mutatedParts={}),z=O(""),H=O(":dels"),ae=E.type,ie=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[lo(m,E).filter(function(te){return te}),E.values]:[],J=ie[0],ne=ie[1],ie=E.trans._cache;return p(J)?(z.addKeys(J),(ie=ae==="delete"||J.length===ne.length?Ti(J,ie):null)||H.addKeys(J),(ie||ne)&&(A=O,T=ie,I=ne,f.indexes.forEach(function(te){var ke=A(te.name||"");function De(Ae){return Ae!=null?te.extractKey(Ae):null}function Le(Ae){return te.multiEntry&&p(Ae)?Ae.forEach(function(cn){return ke.addKey(cn)}):ke.addKey(Ae)}(T||I).forEach(function(Ae,Lt){var Ie=T&&De(T[Lt]),Lt=I&&De(I[Lt]);He(Ie,Lt)!==0&&(Ie!=null&&Le(Ie),Lt!=null&&Le(Lt))})}))):J?(ne={from:J.lower,to:J.upper},H.add(ne),z.add(ne)):(z.add(a),H.add(a),f.indexes.forEach(function(te){return O(te.name).add(a)})),u.mutate(E).then(function(te){return!J||E.type!=="add"&&E.type!=="put"||(z.addKeys(te.results),_&&_.forEach(function(ke){var De=E.values.map(function(Ae){return ke.extractKey(Ae)}),Le=ke.keyPath.findIndex(function(Ae){return Ae===m.keyPath});te.results.forEach(function(Ae){return De[Le]=Ae}),O(ke.name).addKeys(De)})),B.mutatedParts=ta(B.mutatedParts||{},F),te})}}),x=function(O){var A=O.query,O=A.index,A=A.range;return[O,new $t((O=A.lower)!==null&&O!==void 0?O:e.MIN_KEY,(A=A.upper)!==null&&A!==void 0?A:e.MAX_KEY)]},M={get:function(E){return[m,new $t(E.key)]},getMany:function(E){return[m,new $t().addKeys(E.keys)]},count:x,query:x,openCursor:x};return d(M).forEach(function(E){P[E]=function(O){var A=oe.subscr,T=!!A,I=Oi(oe,u)&&ki(E,O)?O.obsSet={}:A;if(T){var B=function(ne){return ne="idb://".concat(n,"/").concat(s,"/").concat(ne),I[ne]||(I[ne]=new $t)},F=B(""),z=B(":dels"),A=M[E](O),T=A[0],A=A[1];if((E==="query"&&T.isPrimaryKey&&!O.values?z:B(T.name||"")).add(A),!T.isPrimaryKey){if(E!=="count"){var H=E==="query"&&C&&O.values&&u.query(i(i({},O),{values:!1}));return u[E].apply(this,arguments).then(function(ne){if(E==="query"){if(C&&O.values)return H.then(function(De){return De=De.result,F.addKeys(De),ne});var ie=O.values?ne.result.map(g):ne.result;(O.values?F:z).addKeys(ie)}else if(E==="openCursor"){var te=ne,ke=O.values;return te&&Object.create(te,{key:{get:function(){return z.addKey(te.primaryKey),te.key}},primaryKey:{get:function(){var De=te.primaryKey;return z.addKey(De),De}},value:{get:function(){return ke&&F.addKey(te.primaryKey),te.value}}})}return ne})}z.add(a)}}return u[E].apply(this,arguments)}}),P}})}};function Ri(e,n,a){if(a.numFailures===0)return n;if(n.type==="deleteRange")return null;var s=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return a.numFailures===s?null:(n=i({},n),p(n.keys)&&(n.keys=n.keys.filter(function(u,f){return!(f in a.failures)})),"values"in n&&p(n.values)&&(n.values=n.values.filter(function(u,f){return!(f in a.failures)})),n)}function fo(e,n){return a=e,((s=n).lower===void 0||(s.lowerOpen?0<He(a,s.lower):0<=He(a,s.lower)))&&(e=e,(n=n).upper===void 0||(n.upperOpen?He(e,n.upper)<0:He(e,n.upper)<=0));var a,s}function Di(e,n,M,s,u,f){if(!M||M.length===0)return e;var m=n.query.index,g=m.multiEntry,C=n.query.range,_=s.schema.primaryKey.extractKey,P=m.extractKey,x=(m.lowLevelIndex||m).extractKey,M=M.reduce(function(E,O){var A=E,T=O.type==="add"||O.type==="put"?O.values.filter(function(z){return z=P(z),g&&p(z)?z.some(function(H){return fo(H,C)}):fo(z,C)}).map(function(z){return z=we(z),f&&Object.freeze(z),z}):[];switch(O.type){case"add":A=E.concat(n.values?T:T.map(function(H){return _(H)}));break;case"put":var I=new $t().addKeys(O.values.map(function(H){return _(H)})),A=E.filter(function(H){return H=n.values?_(H):H,!ea(new $t(H),I)}).concat(n.values?T:T.map(function(H){return _(H)}));break;case"delete":var B=new $t().addKeys(O.keys);A=E.filter(function(H){return H=n.values?_(H):H,!ea(new $t(H),B)});break;case"deleteRange":var F=O.range;A=E.filter(function(H){return!fo(_(H),F)})}return A},e);return M===e?e:(M.sort(function(E,O){return He(x(E),x(O))||He(_(E),_(O))}),n.limit&&n.limit<1/0&&(M.length>n.limit?M.length=n.limit:e.length===n.limit&&M.length<n.limit&&(u.dirty=!0)),f?Object.freeze(M):M)}function Pi(e,n){return He(e.lower,n.lower)===0&&He(e.upper,n.upper)===0&&!!e.lowerOpen==!!n.lowerOpen&&!!e.upperOpen==!!n.upperOpen}function ou(e,n){return function(a,s,u,f){if(a===void 0)return s!==void 0?-1:0;if(s===void 0)return 1;if((s=He(a,s))===0){if(u&&f)return 0;if(u)return 1;if(f)return-1}return s}(e.lower,n.lower,e.lowerOpen,n.lowerOpen)<=0&&0<=function(a,s,u,f){if(a===void 0)return s!==void 0?1:0;if(s===void 0)return-1;if((s=He(a,s))===0){if(u&&f)return 0;if(u)return-1;if(f)return 1}return s}(e.upper,n.upper,e.upperOpen,n.upperOpen)}function iu(e,n,a,s){e.subscribers.add(a),s.addEventListener("abort",function(){var u,f;e.subscribers.delete(a),e.subscribers.size===0&&(u=e,f=n,setTimeout(function(){u.subscribers.size===0&&Te(f,u)},3e3))})}var su={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return i(i({},e),{transaction:function(a,s,u){var f,m,g=e.transaction(a,s,u);return s==="readwrite"&&(m=(f=new AbortController).signal,u=function(C){return function(){if(f.abort(),s==="readwrite"){for(var _=new Set,P=0,x=a;P<x.length;P++){var M=x[P],E=Nn["idb://".concat(n,"/").concat(M)];if(E){var O=e.table(M),A=E.optimisticOps.filter(function(ke){return ke.trans===g});if(g._explicit&&C&&g.mutatedParts)for(var T=0,I=Object.values(E.queries.query);T<I.length;T++)for(var B=0,F=(ae=I[T]).slice();B<F.length;B++)ao((J=F[B]).obsSet,g.mutatedParts)&&(Te(ae,J),J.subscribers.forEach(function(ke){return _.add(ke)}));else if(0<A.length){E.optimisticOps=E.optimisticOps.filter(function(ke){return ke.trans!==g});for(var z=0,H=Object.values(E.queries.query);z<H.length;z++)for(var ae,J,ne,ie=0,te=(ae=H[z]).slice();ie<te.length;ie++)(J=te[ie]).res!=null&&g.mutatedParts&&(C&&!J.dirty?(ne=Object.isFrozen(J.res),ne=Di(J.res,J.req,A,O,J,ne),J.dirty?(Te(ae,J),J.subscribers.forEach(function(ke){return _.add(ke)})):ne!==J.res&&(J.res=ne,J.promise=Q.resolve({result:ne}))):(J.dirty&&Te(ae,J),J.subscribers.forEach(function(ke){return _.add(ke)})))}}}_.forEach(function(ke){return ke()})}}},g.addEventListener("abort",u(!1),{signal:m}),g.addEventListener("error",u(!1),{signal:m}),g.addEventListener("complete",u(!0),{signal:m})),g},table:function(a){var s=e.table(a),u=s.schema.primaryKey;return i(i({},s),{mutate:function(f){var m=oe.trans;if(u.outbound||m.db._options.cache==="disabled"||m.explicit)return s.mutate(f);var g=Nn["idb://".concat(n,"/").concat(a)];return g?(m=s.mutate(f),f.type!=="add"&&f.type!=="put"||!(50<=f.values.length||lo(u,f).some(function(C){return C==null}))?(g.optimisticOps.push(f),f.mutatedParts&&na(f.mutatedParts),m.then(function(C){0<C.numFailures&&(Te(g.optimisticOps,f),(C=Ri(0,f,C))&&g.optimisticOps.push(C),f.mutatedParts&&na(f.mutatedParts))}),m.catch(function(){Te(g.optimisticOps,f),f.mutatedParts&&na(f.mutatedParts)})):m.then(function(C){var _=Ri(0,i(i({},f),{values:f.values.map(function(E,x){var M,E=(M=u.keyPath)!==null&&M!==void 0&&M.includes(".")?we(E):i({},E);return w(E,u.keyPath,C.results[x]),E})}),C);g.optimisticOps.push(_),queueMicrotask(function(){return f.mutatedParts&&na(f.mutatedParts)})}),m):s.mutate(f)},query:function(f){if(!Oi(oe,s)||!ki("query",f))return s.query(f);var m=((_=oe.trans)===null||_===void 0?void 0:_.db._options.cache)==="immutable",x=oe,g=x.requery,C=x.signal,_=function(O,A,T,I){var B=Nn["idb://".concat(O,"/").concat(A)];if(!B)return[];if(!(A=B.queries[T]))return[null,!1,B,null];var F=A[(I.query?I.query.index.name:null)||""];if(!F)return[null,!1,B,null];switch(T){case"query":var z=F.find(function(H){return H.req.limit===I.limit&&H.req.values===I.values&&Pi(H.req.query.range,I.query.range)});return z?[z,!0,B,F]:[F.find(function(H){return("limit"in H.req?H.req.limit:1/0)>=I.limit&&(!I.values||H.req.values)&&ou(H.req.query.range,I.query.range)}),!1,B,F];case"count":return z=F.find(function(H){return Pi(H.req.query.range,I.query.range)}),[z,!!z,B,F]}}(n,a,"query",f),P=_[0],x=_[1],M=_[2],E=_[3];return P&&x?P.obsSet=f.obsSet:(x=s.query(f).then(function(O){var A=O.result;if(P&&(P.res=A),m){for(var T=0,I=A.length;T<I;++T)Object.freeze(A[T]);Object.freeze(A)}else O.result=we(A);return O}).catch(function(O){return E&&P&&Te(E,P),Promise.reject(O)}),P={obsSet:f.obsSet,promise:x,subscribers:new Set,type:"query",req:f,dirty:!1},E?E.push(P):(E=[P],(M=M||(Nn["idb://".concat(n,"/").concat(a)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[f.query.index.name||""]=E)),iu(P,E,g,C),P.promise.then(function(O){return{result:Di(O.result,f,M==null?void 0:M.optimisticOps,s,P,m)}})}})}})}};function aa(e,n){return new Proxy(e,{get:function(a,s,u){return s==="db"?n:Reflect.get(a,s,u)}})}var xn=(yt.prototype.version=function(e){if(isNaN(e)||e<.1)throw new ue.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,a=n.filter(function(s){return s._cfg.version===e})[0];return a||(a=new this.Version(e),n.push(a),n.sort(Xc),a.stores({}),this._state.autoSchema=!1,a)},yt.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||oe.letThrough||this._vip)?e():new Q(function(a,s){if(n._state.openComplete)return s(new ue.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return void s(new ue.DatabaseClosed);n.open().catch(ve)}n._state.dbReadyPromise.then(a,s)}).then(e)},yt.prototype.use=function(e){var n=e.stack,a=e.create,s=e.level,u=e.name;return u&&this.unuse({stack:n,name:u}),e=this._middlewares[n]||(this._middlewares[n]=[]),e.push({stack:n,create:a,level:s??10,name:u}),e.sort(function(f,m){return f.level-m.level}),this},yt.prototype.unuse=function(e){var n=e.stack,a=e.name,s=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(u){return s?u.create!==s:!!a&&u.name!==a})),this},yt.prototype.open=function(){var e=this;return kt(_t,function(){return eu(e)})},yt.prototype._close=function(){var e=this._state,n=it.indexOf(this);if(0<=n&&it.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new Q(function(a){e.dbReadyResolve=a}),e.openCanceller=new Q(function(a,s){e.cancelOpen=s}))},yt.prototype.close=function(a){var n=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,a=this._state;n?(a.isBeingOpened&&a.cancelOpen(new ue.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new ue.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},yt.prototype.delete=function(e){var n=this;e===void 0&&(e={disableAutoOpen:!0});var a=0<arguments.length&&typeof arguments[0]!="object",s=this._state;return new Q(function(u,f){function m(){n.close(e);var g=n._deps.indexedDB.deleteDatabase(n.name);g.onsuccess=re(function(){var C,_,P;C=n._deps,_=n.name,P=C.indexedDB,C=C.IDBKeyRange,eo(P)||_===ln||Ja(P,C).delete(_).catch(ve),u()}),g.onerror=dn(f),g.onblocked=n._fireOnBlocked}if(a)throw new ue.InvalidArgument("Invalid closeOptions argument to db.delete()");s.isBeingOpened?s.dbReadyPromise.then(m):m()})},yt.prototype.backendDB=function(){return this.idbdb},yt.prototype.isOpen=function(){return this.idbdb!==null},yt.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},yt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},yt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(yt.prototype,"tables",{get:function(){var e=this;return d(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),yt.prototype.transaction=function(){var e=(function(n,a,s){var u=arguments.length;if(u<2)throw new ue.InvalidArgument("Too few arguments");for(var f=new Array(u-1);--u;)f[u-1]=arguments[u];return s=f.pop(),[n,le(f),s]}).apply(this,arguments);return this._transaction.apply(this,e)},yt.prototype._transaction=function(e,n,a){var s=this,u=oe.trans;u&&u.db===this&&e.indexOf("!")===-1||(u=null);var f,m,g=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(m=n.map(function(_){if(_=_ instanceof s.Table?_.name:_,typeof _!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return _}),e=="r"||e===qn)f=qn;else{if(e!="rw"&&e!=fr)throw new ue.InvalidArgument("Invalid transaction mode: "+e);f=fr}if(u){if(u.mode===qn&&f===fr){if(!g)throw new ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");u=null}u&&m.forEach(function(_){if(u&&u.storeNames.indexOf(_)===-1){if(!g)throw new ue.SubTransaction("Table "+_+" not included in parent transaction.");u=null}}),g&&u&&!u.active&&(u=null)}}catch(_){return u?u._promise(null,function(P,x){x(_)}):et(_)}var C=(function _(P,x,M,E,O){return Q.resolve().then(function(){var A=oe.transless||oe,T=P._createTransaction(x,M,P._dbSchema,E);if(T.explicit=!0,A={trans:T,transless:A},E)T.idbtrans=E.idbtrans;else try{T.create(),T.idbtrans._explicit=!0,P._state.PR1398_maxLoop=3}catch(F){return F.name===je.InvalidState&&P.isOpen()&&0<--P._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),P.close({disableAutoOpen:!1}),P.open().then(function(){return _(P,x,M,null,O)})):et(F)}var I,B=lt(O);return B&&nt(),A=Q.follow(function(){var F;(I=O.call(T,T))&&(B?(F=Ht.bind(null,null),I.then(F,F)):typeof I.next=="function"&&typeof I.throw=="function"&&(I=co(I)))},A),(I&&typeof I.then=="function"?Q.resolve(I).then(function(F){return T.active?F:et(new ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):A.then(function(){return I})).then(function(F){return E&&T._resolve(),T._completion.then(function(){return F})}).catch(function(F){return T._reject(F),et(F)})})}).bind(null,this,f,m,u,a);return u?u._promise(f,C,"lock"):oe.trans?kt(oe.transless,function(){return s._whenReady(C)}):this._whenReady(C)},yt.prototype.table=function(e){if(!b(this._allTables,e))throw new ue.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},yt);function yt(e,n){var a=this;this._middlewares={},this.verno=0;var s=yt.dependencies;this._options=n=i({addons:yt.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},s=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u,f,m,g,C,_={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ve,dbReadyPromise:null,cancelOpen:ve,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};_.dbReadyPromise=new Q(function(x){_.dbReadyResolve=x}),_.openCanceller=new Q(function(x,M){_.cancelOpen=M}),this._state=_,this.name=e,this.on=hr(this,"populate","blocked","versionchange","close",{ready:[Ut,ve]}),this.on.ready.subscribe=Y(this.on.ready.subscribe,function(x){return function(M,E){yt.vip(function(){var O,A=a._state;A.openComplete?(A.dbOpenError||Q.resolve().then(M),E&&x(M)):A.onReadyBeingFired?(A.onReadyBeingFired.push(M),E&&x(M)):(x(M),O=a,E||x(function T(){O.on.ready.unsubscribe(M),O.on.ready.unsubscribe(T)}))})}}),this.Collection=(u=this,pr(Uc.prototype,function(I,T){this.db=u;var E=ui,O=null;if(T)try{E=T()}catch(B){O=B}var A=I._ctx,T=A.table,I=T.hook.reading.fire;this._ctx={table:T,index:A.index,isPrimKey:!A.index||T.schema.primKey.keyPath&&A.index===T.schema.primKey.name,range:E,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:A.or,valueMapper:I!==Pt?I:null}})),this.Table=(f=this,pr(hi.prototype,function(x,M,E){this.db=f,this._tx=E,this.name=x,this.schema=M,this.hook=f._allTables[x]?f._allTables[x].hook:hr(null,{creating:[Mt,ve],reading:[vn,Pt],updating:[gn,ve],deleting:[sn,ve]})})),this.Transaction=(m=this,pr(Hc.prototype,function(x,M,E,O,A){var T=this;this.db=m,this.mode=x,this.storeNames=M,this.schema=E,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=hr(this,"complete","error","abort"),this.parent=A||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Q(function(I,B){T._resolve=I,T._reject=B}),this._completion.then(function(){T.active=!1,T.on.complete.fire()},function(I){var B=T.active;return T.active=!1,T.on.error.fire(I),T.parent?T.parent._reject(I):B&&T.idbtrans&&T.idbtrans.abort(),et(I)})})),this.Version=(g=this,pr(Jc.prototype,function(x){this.db=g,this._cfg={version:x,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,pr(gi.prototype,function(x,M,E){if(this.db=C,this._ctx={table:x,index:M===":id"?null:M,or:E},this._cmp=this._ascending=He,this._descending=function(O,A){return He(A,O)},this._max=function(O,A){return 0<He(O,A)?O:A},this._min=function(O,A){return He(O,A)<0?O:A},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new ue.MissingAPI})),this.on("versionchange",function(x){0<x.newVersion?console.warn("Another connection wants to upgrade database '".concat(a.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(a.name,"'. Closing db now to resume the delete request.")),a.close({disableAutoOpen:!1})}),this.on("blocked",function(x){!x.newVersion||x.newVersion<x.oldVersion?console.warn("Dexie.delete('".concat(a.name,"') was blocked")):console.warn("Upgrade '".concat(a.name,"' blocked by other connection holding version ").concat(x.oldVersion/10))}),this._maxKey=gr(n.IDBKeyRange),this._createTransaction=function(x,M,E,O){return new a.Transaction(x,M,E,a._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(x){a.on("blocked").fire(x),it.filter(function(M){return M.name===a.name&&M!==a&&!M._state.vcFired}).map(function(M){return M.on("versionchange").fire(x)})},this.use(ru),this.use(su),this.use(au),this.use(tu),this.use(nu);var P=new Proxy(this,{get:function(x,M,E){if(M==="_vip")return!0;if(M==="table")return function(A){return aa(a.table(A),P)};var O=Reflect.get(x,M,E);return O instanceof hi?aa(O,P):M==="tables"?O.map(function(A){return aa(A,P)}):M==="_createTransaction"?function(){return aa(O.apply(this,arguments),P)}:O}});this.vip=P,s.forEach(function(x){return x(a)})}var oa,rn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",cu=(ho.prototype.subscribe=function(e,n,a){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:a})},ho.prototype[rn]=function(){return this},ho);function ho(e){this._subscribe=e}try{oa={indexedDB:l.indexedDB||l.mozIndexedDB||l.webkitIndexedDB||l.msIndexedDB,IDBKeyRange:l.IDBKeyRange||l.webkitIDBKeyRange}}catch{oa={indexedDB:null,IDBKeyRange:null}}function Mi(e){var n,a=!1,s=new cu(function(u){var f=lt(e),m,g=!1,C={},_={},P={get closed(){return g},unsubscribe:function(){g||(g=!0,m&&m.abort(),x&&kn.storagemutated.unsubscribe(E))}};u.start&&u.start(P);var x=!1,M=function(){return Tn(O)},E=function(A){ta(C,A),ao(_,C)&&M()},O=function(){var A,T,I;!g&&oa.indexedDB&&(C={},A={},m&&m.abort(),m=new AbortController,I=function(B){var F=K();try{f&&nt();var z=Ke(e,B);return z=f?z.finally(Ht):z}finally{F&&G()}}(T={subscr:A,signal:m.signal,requery:M,querier:e,trans:null}),Promise.resolve(I).then(function(B){a=!0,n=B,g||T.signal.aborted||(C={},function(F){for(var z in F)if(b(F,z))return;return 1}(_=A)||x||(kn(vr,E),x=!0),Tn(function(){return!g&&u.next&&u.next(B)}))},function(B){a=!1,["DatabaseClosedError","AbortError"].includes(B==null?void 0:B.name)||g||Tn(function(){g||u.error&&u.error(B)})}))};return setTimeout(M,0),P});return s.hasValue=function(){return a},s.getValue=function(){return n},s}var jn=xn;function po(e){var n=Rn;try{Rn=!0,kn.storagemutated.fire(e),so(e,!0)}finally{Rn=n}}k(jn,i(i({},wt),{delete:function(e){return new jn(e,{addons:[]}).delete()},exists:function(e){return new jn(e,{addons:[]}).open().then(function(n){return n.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return n=jn.dependencies,a=n.indexedDB,n=n.IDBKeyRange,(eo(a)?Promise.resolve(a.databases()).then(function(s){return s.map(function(u){return u.name}).filter(function(u){return u!==ln})}):Ja(a,n).toCollection().primaryKeys()).then(e)}catch{return et(new ue.MissingAPI)}var n,a},defineClass:function(){return function(e){h(this,e)}},ignoreTransaction:function(e){return oe.trans?kt(oe.transless,e):e()},vip:to,async:function(e){return function(){try{var n=co(e.apply(this,arguments));return n&&typeof n.then=="function"?n:Q.resolve(n)}catch(a){return et(a)}}},spawn:function(e,n,a){try{var s=co(e.apply(a,n||[]));return s&&typeof s.then=="function"?s:Q.resolve(s)}catch(u){return et(u)}},currentTransaction:{get:function(){return oe.trans||null}},waitFor:function(e,n){return n=Q.resolve(typeof e=="function"?jn.ignoreTransaction(e):e).timeout(n||6e4),oe.trans?oe.trans.waitFor(n):n},Promise:Q,debug:{get:function(){return Tt},set:function(e){me(e)}},derive:S,extend:h,props:k,override:Y,Events:hr,on:kn,liveQuery:Mi,extendObservabilitySet:ta,getByKeyPath:U,setByKeyPath:w,delByKeyPath:function(e,n){typeof n=="string"?w(e,n,void 0):"length"in n&&[].map.call(n,function(a){w(e,a,void 0)})},shallowClone:he,deepClone:we,getObjectDiff:uo,cmp:He,asap:W,minKey:-1/0,addons:[],connections:it,errnames:je,dependencies:oa,cache:Nn,semVer:"4.0.7",version:"4.0.7".split(".").map(function(e){return parseInt(e)}).reduce(function(e,n,a){return e+n/Math.pow(10,2*a)})})),jn.maxKey=gr(jn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(kn(vr,function(e){Rn||(e=new CustomEvent(Ha,{detail:e}),Rn=!0,dispatchEvent(e),Rn=!1)}),addEventListener(Ha,function(e){e=e.detail,Rn||po(e)}));var Vn,Rn=!1,Ai=function(){};return typeof BroadcastChannel<"u"&&((Ai=function(){(Vn=new BroadcastChannel(Ha)).onmessage=function(e){return e.data&&po(e.data)}})(),typeof Vn.unref=="function"&&Vn.unref(),kn(vr,function(e){Rn||Vn.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!xn.disableBfCache&&e.persisted){Tt&&console.debug("Dexie: handling persisted pagehide"),Vn!=null&&Vn.close();for(var n=0,a=it;n<a.length;n++)a[n].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!xn.disableBfCache&&e.persisted&&(Tt&&console.debug("Dexie: handling persisted pageshow"),Ai(),po({all:new $t(-1/0,[[]])}))})),Q.rejectionMapper=function(e,n){return!e||e instanceof dt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Gt[e.name]?e:(n=new Gt[e.name](n||e.message,e),"stack"in e&&L(n,"stack",{get:function(){return this.inner.stack}}),n)},me(Tt),i(xn,Object.freeze({__proto__:null,Dexie:xn,liveQuery:Mi,Entity:li,cmp:He,PropModSymbol:wn,PropModification:mr,replacePrefix:function(e,n){return new mr({replacePrefix:[e,n]})},add:function(e){return new mr({add:e})},remove:function(e){return new mr({remove:e})},default:xn,RangeSet:$t,mergeRanges:xr,rangesOverlap:ea}),{default:xn}),xn})})(Oc);var Ff=Oc.exports;const No=lr(Ff),ps=Symbol.for("Dexie"),wa=globalThis[ps]||(globalThis[ps]=No);if(No.semVer!==wa.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${No.semVer} and ${wa.semVer}`);const{liveQuery:Kf,mergeRanges:Up,rangesOverlap:Yp,RangeSet:qp,cmp:Hp,Entity:Wp,PropModSymbol:Vp,PropModification:Gp,replacePrefix:Xp,add:Zp,remove:Qp}=wa;function zf(t,r,o){var i,c;typeof t=="function"?(i=r||[],c=o):(i=[],c=r);var l=_r.useRef({hasResult:!1,result:c,error:null}),d=_r.useReducer(function(v){return v+1},0);d[0];var p=d[1],h=_r.useMemo(function(){var v=typeof t=="function"?t():t;if(!v||typeof v.subscribe!="function")throw t===v?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!l.current.hasResult&&typeof window<"u"&&(typeof v.hasValue!="function"||v.hasValue()))if(typeof v.getValue=="function")l.current.result=v.getValue(),l.current.hasResult=!0;else{var y=v.subscribe(function(b){l.current.result=b,l.current.hasResult=!0});typeof y=="function"?y():y.unsubscribe()}return v},i);if(_r.useDebugValue(l.current.result),_r.useEffect(function(){var v=h.subscribe(function(y){var b=l.current;(b.error!==null||b.result!==y)&&(b.error=null,b.result=y,b.hasResult=!0,p())},function(y){var b=l.current;b.error!==y&&(b.error=y,p())});return typeof v=="function"?v:v.unsubscribe.bind(v)},i),l.current.error)throw l.current.error;return l.current.result}function ar(t,r,o){return zf(function(){return Kf(t)},r||[],o)}const ua={MAIN_DISH_TYPE:"main-dish",NO_NEED_SOUP_KEYWORDS:[""],AUTO_SHOW_ORDER_LIST:!0,SHOW_SOUPS_NUMBER:!0,KEYBOARD_SUBMIT_BTN_TEXT:""},Uf=[[{label:"7",meta:"7"},{label:"8",meta:"8"},{label:"9",meta:"9"},{label:"",meta:"+15|"}],[{label:"4",meta:"4"},{label:"5",meta:"5"},{label:"6",meta:"6"},{label:"",meta:"+15|"}],[{label:"1",meta:"1"},{label:"2",meta:"2"},{label:"3",meta:"3"},{label:"",meta:"*",icon:"CloseOutlined"}],[{label:".",meta:"."},{label:"0",meta:"0"},{label:"",meta:"+",icon:"PlusOutlined"},{label:"",meta:"Backspace",icon:"SwapLeftOutlined"}]],hn=[{type:"main-dish",label:" ",color:"green",typeID:"1"},{type:"-la-carte",label:" ",color:"brown",typeID:"2"},{type:"others",label:" |",color:"indigo",typeID:"3"}],kc=[{type:hn[0].type,label:hn[0].label,color:hn[0].color,items:[{name:"",price:130,priority:1},{name:"",price:120,priority:2},{name:"",price:120,priority:3},{name:"",price:110,priority:4},{name:"",price:110,priority:5},{name:"",price:110,priority:6},{name:"",price:110,priority:7},{name:"",price:105,priority:8},{name:"",price:105,priority:9},{name:"",price:95,priority:10},{name:"",price:95,priority:11},{name:"",price:80,priority:12},{name:"",price:55,priority:13},{name:"",price:40,priority:14},{name:"",price:160,priority:15},{name:"",price:15,priority:16,hideOnMode:"both"},{name:"",price:15,priority:17,hideOnMode:"both"}]},{type:hn[1].type,label:hn[1].label,color:hn[1].color,items:[{name:"",price:90,priority:1},{name:"",price:80,priority:2},{name:"",price:80,priority:3},{name:"",price:65,priority:4},{name:"",price:70,priority:5},{name:"",price:70,priority:6},{name:"",price:70,priority:7},{name:"",price:65,priority:8},{name:"",price:65,priority:9},{name:"",price:50,priority:10},{name:"",price:50,priority:11},{name:"",price:100,priority:12},{name:"",price:15,priority:13},{name:"",price:15,priority:14},{name:"",price:10,priority:15},{name:"()",price:5,priority:16}]},{type:hn[2].type,label:hn[2].label,color:hn[2].color,items:[{name:"",price:250,priority:1},{name:"",price:220,priority:2},{name:"",price:220,priority:3},{name:"",price:250,priority:4},{name:"4",price:900,priority:5},{name:"",price:20,priority:6},{name:"x3",price:50,priority:7},{name:"",price:25,priority:8},{name:"",price:25,priority:9},{name:"",price:23,priority:10},{name:"Zero",price:25,priority:11},{name:"",price:25,priority:12},{name:"",price:40,priority:13},{name:"",price:10,priority:14}]}],ai=[{name:"",priority:1,type:"meal"},{name:"",priority:2,type:"meal"},{name:"",priority:3,type:"meal"},{name:"",priority:4,type:"meal"},{name:"",priority:5,type:"meal"},{name:"",color:"purple",priority:6,type:"order"},{name:"",color:"blue",priority:7,type:"order"},{name:"",color:"gold",priority:8,type:"order"},{name:"",color:"red",priority:9,type:"order"}];ai.reduce((t,{name:r,color:o})=>(t[r]=o,t),{});const Yf=[...ai.map(({name:t})=>({label:t,value:t})),{label:"",value:""},{label:"",value:""}],_n={red:"#db476c",blue:"#546ca3",brown:"#9e5e2f",purple:"#82379e",gold:"#e19338"},qf="https://tianwen7252.github.io/manifest.json",er={get({startTime:t,endTime:r,reverse:o=!0,index:i="createdAt",sortKey:c="number",searchText:l=null,offset:d=0,limit:p=0,search:h}){let v=Ge.orders.where(i).between(t,r);return o&&(v=v.reverse()),l!=null&&l.length&&(v=v.filter(({data:y,total:b,memo:k})=>l.some(q=>(q=q.trim(),b===+q||k.some(L=>L.includes(q))||y.some(L=>{const{res:S,value:j}=L;return(S==null?void 0:S.includes(q))||j===q}))))),h&&(v=h(v)),d&&(v=v.offset(d)),p&&(v=v.limit(p)),v.sortBy(c)},async add(t,r){return r||(r=ot().utc().valueOf()),t.createdAt=r,await Ge.transaction("rw",[Ge.orders,Ge.dailyData],async()=>{const i=await Ge.orders.add(t);return await er.updateDailyData("add",t),i})},async set(t,r,o){o||(o=ot().utc().valueOf()),r.updatedAt=o;const i=Ge.orders.update(t,r);return await er.updateDailyData("edit",r),i},async delete(t,r){const o=Ge.orders.delete(t);return await er.updateDailyData("delete",r),o},async updateDailyData(t,r){const{createdAt:o}=r,i=ot(o).startOf("day"),c=i.format("YYYY/MM/DD");let l,d=0;const[p]=await tr.get({date:c});switch(p?(l=p.id,d=p.total):l=await tr.add(c,0,i.valueOf()),t){case"add":{tr.set(l,d+r.total);break}default:{const h=i.endOf("day"),y=(await er.get({startTime:i.valueOf(),endTime:h.valueOf(),reverse:!1})).reduce((b,k)=>b+k.total,0);tr.set(l,y)}}},count({startTime:t,endTime:r,index:o="createdAt"}){return Ge.orders.where(o).between(t,r).count()}},tr={get({date:t,startTime:r,endTime:o,reverse:i=!0,index:c="createdAt",sortKey:l=c}){let d;return t?d=Ge.dailyData.where("date").equals(t):d=Ge.dailyData.where(c).between(r,o),i&&(d=d.reverse()),d.sortBy(l)},add(t,r,o,i="admin"){return o||(o=ot().utc().valueOf()),Ge.dailyData.add({date:t,total:r,originalTotal:r,createdAt:o,updatedAt:o,editor:i})},set(t,r,o="admin"){return Ge.dailyData.update(t,{total:r,originalTotal:r,editor:o})},revise(t,r,o,i="admin"){return o||(o=ot().utc().valueOf()),Ge.dailyData.update(t,{total:r,updatedAt:o,editor:i})}},Hf={async get(t,r){const o=await er.get({startTime:t,endTime:r,reverse:!1}),i=await tr.get({startTime:t,endTime:r,reverse:!1});return{records:o,dailyDataInfo:i}}},Br={async get(){return Ge.commondityType.toArray()},async add(t){return t.createdAt=ot().utc().valueOf(),Ge.commondityType.add(t)},async set(t,r){return r.updatedAt=ot().utc().valueOf(),Ge.commondityType.update(t,r)},async clear(){return Ge.commondityType.clear()}},In={async get(t="1"){return t?Ge.commondity.where("onMarket").equals(t).toArray():Ge.commondity.toArray()},async getMapData(t){const r=await In.get(t),o={};return r==null||r.forEach(i=>{const{id:c,typeID:l,priority:d,onMarket:p}=i;o[l]=o[l]??[],p==="1"&&o[l].push({key:`${c}-${d}`,...i})}),o},async add(t,r="admin"){return Ge.commondity.add({...t,createdAt:ot().utc().valueOf(),editor:r})},async set(t,r){return r.updatedAt=ot().utc().valueOf(),Ge.commondity.update(t,r)},async clear(){return Ge.commondity.clear()}},xa={async get(){return Ge.orderTypes.toArray()},async add(t,r="admin"){return Ge.orderTypes.add({...t,createdAt:ot().utc().valueOf(),editor:r})},async set(t,r){return r.updatedAt=ot().utc().valueOf(),Ge.orderTypes.update(t,r)},async delete(t){return Ge.orderTypes.delete(t)},async clear(){return Ge.orderTypes.clear()}};function Wf(t=!0){oi(t),Rc(t),ii(t)}function oi(t=!0){t&&Br.clear(),hn.forEach(r=>{Br.add(r)})}function Rc(t=!0){t&&In.clear(),kc.forEach((r,o)=>{const{items:i}=r;i.forEach(c=>{In.add({...c,typeID:String(o+1),onMarket:"1"})})})}function ii(t=!0){t&&xa.clear(),ai.forEach(r=>{xa.add(r)})}const Vf=Object.freeze(Object.defineProperty({__proto__:null,MANIFEST_URL:qf,commondity:In,commondityTypes:Br,dailyData:tr,orderTypes:xa,orders:er,reset:Wf,resetCommonditType:oi,resetCommondity:Rc,resetOrderType:ii,statistics:Hf},Symbol.toStringTag,{value:"Module"})),ms=3,Jp="2024-12-20 12:00:00",Gf="commondity",Xf="TianwenDB",Zf=7,Ge=new wa(Xf),Qf=Ge.version(Zf);Qf.stores({orders:"++id, createdAt",dailyData:"++id, date, createdAt, total",commondityType:"++id, type",commondity:"++id, name, typeID, onMarket",orderTypes:"++id, name"});function Jf(){eh()}async function eh(){const t=localStorage.getItem("SYNC_NUMBER"),r=Ko(t)||ms>+t,o=r&&Gf;if(((await Br.get()).length===0||o==="commondityType")&&oi(r),(await In.get()).length===0||o==="commondity"){const p=(await Br.get()).reduce((h,v)=>(h[v.type]=v.typeID,h),{});r&&In.clear(),kc.forEach(h=>{const{type:v,items:y}=h;y.forEach(b=>{In.add({...b,typeID:p[v],onMarket:"1"})})})}((await xa.get()).length===0||o==="orderTypes")&&ii(r),r&&localStorage.setItem("SYNC_NUMBER",ms.toString())}Jf();const Qn={KEYBOARD_ON_ACTION:"keyboard.onAction",KEYBOARD_ON_CANCEL_EDIT:"keyboard.onCancelEdit",ORDER_AFTER_ACTION:"order.afterAction",on(t,r){return document.addEventListener(Qn._getName(t),r),Qn.off.bind(Qn,t,r)},off(t,r){document.removeEventListener(Qn._getName(t),r)},fire(t,r){const o=new CustomEvent(Qn._getName(t),{detail:r});document.dispatchEvent(o)},_getName(t){return`Resta.${t}`}},si="YYYY/MM/DD dddd",th="YYYY/MM/DD",jo="MM/DD HH:m:s A",nh="YYYY/MM/DD HH:mm",rh="MM-DD (dd)",ah=7,ya=1e3*1e3,oh=ya*1e3;function or(t){return(+t).toLocaleString("zh-TW",{style:"currency",currency:"TWD",maximumFractionDigits:0,minimumFractionDigits:0})}function ih(t){return or(t).substring(1)}function sh(t,r=!1){return`${t-(t>12?12:0)}${r?"":t>11?" PM":" AM"}${r?` - ${sh(t+1)}`:""}`}const ch=navigator.userAgent.toLowerCase(),uh=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(ch);function _a(t){const r=t?+t:1;return r<1&&r>0?1:r}let xo,_o;function Dc(t=null,r=!1,o=!1){const i=[],c={},l={};let d={},p={};const h=(v,y,b)=>{y.forEach((k,q)=>{const{name:L,menu:S,price:j=b,showRelevancy:V,textIcon:X}=k;if(r&&(k.priority=q,V&&i.push(k)),l[L]=[j,v],Array.isArray(S))h(v,S,j);else{const Y=c[j]=c[j]??[];Y.some(Z=>Z.name===L)||Y.push({name:L,textIcon:X,type:v})}})};return Iu(t,(v,y)=>{let b="";switch(y){case"1":b="main-dish";break;case"2":b="-la-carte";break;case"3":b="others";break}h(b,v)}),r&&i.forEach(v=>{var b,k;const{price:y}=v;v.menu=((k=(b=c[y])==null?void 0:b.map)==null?void 0:k.call(b,(q,L)=>({...q,price:y,priority:L})))??[]}),o&&(xo&&_o?(d=xo,p=_o):(Object.keys(c).forEach(v=>{c[v].forEach(y=>{const{type:b}=y,k=d[b]=d[b]??{};k[v]=k[v]??[],k[v].push(y),(p[b]=p[b]??[]).push(y.name)})}),d["-la-carte"][15]=[...d["-la-carte"][15]??[],...d["main-dish"][15]],delete d["main-dish"][15],p["-la-carte"].push(""),p["-la-carte"].push(""),p["main-dish"]=p["main-dish"].filter(v=>v!==""&&v!==""),xo=d,_o=p)),{data:t,priceMap:c,commodityMap:l,priceMapGroup:d,resMapGroup:p}}async function em(t="GB"){var p;let r=0,o="---",i=0,c="---",l=0,d="---";if((p=navigator==null?void 0:navigator.storage)!=null&&p.estimate){const h=await navigator.storage.estimate(),v=t==="GB"?oh:ya;r=h.usage/v,r<1?(r=h.usage/ya,o=`${r.toFixed(2)} MB`):o=`${r.toFixed(2)} GB`,i=h.usage/h.quota*100,c=`${i<.01?0:i.toFixed(2)}%`,l=(h.quota-h.usage)/v,l<1?(l=(h.quota-h.usage)/ya,d=`${l.toFixed(2)} MB`):d=`${l.toFixed(2)} GB`}return{useage:o,percentageUsed:c,remaining:d}}let Eo;const Pc={db:Ge,API:Vf,appEvent:Qn,isTablet:uh,DATE_FORMAT:si,DATE_FORMAT_DATE:th,DATE_FORMAT_TIME:jo,DATE_FORMAT_DATETIME_UI:nh,async getAllCommoditiesInfo(){if(!Eo){const t=await In.getMapData();Eo=Dc(t,!1,!0)}return Eo}},zr=D.createContext(Pc),Mc=["+","*"],lh=Mc.join(""),{evaluate:dh}=Nu(ju);function Ac(t){return dh(t)}function la(t){const{length:r}=t,o=$u(t,lh),i=r===0?0:Ac(o);let c=t==="."?"0.":t;return Mc.includes(t[0])||c.startsWith("0")?c=c.slice(1):c=c.replaceAll(/(\++){2,}|(\*{2,})|(\*\+)|(\+\*)/g,l=>{switch(l){case"++":case"**":return l[0];case"+*":case"*+":return l.at(-1);default:return l}}),{input:t,total:i,transformedInput:c}}function ys(t){let r="";return t.forEach(({value:o,operator:i=""})=>{r+=i+o}),{text:r,total:Ac(r)||0}}function fh(t){const{priceMap:r,commodityMap:o}=D.useMemo(()=>Dc(t),[t]),i=D.useRef(""),c=D.useRef(!1),[l,d]=D.useState(""),[p,h]=D.useState([]),[v,y]=D.useState(0),b=D.useRef(p);i.current=l,b.current=p;const k=D.useCallback(Y=>{const Z=b.current,W=Z.at(-1);return W&&(!W.operator||W.operator&&W.value?Z.push({value:"",operator:Y}):W.operator=Y,c.current=Y==="*"),Z},[]),q=D.useCallback((Y,Z)=>{const W=o[Z];if(W){const[,U]=W;Y.res=Z,Y.type=U}else Y.res="",Y.type="";return Y},[o]),L=D.useCallback((Y,Z,W=!1)=>{const U=b.current;if(W&&Z){const w=U.indexOf(Z);if(w!==-1){const he=w-1;U.splice(he>0?he:0,Z.amount?3:2);const{text:de,total:le}=ys(U);d(de),y(le)}}else if(Z=Z??U.at(-1),Z){const[,w]=Y.split("|");q(Z,w)}h([...U])},[q]),S=D.useCallback((Y,Z)=>{var he,de;let W=b.current,U=W.at(-1),w;switch(Y){case"+":case"*":{const{transformedInput:le}=la(i.current+Y);d(le),h([...k(Y)]);break}case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{Y==="."&&(i.current===""||U.value==="")&&(Y="0.");const{total:le,transformedInput:be}=la(i.current+Y);if(d(be),y(le),(W.length===0||(U==null?void 0:U.operator)==="+")&&(U={value:""},W.push(U)),U.value+=Y,c.current){const fe=W.at(-2);fe&&(fe.amount=U.value)}w=[...W];break}case"Backspace":{const{total:le,transformedInput:be}=la(i.current.slice(0,-1));if(d(be),y(le),U)if(U.value==="")W.pop();else if(U.value=U.value.slice(0,-1),U.operator==="*"){const fe=W.at(-2);fe.amount=U.value}else U.value===""&&W.pop();w=[...W];break}case"Escape":{d(""),y(0),h([]),b.current=[],c.current=!1;break}default:if(Y.startsWith("+")){const{total:le,transformedInput:be}=la(i.current+Y);d(be),y(le);const fe=k("+"),we={value:Y.slice(1),res:Z};fe.push(q(we,Z)),w=[...fe];break}}if(!(U!=null&&U.operator)&&(U!=null&&U.value)){const le=(de=(he=r[U.value])==null?void 0:he[0])==null?void 0:de.name,[be]=(o==null?void 0:o[U.res])??[];if(+U.value!==be){const fe=le??"";U.res!==fe&&(q(U,fe),w=[...W])}}return w&&(b.current=W=w,h(w)),{data:W}},[k,q,r,o]),j=D.useCallback(Y=>{document.querySelector(".ant-modal-mask")||S(Y.key)},[S]),V=D.useCallback(()=>{S("Escape")},[S]),X=D.useCallback((Y,Z)=>{const{text:W}=ys(Y);d(W),y(Z),h(Y)},[]);return D.useEffect(()=>(document.addEventListener("keyup",j),()=>{document.removeEventListener("keyup",j)}),[j]),{data:p,text:l,total:v,priceMap:r,input:S,updateItemRes:L,update:X,clear:V}}function vs(t,r){if(t.inserted[r.name]===void 0)return t.insert("",r,t.sheet,!0)}function gs(t,r,o){var i=[],c=Vo(t,i,o);return i.length<2?o:c+r(i)}var hh=function(r){var o=Ys(r);o.sheet.speedy=function(p){this.isSpeedy=p},o.compat=!0;var i=function(){for(var h=arguments.length,v=new Array(h),y=0;y<h;y++)v[y]=arguments[y];var b=rr(v,o.registered,void 0);return Go(o,b,!1),o.key+"-"+b.name},c=function(){for(var h=arguments.length,v=new Array(h),y=0;y<h;y++)v[y]=arguments[y];var b=rr(v,o.registered),k="animation-"+b.name;return vs(o,{name:b.name,styles:"@keyframes "+k+"{"+b.styles+"}"}),k},l=function(){for(var h=arguments.length,v=new Array(h),y=0;y<h;y++)v[y]=arguments[y];var b=rr(v,o.registered);vs(o,b)},d=function(){for(var h=arguments.length,v=new Array(h),y=0;y<h;y++)v[y]=arguments[y];return gs(o.registered,i,ph(v))};return{css:i,cx:d,injectGlobal:l,keyframes:c,hydrate:function(h){h.forEach(function(v){o.inserted[v]=!0})},flush:function(){o.registered={},o.inserted={},o.sheet.flush()},sheet:o.sheet,cache:o,getRegisteredStyles:Vo.bind(null,o.registered),merge:gs.bind(null,o.registered,i)}},ph=function t(r){for(var o="",i=0;i<r.length;i++){var c=r[i];if(c!=null){var l=void 0;switch(typeof c){case"boolean":break;case"object":{if(Array.isArray(c))l=t(c);else{l="";for(var d in c)c[d]&&d&&(l&&(l+=" "),l+=d)}break}default:l=c}l&&(o&&(o+=" "),o+=l)}}return o},mh=hh({key:"css"}),yh=mh.css;const Ic="10px",vh=ce`
  position: relative;
  overflow: hidden;
  --resta-original-total-room: 0px;
`,gh=ce`
  --resta-original-total-room: 38px;
`,bh=ce`
  width: min-content;
  /* width: 40vw; */
  min-width: 60vw;
  min-height: ${ri(22)};
  padding: 10px 20px;
  font-size: ${Sf};
  letter-spacing: ${Of};

  .ant-divider {
    margin: 8px 0;
  }
`,wh=ce`
  .ant-tabs {
    margin-top: 0;
  }
`,xh=ce`
  margin-bottom: 20px;
  word-wrap: break-word;
  min-height: ${ds};

  @media only screen and (min-device-width: 1080px) and (orientation: landscape) {
    min-height: ${Lr.KEYBOARD_TEXT_MIN_HEIGHT};
  }
  @media only screen and (min-device-width: 1280px) and (orientation: landscape) {
    min-height: ${ds};
  }
`,_h=ce`
  margin-bottom: -20px;
  margin-top: -10px;

  .resta-keyboard-left {
    min-width: 70vw;
    min-height: ${ri(112)};
  }

  /* @media only screen and (max-device-width: 1180px) and (orientation: landscape) {
    // transform: scale(0.93);
    // margin-left: -40px;
    // margin-top: -45px;
    margin-bottom: -20px;
    margin-top: -10px;
  } */
  .resta-keyboard-textArea {
    @media only screen and (min-device-width: 1080px) and (orientation: landscape) {
      min-height: calc(${Lr.KEYBOARD_TEXT_MEALS_HEIGHT} + 20px);
      max-height: calc(${Lr.KEYBOARD_TEXT_MEALS_HEIGHT} + 20px);
    }
    @media only screen and (min-device-width: 1280px) and (orientation: landscape) {
      max-height: none;
    }
  }
`,Eh=ce`
  max-height: calc(
    ${fs} - var(--resta-original-total-room)
  );

  @media only screen and (min-device-width: 1080px) and (orientation: landscape) {
    max-height: calc(
      ${Lr.KEYBOARD_TEXT_MEALS_HEIGHT} - var(--resta-original-total-room)
    );
  }
  @media only screen and (min-device-width: 1280px) and (orientation: landscape) {
    max-height: calc(
      ${fs} - var(--resta-original-total-room)
    );
  }

  overflow-y: auto;

  .ant-tag {
    font-size: 1rem;
    vertical-align: text-bottom;
    line-height: inherit;
    margin-inline-end: 4px;
    cursor: pointer;
    background: #fff;
    border: 1px solid #2222229c;
    color: #2222229c;
  }

  .ant-tag-close-icon {
    /* vertical-align: middle; */
    font-size: 1rem;
    color: #2222229c;
  }
`,bs=ce`
  margin-top: 1rem;
  font-weight: 500;
  font-size: ${Tf};
`,Ch=ce`
  color: #aaa;
  text-decoration: line-through;
`,Sh=ce`
  margin-top: 0;
`,Th=ce`
  font-size: 1rem;
  vertical-align: middle;
`,Oh=ce``,kh=ce`
  color: #fff;
  padding: 2px 4px;
  border-radius: 4px;
  letter-spacing: 0;
  font-size: 1rem;
  margin-right: 8px;

  &.resta-keyboard-change-1000 {
    background: #3f6ab0;
  }
  &.resta-keyboard-change-500 {
    background: #ae917d;
  }
  &.resta-keyboard-change-100 {
    background: #f38590;
  }
`,Rh=ce`
  position: relative;
  padding-top: 8px;

  .ant-btn {
    font-size: 1.2rem;
  }
`,Dh=ce`
  font-size: 1.5rem;
  width: min-content;
`,Ph=ce`
  flex: auto;
  justify-content: end;
`,Mh=ce`
  width: min-content;
  gap: 20px;

  // for ipad 11 air
  @media only screen and (min-device-width: 1180px) and (max-height: 796px) and (orientation: landscape) {
    gap: 70px;
  }

  .ant-flex {
    margin-bottom: ${Ic};
    align-content: space-between;
  }

  .ant-btn {
    width: 4.2rem;
    height: 4.2rem;
    white-space: normal;
    word-break: break-word;
    padding: 0;
    /* transform: scale(0.9); */

    > span:not(.ant-btn-icon) {
      padding: 5px;
    }
  }

  .ant-btn,
  .anticon {
    font-size: ${kf};
  }
`,Ah=ce`
  &.ant-btn {
    width: 5rem;
    height: 30px;
    padding: 0px;
    display: block;
    line-height: inherit;
    font-size: 1rem;
    border-radius: 4px;

    .ant-btn-icon {
      vertical-align: middle;
      margin-right: 4px;
      margin-top: -2px;
    }
  }
`,Ih=ce`
  margin-top: calc(-${ls} - 50px);

  .ant-tabs-nav {
    margin-left: 10px;
    margin-bottom: 1.5rem;
  }

  .ant-tabs-tab + .ant-tabs-tab {
    margin: 0 0 0 2rem;
    // for iPad 10
    @media only screen and (max-device-width: 1080px) and (orientation: landscape) {
      margin: 0 0 0 1rem;
    }
  }

  .ant-tabs-tab-btn {
    font-size: ${ls};
  }
`,$h=ce`
  font-size: 12px;
  flex-wrap: wrap;
  flex-direction: column;
  min-height: 300px;
  max-height: 350px;
  align-content: space-between;
  row-gap: ${Ic};
`,ws=yh`
  color: red;

  .ant-dropdown-menu .ant-dropdown-menu-item {
    font-size: 1rem;
  }
`,xs=ce`
  display: block;
  padding: 2px;
  position: absolute;
  top: -22px;
  color: #777;
  font-size: 0.8rem;
  background: #fff;
`,Lh=ce`
  font-size: 1rem;
  padding: 5px 0;
  position: relative;

  &:before {
    content: '';
    left: 0;
    ${xs}
  }

  &:after {
    content: '';
    right: 0;
    ${xs}
  }

  .ant-tag {
    font-size: ${Ec};
    vertical-align: middle;
    border: 1px solid #ddd;
    margin-right: 0;
    padding: 2px 6px;
    letter-spacing: 2px;
    margin-left: 2px;

    */ &.ant-tag-checkable:not(.ant-tag-checkable-checked):hover {
      color: #333;
    }

    &.ant-tag-checkable-checked {
      background-color: #333;

      &::after {
        position: absolute;
        content: '';
        top: -18px;
        left: 40%;
        z-index: 1;
        /* right: 50%; */
      }
    }
  }
`,Bh=ce`
  width: 100%;
  justify-content: space-between;
`,Nh=ce`
  border-right: 1px solid rgba(5, 5, 5, 0.06);
  border-image: linear-gradient(to bottom, #fff, #999, #fff) 1 100%;
  margin: 0 2px;
  height: 26px;
`,jh=ce`
  height: 3.5rem;
  font-size: 1.2rem;
  font-weight: bold;
  transition: ${Tc()};
  background-size: 200% auto;
  border-radius: 10px;
`,Fh=ce`
  background: linear-gradient(to right, rgb(201, 255, 191), rgb(255, 175, 189));
`,Kh=ce`
  margin-top: 20px;
  .ant-form-item-row .ant-form-item-label > label {
    font-size: 1rem;
  }
`,za=(t,r=t)=>ce`
    border-color: ${t};
    color: ${r};
  `,zh=za("#426e0680","#426e06"),Uh=za("#7e632280","#7e6322"),Yh=za("#673e7678","#673e76"),qh=za("#3e667675","#3e6676"),Hh={green:zh,brown:Uh,purple:Yh,indigo:qh},Ur=(t,r="#fff")=>ce`
    &.ant-tag.ant-tag-checkable-checked {
      background-color: ${t};
      color: ${r};
    }
  `,Wh=Ur(_n.brown),Vh=Ur(_n.purple),Gh=Ur(_n.blue),Xh=Ur(_n.gold),Zh=Ur(_n.red),Qh={brown:Wh,purple:Vh,blue:Gh,gold:Xh,red:Zh},Jh={SwapLeftOutlined:N(bu,{}),PlusOutlined:N(wu,{}),DeleteOutlined:N(Fo,{}),CloseOutlined:N(xu,{})},_s=[1e3,500,100];function ep(t){const r=t.toString(),{length:o}=r,i=+r[0],c=[];return o<=4&&o>1?(_s.forEach((l,d)=>{if(l>t)c.push([l,l,l-t]);else if(t>l){const p=l*(i+1);p>t&&(p<_s[d-1]||d===0)&&c.push([l,p,p-t])}}),c):null}const tp=D.memo(t=>{var Tt;const{API:r,appEvent:o,isTablet:i}=D.useContext(zr),c=ar(async()=>(await r.commondityTypes.get()).map(ye=>({key:ye.id,...ye})),[],[]),l=ar(async()=>await r.commondity.getMapData(),[],{}),d=ar(async()=>await r.orderTypes.get(),[],[]),{data:p,total:h,priceMap:v,input:y,updateItemRes:b,update:k,clear:q}=fh(l),{editMode:L=!1,record:S,lastRecordNumber:j,drawerMode:V=!1,callOrderAPI:X,submitCallback:Y}=t,[Z,W]=D.useState(t.mode||"both"),[U,w]=D.useState([]),[he,de]=D.useState(ua.KEYBOARD_SUBMIT_BTN_TEXT),[le,be]=D.useState(L),[fe,we]=D.useState(!1),[ge,Ne]=D.useState(null),[Ze,gt]=D.useState(""),[Te,bt]=D.useState(!1),ct=D.useRef(S),lt=D.useMemo(()=>{let me=0;return p.forEach(({res:ye,type:Pe,amount:$e=""})=>{!ua.NO_NEED_SOUP_KEYWORDS.some(Fe=>ye==null?void 0:ye.includes(Fe))&&(Pe===ua.MAIN_DISH_TYPE||ye==="")&&(me+=_a($e))}),me},[p]),St=D.useMemo(()=>U.includes(""),[U]),dt=D.useCallback(me=>{const[ye,Pe]=me.split("|");return y(ye,Pe).data},[y]),en=D.useCallback(me=>{W(me)},[W]),mt=D.useCallback(me=>{const{meta:ye=""}=me.currentTarget.dataset;dt(ye)},[dt]),Se=D.useCallback(me=>{const{key:ye}=me;i?b(ye):dt(ye)},[i,dt,b]),je=D.useCallback((me,ye=!1,Pe)=>{const{key:$e}=Pe;b($e,me,ye)},[b]),ze=D.useCallback((me,ye)=>{const Pe=U.indexOf(me);ye?Pe===-1&&U.push(me):U.splice(Pe,1),w([...U])},[U]),ue=D.useCallback(()=>{we(!0)},[]),Gt=D.useCallback(()=>{ge===null||ge===h?(Ne(null),bt(!1)):(U.includes("")||w([...U,""]),bt(!0)),we(!1)},[ge,h,U]),wt=D.useCallback(()=>{bt(!1),Ne(null),gt(""),U.includes("")&&w([...Lu(U,"")]),we(!1)},[U]),ve=D.useCallback(()=>{dt("Escape"),w([]),wt(),V||(de(ua.KEYBOARD_SUBMIT_BTN_TEXT),be(!1),o.fire(o.ORDER_AFTER_ACTION)),ct.current=null,q()},[V,o,dt,q,wt]),Pt=D.useCallback(async()=>{const me=Te?ge:h;if(me>0){let ye="add";const Pe={data:p,number:j+1,total:me,originalTotal:Te?h:void 0,editedMemo:Ze,soups:lt,memo:!lt||St?U:[...U,`${lt}`]};if(le){const $e=ct.current;delete Pe.number,ye="edit",$e&&X({...$e,...Pe},ye)}else await X(Pe,ye);Y==null||Y(ye),ve()}},[p,j,h,lt,le,St,U,Te,ge,Ze,X,Y,ve]);D.useEffect(()=>{const me=o.on(o.KEYBOARD_ON_ACTION,Pe=>{const{record:$e,action:Ee}=Pe.detail;switch(Ee){case"edit":{const{data:Fe,memo:Be,number:Ue,editedMemo:tt}=$e;let{total:Ye,originalTotal:Qe}=$e;ct.current=$e,Ko(Qe)||(Ne(Ye),gt(tt),bt(!0),Ye=Qe),k(Fe,Ye),w(Be.filter(xt=>!xt.includes(""))),de(` - [${Ue}]`),be(!0);break}case"delete":{X($e,"delete");break}}}),ye=o.on(o.KEYBOARD_ON_CANCEL_EDIT,ve);return()=>{me(),ye()}},[o,k,X,ve]);const vn=D.useMemo(()=>Uf.map((me,ye)=>N(Et,{gap:"middle",children:me.map((Pe,$e)=>{const{label:Ee,meta:Fe,icon:Be}=Pe;return N(Er,{shape:"circle",size:"large","data-meta":Fe,icon:Jh[Be],onClick:mt,children:Ee},$e)})},ye)),[mt]),zt=D.useMemo(()=>c.map(me=>{const{type:ye,label:Pe,typeID:$e,color:Ee}=me,Be=(l[$e]??[]).map((Ue,tt)=>{const{name:Ye,price:Qe,menu:xt,visible:_t,showRelevancy:oe,hideOnMode:Ot}=Ue;if(_t===!1||Ot===Z)return null;const ft=oe&&xt?`+${Qe}|${xt[0].name}`:`+${Qe}|${Ye}`,Je=N(Er,{size:"large","data-meta":ft,css:Hh[Ee],onClick:mt,children:Ye},`${tt}-${ft}`);return xt?N(Ii,{overlayClassName:ws,arrow:{pointAtCenter:!0},placement:"bottom",menu:{onClick:Se,items:xt.map(({name:Q,price:Yt,textIcon:qt})=>({key:`+${Yt}|${Q}`,label:qt?pe(Wt,{children:[qt,Q]}):Q}))},children:Je},ft):Je});return{label:Pe,key:ye,children:N(Et,{css:$h,gap:"middle",vertical:!0,wrap:!0,children:Be})}}),[Z,c,l,mt,Se]),Mt=D.useMemo(()=>p.map((me,ye)=>{var Be,Ue;const{value:Pe,operator:$e,res:Ee}=me;let Fe;return $e?Fe=pe("span",{children:[$e,Pe]}):Fe=Ee?pe("span",{children:[Pe,"(",N(Ii,{overlayClassName:ws,arrow:{pointAtCenter:!0},placement:"bottom",menu:{items:(Ue=(Be=v[Pe])==null?void 0:Be.map)==null?void 0:Ue.call(Be,({name:tt})=>({key:`+${Pe}|${tt}`,label:tt})),onClick:je.bind(null,me,!1)},children:N(Ro,{bordered:!1,closeIcon:!0,onClose:je.bind(null,me,!0),children:Ee})},`${ye}-${Pe}`),")"]}):Pe,N(Wt,{children:Fe},`${ye}-${Pe}-${Date.now()}`)}),[p,v,je]),[sn,gn]=D.useMemo(()=>{const me=[],ye=[];return d.forEach(Pe=>{const{name:$e,color:Ee,type:Fe}=Pe,Be=N(Ro.CheckableTag,{css:Qh[Ee],checked:U.includes($e),onChange:Ue=>ze($e,Ue),children:$e},$e);Fe==="meal"?me.push(Be):ye.push(Be)}),[me,ye]},[d,U,ze]),tn=D.useMemo(()=>{var ye;const me=Te?ge:h;return me!==0&&((ye=ep(me))==null?void 0:ye.map(([Pe,$e,Ee])=>pe("span",{css:kh,className:`resta-keyboard-change-${Pe}`,children:["$",$e,"  $",Ee]},Pe)))},[Te,h,ge]),Ut=D.useMemo(()=>pe(It,{children:[N("span",{css:Th,children:lt>0&&!St&&`(${lt})`}),tn&&N("span",{css:Oh,children:tn})]}),[lt,St,tn]);return pe("div",{css:[vh,V&&_h,Te&&gh],children:[pe(Et,{css:[bh,Z==="commondity"&&wh],className:"resta-keyboard-left",vertical:!0,children:[pe(Et,{css:xh,className:"resta-keyboard-textArea",vertical:!0,children:[N("div",{css:Eh,children:Mt}),N("div",{css:bs,children:pe(Wt,{size:"large",children:[pe("span",{css:Te&&Ch,children:[h&&`= ${or(h)}`,h!==0&&N(Er,{type:"text",icon:N(Ms,{}),onClick:ue})]}),!Te&&Ut]})}),Te&&N("div",{css:[bs,Sh],children:pe(Wt,{size:"large",children:[N("span",{children:`= ${or(ge)}`}),Ut]})})]}),pe(Et,{css:Ph,gap:"middle",vertical:!0,children:[pe(Wt,{size:"middle",children:[N(Su,{css:Dh,options:[{value:"both",icon:N(_u,{})},{value:"commondity",icon:N(Eu,{})},{value:"calculator",icon:N(Cu,{})}],onChange:en}),N(Er,{danger:!0,type:"primary",size:"large",css:Ah,icon:N(Fo,{}),onClick:ve,children:""})]}),pe(Et,{css:Mh,gap:"middle",children:[Z!=="commondity"&&N("div",{css:Rh,children:vn}),Z!=="calculator"&&N(As,{css:Ih,tabPosition:Z==="commondity"?"left":"top",defaultActiveKey:(Tt=c==null?void 0:c[0])==null?void 0:Tt.type,items:zt})]})]}),N(Rr,{}),N(Et,{css:Lh,gap:"small",wrap:!0,align:"center",children:pe(Wt,{css:Bh,split:N("span",{css:Nh}),children:[N(Wt,{children:sn}),N(Wt,{children:gn})]})}),N(Rr,{}),N(Et,{vertical:!0,children:N(Er,{css:[jh,le&&Fh],size:"large",type:"primary",disabled:V&&(p==null?void 0:p.length)===0,onClick:Pt,children:he})})]}),N(Is,{title:"",open:fe,okText:"",cancelText:" ()",closable:!1,maskClosable:!1,onOk:Gt,onCancel:wt,children:N(Et,{vertical:!0,children:pe(sa,{labelCol:{span:4},wrapperCol:{span:18},css:Kh,children:[N(sa.Item,{label:"",children:or(h)}),N(sa.Item,{label:"",children:N(vu,{type:"number",prefix:"$",value:ge===null?h:ge,min:0,style:{minWidth:"60%"},addonAfter:`($${ih(ge===null?h:ge)})`,onChange:D.useCallback(me=>Ne(me),[])})}),N(sa.Item,{label:"",children:N(gu,{type:"text",placeholder:"",value:Ze,onChange:D.useCallback(me=>gt(me.target.value),[])})})]})})})]})});var $c={exports:{}};(function(t){var r=Object.assign||function(i){for(var c,l=1;l<arguments.length;l++)for(var d in c=arguments[l],c)Object.prototype.hasOwnProperty.call(c,d)&&(i[d]=c[d]);return i},o=function(i,c){if(i){typeof window<"u"&&function(){function L(S,j){j=j||{bubbles:!1,cancelable:!1,detail:void 0};var V=document.createEvent("CustomEvent");return V.initCustomEvent(S,j.bubbles,j.cancelable,j.detail),V}return typeof window.CustomEvent!="function"&&(L.prototype=window.Event.prototype,void(window.CustomEvent=L))}(),c||(c={}),c=r({},{minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0,touch:!0,mouse:!0},c);var l=[],d=!1,p=function(){d=!0},h=function(L){d=!1,y(L)},v=function(L){d&&(L.changedTouches=[{clientX:L.clientX,clientY:L.clientY}],b(L))};c.mouse&&(i.addEventListener("mousedown",p),i.addEventListener("mouseup",h),i.addEventListener("mousemove",v));var y=function(L){var S=Math.abs,j=Math.max,V=Math.min;if(l.length){for(var X=typeof TouchEvent=="function"&&L instanceof TouchEvent,Y=[],Z=[],W={top:!1,right:!1,bottom:!1,left:!1},U=0;U<l.length;U++)Y.push(l[U].x),Z.push(l[U].y);var w=Y[0],he=Y[Y.length-1],de=Z[0],le=Z[Z.length-1],be={x:[w,he],y:[de,le]};if(1<l.length){var fe={detail:r({touch:X,target:L.target},be)},we=new CustomEvent("swiperelease",fe);i.dispatchEvent(we)}var ge=Y[0]-Y[Y.length-1],Ne="none";Ne=0<ge?"left":"right";var Ze,gt=V.apply(Math,Y),Te=j.apply(Math,Y);if(S(ge)>=c.minHorizontal&&(Ne=="left"?(Ze=S(gt-Y[Y.length-1]),Ze<=c.deltaHorizontal&&(W.left=!0)):Ne=="right"&&(Ze=S(Te-Y[Y.length-1]),Ze<=c.deltaHorizontal&&(W.right=!0))),ge=Z[0]-Z[Z.length-1],Ne="none",Ne=0<ge?"top":"bottom",gt=V.apply(Math,Z),Te=j.apply(Math,Z),S(ge)>=c.minVertical&&(Ne=="top"?(Ze=S(gt-Z[Z.length-1]),Ze<=c.deltaVertical&&(W.top=!0)):Ne=="bottom"&&(Ze=S(Te-Z[Z.length-1]),Ze<=c.deltaVertical&&(W.bottom=!0))),l=[],W.top||W.right||W.bottom||W.left){c.lockAxis&&((W.left||W.right)&&S(w-he)>S(de-le)?W.top=W.bottom=!1:(W.top||W.bottom)&&S(w-he)<S(de-le)&&(W.left=W.right=!1));var bt={detail:r({directions:W,touch:X,target:L.target},be)},ct=new CustomEvent("swipe",bt);i.dispatchEvent(ct)}else{var lt=new CustomEvent("swipecancel",{detail:r({touch:X,target:L.target},be)});i.dispatchEvent(lt)}}},b=function(L){var S=L.changedTouches[0];if(l.push({x:S.clientX,y:S.clientY}),1<l.length){var j=l[0].x,V=l[l.length-1].x,X=l[0].y,Y=l[l.length-1].y,Z={detail:{x:[j,V],y:[X,Y],touch:typeof TouchEvent=="function"&&L instanceof TouchEvent,target:L.target}},W=new CustomEvent("swiping",Z),U=c.preventScroll===!0||typeof c.preventScroll=="function"&&c.preventScroll(W);U&&L.preventDefault(),i.dispatchEvent(W)}},k=!1;try{var q=Object.defineProperty({},"passive",{get:function(){k={passive:!c.preventScroll}}});window.addEventListener("testPassive",null,q),window.removeEventListener("testPassive",null,q)}catch{}return c.touch&&(i.addEventListener("touchmove",b,k),i.addEventListener("touchend",y)),{off:function(){i.removeEventListener("touchmove",b,k),i.removeEventListener("touchend",y),i.removeEventListener("mousedown",p),i.removeEventListener("mouseup",h),i.removeEventListener("mousemove",v)}}}};t.exports=o,t.exports.default=o})($c);var np=$c.exports;const rp=lr(np),Es=42*2-1,Lc="linear-gradient(to top, #dbd5a7, #b0dab9)",ap="linear-gradient(to bottom, #fb578e, #f7bb97)",op=ce`
  --resta-order-card-width: ${Sc};
  font-size: 1rem;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  border: 1px solid #55555587;
  width: var(--resta-order-card-width);
  min-width: var(--resta-order-card-width);

  // for iPad 10
  @media only screen and (max-device-width: 1080px) and (orientation: landscape) {
    --resta-order-card-width: ${Lr.ORDER_CARD_WIDTH};
  }

  /* @media only screen and (min-device-width: 1080px) and (orientation: landscape) {
    --resta-order-card-width: 260px;
  }
  @media only screen and (min-device-width: 1280px) and (orientation: landscape) {
    --resta-order-card-width: 284px;
  } */
`,Bc=ce`
  height: 100%;
  &,
  .anticon {
    transition: transform 1s cubic-bezier(0.075, 0.82, 0.165, 1);
  }
  label: __order-frame; // @emotion only
`,Nc=ce`
  background: #fff;
  min-width: var(--resta-order-card-width);
  label: __order-main; // @emotion only

  .ant-tag {
    font-size: ${Ec};
    margin-inline-end: 0;
  }
`,ci=ce`
  min-width: 40px;
  min-height: 30px;
  line-height: 30px;
  background: #444;
  color: #fff;
  text-align: center;
  border-radius: 0 0 8px 0;
  label: __order-number; // @emotion only
`,ip=ce`
  .css-${Bc.name}, [class$='__order-frame'] {
    background: ${Lc};
    transform: translateX(-${Es}px);
  }

  .css-${Nc.name}, [class$='__order-main'] {
    border-radius: 0 8px 8px 0;
    box-shadow: 0px 0px 10px #00000085;
    z-index: 1;
  }

  /* .css-${ci.name}, [class$='__order-number'] {
    left: ${Es}px;
  } */
`,sp=ce`
  display: flex;
  justify-content: space-between;
`,jc=ce`
  visibility: hidden;
  label: __order-action-btn; // @emotion only
  transition: all 0.5s ease-out;

  .anticon {
    cursor: pointer;
    margin: 8px;

    &:hover,
    &:active {
      transform: scale(1.5);
    }
  }
`,cp=ce`
  font-size: 1.2rem;
`,up=ce`
  height: 100%;
  &:hover {
    .css-${jc.name}, [class$='__order-action-btn'] {
      visibility: visible;
    }
  }
`,lp=ce`
  padding: 10px;
  flex: 1;
`,dp=ce`
  padding: 10px;
  align-self: flex-end;
`,fp=ce`
  margin-inline-start: 4px;
  margin-inline-end: 4px;
`,hp=ce`
  font-weight: 500;
  text-align: right;
`,pp=ce`
  font-size: ${Cc};
  text-align: right;
`,da=ce`
  font-size: ${Cc};
  width: 100%;
  justify-content: flex-end;
`,mp=ce`
  color: #619b6d;
`,yp=ce`
  color: white;
  cursor: pointer;
`,Fc=`
  padding: 10px 1rem;
  justify-content: center;
  align-items: center;
  display: flex;
  width: 10px;
  &:hover, &:active {
    .anticon {
      transform: scale(1.5);
    }
  }
`,Cs=ce`
  ${Fc}
  background: ${Lc};
`,vp=ce`
  ${Fc}
  background: ${ap};
`,fa=t=>ce`
    background: ${t};
    background: linear-gradient(
      to bottom,
      color-mix(in srgb, ${t} 10%, #fff),
      #fff
    );

    .css-${ci.name}, [class$='__order-number'] {
      background: ${t};
    }
  `,gp={gold:fa(_n.gold),blue:fa(_n.blue),purple:fa(_n.purple),red:fa(_n.red)},bp=()=>{},Co=D.memo(t=>{const{record:r,number:o,editable:i=!0,callOrderAPI:c=bp}=t,[l,d]=D.useState(!1),[p,h]=D.useState(!1),{API:v,appEvent:y,isTablet:b}=D.useContext(zr),k=D.useRef(),{data:q,total:L,originalTotal:S,memo:j,editedMemo:V,createdAt:X,updatedAt:Y}=r,Z=ot.tz(X),W=Y&&ot.tz(Y),U=ar(async()=>await v.orderTypes.get(),[],[]),w=D.useMemo(()=>{let fe="";return Array.isArray(j)&&j.some(we=>{const ge=U.find(Ne=>Ne.name===we);return ge&&(fe=ge.color),ge}),fe},[j,U]),he=D.useCallback(()=>{d(fe=>!fe)},[]),de=D.useCallback(fe=>{if(i){const{directions:we}=fe.detail;we.left?d(!0):we.right&&d(!1)}},[i]),le=D.useCallback(fe=>{fe==="edit"&&h(!0),y.fire(y.KEYBOARD_ON_ACTION,{record:r,action:fe,callOrderAPI:c})},[r,c,y]),be=D.useCallback(()=>{y.fire(y.KEYBOARD_ON_CANCEL_EDIT),h(!1)},[y]);return D.useEffect(()=>{const fe=k.current,we=rp(fe);fe.addEventListener("swipe",de);const ge=y.on(y.ORDER_AFTER_ACTION,()=>{h(!1),d(!1)});return()=>{fe.removeEventListener("swipe",de),we.off(),ge()}},[y,de]),N("div",{css:[op,l&&ip],className:"resta-order-card",ref:k,children:pe(Et,{css:Bc,children:[N("div",{css:[Nc,gp[w]],children:pe(Et,{css:up,vertical:!0,children:[pe(Et,{css:sp,children:[N("div",{css:ci,children:o}),!b&&N("span",{css:jc,onClick:he,children:l?N(Tu,{}):N(Ou,{css:cp})})]}),pe("div",{css:lp,children:[q.map((fe,we)=>{const{value:ge,operator:Ne,res:Ze}=fe;let gt;return Ne?gt=pe("span",{children:[N("span",{css:fp,children:Ne}),ge]}):gt=Ze?pe("span",{children:[ge," (",Ze,")"]}):ge,N(Wt,{children:gt},`${we}-${ge}`)}),(j==null?void 0:j.length)>0&&pe(It,{children:[N(Rr,{}),N(Wt,{wrap:!0,children:j.map(fe=>N(Ro,{children:fe},fe))})]}),N(Rr,{})]}),pe("div",{css:dp,children:[pe("div",{css:hp,children:[" ",or(L)]}),!Ko(S)&&pe("div",{css:pp,children:[" ","(: ",or(S),")"]}),V&&N(Wt,{css:da,children:V}),pe(Wt,{css:da,children:[": ",r.number]}),pe(Wt,{css:da,children:[Z.format(jo),pe("span",{children:["(",Z.fromNow(),")"]})]}),W&&pe(Wt,{css:[da,mp],children:[": ",W.format(jo),pe("span",{children:["(",W.fromNow(),")"]})]})]})]})}),i&&pe(Et,{css:yp,children:[p?N("div",{css:Cs,onClick:be,children:N(Ps,{})}):N("div",{css:Cs,onClick:le.bind(null,"edit"),children:N(Ms,{})}),N("div",{css:vp,onClick:le.bind(null,"delete"),children:N(Fo,{})})]})]})})}),Kc=13,zc=30,cr=["AM",""],ur=["PM",""],Ea=["TODAY",""],So={[cr[0]]:cr[1],[ur[0]]:ur[1],[Ea[0]]:Ea[1]},wp=[{title:cr[1],key:cr[0],startTime:"09:00",color:"#fdf4d5"},{title:ur[1],key:ur[0],startTime:`${Kc}:${zc}`,color:"#EBF3F7"}];function Ss(t,r,o="en"){return t*60+r>=Kc*60+zc?o==="en"?ur[0]:ur[1]:o==="en"?cr[0]:cr[1]}const xp=[...wp].reverse(),tm=ce`
  position: relative;
  padding: 20px;
  /* width: ${Rf(40)}; */
  min-height: ${ri(40)};
  label: __main;

  [class*='__orderlist_summary'] {
    padding: 20px;
    border-radius: 20px;
    margin-right: 200px; // for anchor last item
    position: relative;

    .ant-statistic-title {
      font-size: 1rem;
    }
  }

  .resta-orderlist-search-drawer {
    .ant-drawer-content-wrapper {
      position: sticky;
      top: 60px;

      .ant-drawer-body {
        overflow-y: auto;
        > div {
          height: calc(100vh - 170px);
        }
      }
    }
  }
`,nm=ce`
  padding: 10px 20px;
  h2 {
    color: #bbb;
  }
`,rm=ce`
  [class*='__orderlist_summary'] {
    padding-bottom: 0;
    width: 70%;
    margin-left: auto;

    .ant-statistic-title {
      border-bottom: 1px solid #d3cdcd;
      padding-bottom: 4px;
    }
  }
`,To=ce`
  ${Df({rtColor:"#b6cad8",rbColor:"#ebdcc0",lbColor:"#e7e2d5",ltColor:"#c0cfb9"})}
`,_p=ce`
  overflow-x: hidden;
  overflow-y: auto;
  width: 100%;

  .ant-select,
  .ant-input-affix-wrapper {
    margin-bottom: 1rem;
  }

  .ant-tabs {
    &.ant-tabs-right {
      > .ant-tabs-content-holder {
        border-right: none;
      }
      > .ant-tabs-nav .ant-tabs-tab {
        padding: 4px 12px;
      }
      .ant-tabs-content > .ant-tabs-tabpane {
        min-height: 300px;
        max-height: 600px;
        min-width: 292px;
        overflow-y: auto;
      }
    }
    > .ant-tabs-nav {
      top: 2px;
      right: -62px;
      position: absolute;
    }
  }

  // for anchor
  /* .ant-flex:empty {
    height: 1px;
    padding: 0;
    margin: 0;
    visibility: hidden;
  } */
`,am=ce`
  position: relative;
`,om=ce`
  .ant-drawer-content {
    overflow: hidden;
    height: auto;
  }

  .ant-drawer-close {
    margin-right: 50px;
  }
`,im=ce`
  padding-bottom: 350px; // for anchor last item and scroll-top buttn

  /* @media only screen and (min-device-width: 1080px) and (orientation: landscape) {
    padding-bottom: 280px;
  }
  @media only screen and (min-device-width: 1280px) and (orientation: landscape) {
    padding-bottom: 350px;
  } */
`,sm=ce`
  filter: blur(0.3rem);

  .ant-anchor-wrapper {
    display: none;
  }
`,Ep=ce`
  > [class*='__orderlist_summary'] {
    width: 70%;
    background: #00000007;
    margin: 0;
  }
`,Cp=ce`
  border-radius: 20px;
  padding: 20px;
  margin: 20px 0;
  position: relative;

  &::after {
    content: attr(data-title);
    position: absolute;
    top: 0;
    right: 0;
    font-size: 1rem;
    padding: 1rem;
    background: #ffffff70;
    border-radius: 0 20px 0 20px;
    color: #666;
  }
`,Sp=ce`
  width: 100%;
  justify-content: center;
`,Tp=ce`
  position: relative;
  margin-right: 60px;
  min-width: 286px;

  h1 {
    font-size: 2.2rem;
    margin: 40px 0;
  }

  .resta-orders-content {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
`,Ts=ce`
  text-align: center;
  label: __orderlist_summary; // @emotion only
`,Op=ce`
  width: 100%;
  margin-right: 140px;
`,kp=ce`
  position: fixed;
  inset-inline-end: 0;
  margin-inline-end: calc(20px - 100vw + 100%);
  margin-top: 10px;
`,cm=ce`
  font-size: 1.2rem;
  padding: 1.2rem;
  border: 1px solid #eee;
`,um=ce`
  float: left;
  margin: 3px 0;
`,Os={add:"",edit:"",delete:""},Rp=["","",""],Zn=["","","","",""];function Dp(t,r){const o=ot.tz(r),i=o.format("YYYY-MM-DD");t[i]=t[i]??{periods:xp.map(({title:l,startTime:d,key:p,color:h})=>{const[v,y]=d.split(":");return{title:l,key:p,id:`resta-anchor-${i}-${p}`,createdAt:o.hour(+v).minute(+y).valueOf(),elements:[],elementsProps:[],color:h,total:0,numberCount:0}}),datetime:r,dateWithWeek:o.format(si),AM:{soldCount:0,recordCount:0,total:0},PM:{soldCount:0,recordCount:0,total:0},today:{soldCount:0,recordCount:0,total:0}};const c=t[i];return{dateData:c,periods:c.periods}}function Pp(t,r=!0){return Object.keys(t).sort((o,i)=>r?i.localeCompare(o):o.localeCompare(i))}function ks(t){const r=new Map;let o=!1;for(const{res:i,amount:c,type:l,value:d}of t.data){if(!i)continue;const p=r.get(i);(p==null?void 0:p.type)===l?(o=!0,p.amount+=_a(c)):r.set(i,{amount:_a(c),type:l,value:d})}if(o&&r.size){const i=Array.from(r).flatMap(([c,{amount:l,type:d,value:p}])=>[{res:c,type:d,value:p,...l>1?{amount:String(l)}:{}},...l>1?[{value:String(l),operator:"*"}]:[],{value:"",operator:"+"}]).slice(0,-1);t.data=i}}const Rs="today";function Mp({datetime:t,searchData:r,dateOrder:o=!0,searchUI:i=!0,reverse:c=!0,orderPageMode:l=!1,vertical:d=l,emptyDescription:p,offset:h=0,limit:v=ah,handleRecords:y,search:b}){t=t??Rs;const k=ot.tz(),q=k.format(si),{API:L}=D.useContext(zr),[S,j]=ku.useNotification(),[V,X]=Is.useModal(),[Y,Z]=D.useMemo(()=>t===Rs?[k.startOf("day").valueOf(),k.endOf("day").valueOf()]:t,[t,q]),W=D.useCallback(()=>{const Se=ot.tz();return Ss(Se.hour(),Se.minute())},[q]),[U,w]=D.useState(W),[he,de]=D.useState([]),le=D.useCallback(Bu(Se=>{de(Se)},500),[]),be=D.useRef(),fe=D.useCallback((Se=!1)=>N(Et,{css:Sp,children:N(Ru,{description:Se?"":p,style:{marginTop:100}})}),[p]),we=D.useCallback(({type:Se,message:je="",description:ze,errorDescription:ue,errorMsg:Gt})=>{S[Se]({message:je,description:ue?pe(It,{children:[N("p",{children:ue}),N("p",{children:pe("small",{children:[" - ",Gt??"Unknown"]})})]}):ze,showProgress:!0,pauseOnHover:Se!=="success",duration:Se==="success"?3:20})},[S]),ge=D.useCallback(async(Se,je)=>{try{switch(je){case"add":{ks(Se);const ze=await L.orders.add(Se);return we({message:"",type:"success",description:"!"}),ze}case"edit":{ks(Se);const ze=await L.orders.set(Se.id,Se);return we({message:"",type:"success",description:`[${Se.number}]!`}),ze}case"delete":return new Promise(ze=>{V.confirm({title:"",content:pe(It,{children:[pe("p",{children:["[",Se.number,"]?"]}),N(Rr,{})]}),okType:"danger",okText:"",cancelText:"",onOk:ue=>{L.orders.delete(Se.id,Se),we({type:"success",description:`[${Se.number}]!`}),ue(),ze(Se.id)},onCancel:()=>{ze(null)},footer:(ue,{OkBtn:Gt,CancelBtn:wt})=>pe(It,{children:[N(Gt,{}),N(wt,{})]})})})}}catch(ze){we({type:"error",message:"",errorDescription:je==="add"?Os[je]:`${Os[je]} - [${Se.number}]`,errorMsg:ze==null?void 0:ze.message})}finally{if(je==="add"){const ze=W();ze!==U&&w(ze)}}return null},[L,V,U,W,we]),Ne=ar(async()=>{const Se=await L.orders.get({startTime:Y,endTime:Z,reverse:c,searchText:r??he,search:b}),je=(y==null?void 0:y(Se))??Se;let ze=0,ue=0,Gt=0,wt=[],ve=null,Pt=null,vn=null,zt=null;const Mt={},sn=je==null?void 0:je.length;if(sn||he.length){const gn=!!(sn===0&&he.length);je==null||je.forEach(Ee=>{const{data:Fe,total:Be,createdAt:Ue}=Ee,{dateData:tt,periods:Ye}=Dp(Mt,Ue);ze+=Be,++tt.today.recordCount;let Qe=0;Fe.forEach(({res:Je,amount:Q})=>{if(Je){const Yt=_a(Q);Qe+=Yt,tt.today.soldCount+=Yt}});const xt=ot.tz(Ue),_t=Ss(xt.hour(),xt.minute()),oe=tt[_t];++oe.recordCount,oe.total+=Be,oe.soldCount+=Qe,ue+=Qe;const Ot=Je=>{++Je.numberCount;const{elements:Q,elementsProps:Yt,numberCount:qt}=Je;Je.total+=Be;const nn=`${Ue}-${qt}`;l?Yt.push({record:Ee,key:nn,number:qt,callOrderAPI:ge}):Q.push(N(Co,{record:Ee,number:qt,callOrderAPI:ge},nn))};if(!Ye.some(Je=>{const{createdAt:Q}=Je;return Ue>=Q?(Ot(Je),!0):!1})){const Je=Ye.at(-1);Ot(Je)}}),wt=Pp(Mt,o),Gt=wt.length,v&&(wt=wt.slice(h,h+v));const tn={};let Ut=null;if(l){if(Ut=Mt[Object.keys(Mt)[0]],Ut){const{periods:Ee}=Ut,Fe=[],Be=Ee.map(({elements:Ue,elementsProps:tt,numberCount:Ye,title:Qe,key:xt,createdAt:_t})=>(tt.forEach((oe,Ot)=>{oe.number=Ye-Ot;const ft=`${_t}-${oe.number}`;Ue.push(Ui(Co,{...oe,key:ft}));const Je=oe.record.number;oe.number=Je,Fe.push(Ui(Co,{...oe,key:`${_t}-${Je}`}))}),{label:Qe,key:xt,children:N(Et,{gap:10,wrap:!0,children:Ue})})).reverse();Be.push({label:Ea[1],key:Ea[0],children:N(Et,{gap:10,wrap:!0,children:Fe})}),Pt=N(As,{tabPosition:"right",items:Be,activeKey:U,onChange:w})}}else wt.forEach(Ee=>{const Fe=`resta-anchor-${Ee}`,Be=Mt[Ee],{periods:Ue,dateWithWeek:tt,datetime:Ye}=Be,Qe=Ee.split("-")[0],xt=`resta-anchor-${Qe}`,_t=tn[Qe]=tn[Qe]??{yearId:xt,dateElements:[],anchorItems:[]},{dateElements:oe,anchorItems:Ot}=_t,ft=ot.tz(Ye).format(rh);Ot.push({key:`${Qe}-${ft}`,href:`#${Fe}`,title:ft,children:[]}),!l&&Ue.reverse();const Je=Ue.filter(({elements:$})=>$.length).map(({elements:$,id:K,color:G,title:se})=>{const xe={backgroundColor:G};return Ot.at(-1).children.push({key:K,href:`#${K}`,title:se}),N(Et,{css:Cp,id:K,"data-title":se,vertical:d,gap:10,wrap:!0,style:xe,children:$},K)}),{today:Q,AM:Yt,PM:qt}=Be,nn=Math.round(Yt.total),Cn=Math.round(qt.total),$n=nn+Cn,R=pe("section",{css:Ep,children:[N("h1",{id:Fe,children:tt}),pe(Et,{css:Ts,justify:"space-between",children:[N(Dn,{title:Zn[0],value:Q.recordCount}),N(Dn,{title:Zn[1],value:Q.soldCount}),N(Dn,{title:Zn[3],prefix:"$",value:nn}),N(Dn,{title:Zn[4],prefix:"$",value:Cn}),N(Dn,{title:Zn[2],prefix:"$",value:$n})]}),Je]},Ee);oe.push(R)});if(!gn){const Ee={css:kp};if(!l){const Fe=[],Be=Object.keys(tn);o&&Be.sort().reverse(),Pt=Be.map(Ue=>{const{yearId:tt,dateElements:Ye,anchorItems:Qe}=tn[Ue];return Fe.push({key:Ue,href:`#${tt}`,title:Ue,children:Qe}),N("article",{id:tt,children:Ye},tt)}),vn=N(Pu,{...Ee,items:Fe,offsetTop:64,targetOffset:100,bounds:220})}}ve=N(Et,{css:_p,gap:8,ref:be,children:pe("div",{css:[Tp,!d&&Op],children:[i&&N(Du,{placeholder:"?",mode:"tags",style:{width:"100%"},allowClear:!0,onChange:le,onKeyUp:Ee=>{Ee.preventDefault(),Ee.stopPropagation()},options:Yf}),gn?fe(gn):N(It,{children:N("div",{className:"resta-orders-content",children:Pt})})]})}),ze=Math.round(ze);const Tt=wt.length===1,me=Tt?Zn:Rp;let ye=sn??0,Pe=ue,$e=ze;if(l&&Ut&&(U==="AM"||U==="PM")){const Ee=Ut[U];ye=Ee.recordCount,Pe=Ee.soldCount,$e=Ee.total}zt=!l&&Tt?null:pe(Et,{css:Ts,justify:"space-between",children:[N("div",{css:!l&&To,children:N(Dn,{title:`${l?So[U]:""}${me[0]}`,value:ye})}),N("div",{css:!l&&To,children:N(Dn,{title:`${l?So[U]:""}${me[1]}`,value:Pe})}),N("div",{css:!l&&To,children:N(Dn,{title:`${l?So[U]:""}${me[2]}`,prefix:"$",value:$e})})]})}else sn===0&&(ve=fe());return{records:je,recordLength:sn,totalCount:ze,totalDays:Gt,soldItemsCount:ue,periodsOrder:wt,orderListElement:ve,anchorElement:vn,summaryElement:zt}},[Y,Z,he,U,r,h,v,c,l,o,i,d,y,b]),Ze=ar(async()=>{let Se=0;if(l){const[je,ze]=[k.startOf("day").valueOf(),k.endOf("day").valueOf()];Se=await L.orders.count({startTime:je,endTime:ze})}return Se},[q,l]),{records:gt,recordLength:Te,totalCount:bt,totalDays:ct,soldItemsCount:lt,periodsOrder:St,orderListElement:dt,anchorElement:en,summaryElement:mt}=Ne??{periodsOrder:[]};return{records:gt,recordLength:Te,totalCount:bt,totalDays:ct,soldItemsCount:lt,periodsOrder:St,lastRecordNumber:Ze,orderListElement:pe(It,{children:[j,X,dt]}),anchorElement:en,summaryElement:mt,contentRef:be,callOrderAPI:ge}}const Ds=[pe(It,{children:[N("p",{children:"? ? ?"}),N("p",{children:""})]}),pe(It,{children:[N("p",{children:""}),N("p",{children:""})]}),pe(It,{children:[N("p",{children:"..."}),N("p",{children:""})]}),pe(It,{children:[N("p",{children:""}),N("p",{children:""})]}),pe(It,{children:[N("p",{children:""}),N("p",{children:""})]}),pe(It,{children:[N("p",{children:""}),N("p",{children:""})]}),pe(It,{children:[N("p",{children:""}),N("p",{children:"8"})]})],Ap=ce`
  position: relative;
  overflow: hidden;

  .resta-order-card {
    // for iPad 10
    @media only screen and (max-device-width: 1080px) and (orientation: landscape) {
      --resta-order-card-width: ${Sc};
    }
  }

  .ant-drawer {
    .ant-drawer-header {
      background: radial-gradient(
        circle at 10% 20%,
        #cef5e6 42%,
        #c0e9f9 93.6%
      );
    }
    .ant-drawer-body {
      overflow: hidden;
    }
  }

  .ant-empty {
    font-size: 1rem;
  }
`,Ip=ce`
  position: relative;
`,$p=D.memo(()=>{const{DATE_FORMAT:t}=D.useContext(zr),{orderListElement:r,summaryElement:o,lastRecordNumber:i,contentRef:c,callOrderAPI:l}=Mp({datetime:"today",orderPageMode:!0,emptyDescription:Ds[Math.floor(Math.random()*Ds.length)]}),d=D.useCallback(p=>{var h,v,y;p==="add"&&((y=(v=(h=c.current)==null?void 0:h.querySelector(".ant-tabs-tabpane"))==null?void 0:v.scroll)==null||y.call(v,0,0))},[c]);return pe("div",{css:Ap,children:[N(tp,{lastRecordNumber:i,callOrderAPI:l,submitCallback:d}),N(Mu,{css:Ip,title:pe("span",{children:[" - ",ot.tz().format(t)]}),getContainer:!1,placement:"right",open:!0,mask:!1,closeIcon:null,footer:o,children:r})]})}),Oo=t=>{const r=D.lazy(t);return N(D.Suspense,{children:N(r,{})})},Lp=D.memo(()=>{const t=N($p,{});return N(Qd,{children:pe(Mn,{element:N(jf,{}),children:[N(Mn,{path:"/",element:t}),N(Mn,{path:"order",element:t}),N(Mn,{path:"order-list",element:Oo(()=>wo(()=>import("./index-291Fi1Vv.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url))}),N(Mn,{path:"statistics",element:Oo(()=>wo(()=>import("./index-Cqj8VJU_.js"),__vite__mapDeps([6,1,2,3,7,4,5]),import.meta.url))}),N(Mn,{path:"settings",element:Oo(()=>wo(()=>import("./index-DdMyTRU3.js"),__vite__mapDeps([8,1,3,2,4,5]),import.meta.url))}),N(Mn,{path:"login",element:N(It,{children:"Login"})})]})})}),Bp=tf([{path:"*",element:N(Lp,{})}]),Np=()=>pe(zr.Provider,{value:Pc,children:[N(jl,{styles:[Pf]}),N(Au,{theme:{components:If},children:N(df,{router:Bp})})]});tc(document.getElementById("root")).render(N(Np,{}));export{zr as A,_n as C,th as D,It as F,tp as K,Jp as L,qf as M,ms as N,ah as O,gf as Q,N as a,nh as b,Yf as c,am as d,im as e,sm as f,ce as g,nm as h,or as i,pe as j,om as k,rm as l,tm as m,sh as n,ih as o,ai as p,Df as q,ar as r,cm as s,um as t,Mp as u,Ss as v,_a as w,em as x};
