const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CECCKTF2.js","./react-DQrQyBkK.js","./antd-CsVyReHd.js","./StickyHeader-KX7zxFTT.js","./lodash-EY-pETZd.js","./mathjs-FsHcr6tf.js","./index-DsOfUyw8.js","./chartjs-BfNRQnNB.js","./index-CSWg37Qk.js"])))=>i.map(i=>d[i]);
import{r as k,b as Ro,c as lu,d as du,e as Un,g as ur,R as xr}from"./react-DQrQyBkK.js";import{d as fu,b as at,F as Gn,R as hu,c as pu,e as mu,f as yu,g as vu,h as As,B as _r,i as wt,D as $i,T as Do,S as Vt,j as Ms,k as Is,l as sa,m as gu,I as bu,M as $s,n as wu,o as xu,p as Ko,q as _u,r as Eu,s as Cu,t as Su,u as Rr,v as Tu,w as Ou,x as ku,E as Ru,y as Dn,z as Du,A as Pu,C as Au,G as Mu}from"./antd-CsVyReHd.js";import{i as zo,f as Iu,t as $u,p as Lu,d as Bu}from"./lodash-EY-pETZd.js";import{c as Nu,e as ju,u as Fu}from"./mathjs-FsHcr6tf.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function o(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(c){if(c.ep)return;c.ep=!0;const l=o(c);fetch(c.href,l)}})();var Ls={exports:{}},Ca={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku=k,zu=Symbol.for("react.element"),Uu=Symbol.for("react.fragment"),Yu=Object.prototype.hasOwnProperty,qu=Ku.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hu={key:!0,ref:!0,__self:!0,__source:!0};function Bs(t,r,o){var i,c={},l=null,d=null;o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),r.ref!==void 0&&(d=r.ref);for(i in r)Yu.call(r,i)&&!Hu.hasOwnProperty(i)&&(c[i]=r[i]);if(t&&t.defaultProps)for(i in r=t.defaultProps,r)c[i]===void 0&&(c[i]=r[i]);return{$$typeof:zu,type:t,key:l,ref:d,props:c,_owner:qu.current}}Ca.Fragment=Uu;Ca.jsx=Bs;Ca.jsxs=Bs;Ls.exports=Ca;var Dr=Ls.exports,Wu=!1;function Vu(t){if(t.sheet)return t.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===t)return document.styleSheets[r]}function Gu(t){var r=document.createElement("style");return r.setAttribute("data-emotion",t.key),t.nonce!==void 0&&r.setAttribute("nonce",t.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var Xu=function(){function t(o){var i=this;this._insertTag=function(c){var l;i.tags.length===0?i.insertionPoint?l=i.insertionPoint.nextSibling:i.prepend?l=i.container.firstChild:l=i.before:l=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(c,l),i.tags.push(c)},this.isSpeedy=o.speedy===void 0?!Wu:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var r=t.prototype;return r.hydrate=function(i){i.forEach(this._insertTag)},r.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Gu(this));var c=this.tags[this.tags.length-1];if(this.isSpeedy){var l=Vu(c);try{l.insertRule(i,l.cssRules.length)}catch{}}else c.appendChild(document.createTextNode(i));this.ctr++},r.flush=function(){this.tags.forEach(function(i){var c;return(c=i.parentNode)==null?void 0:c.removeChild(i)}),this.tags=[],this.ctr=0},t}(),Bt="-ms-",va="-moz-",qe="-webkit-",Ns="comm",Uo="rule",Yo="decl",Zu="@import",js="@keyframes",Qu="@layer",Ju=Math.abs,Sa=String.fromCharCode,el=Object.assign;function tl(t,r){return At(t,0)^45?(((r<<2^At(t,0))<<2^At(t,1))<<2^At(t,2))<<2^At(t,3):0}function Fs(t){return t.trim()}function nl(t,r){return(t=r.exec(t))?t[0]:t}function He(t,r,o){return t.replace(r,o)}function Po(t,r){return t.indexOf(r)}function At(t,r){return t.charCodeAt(r)|0}function Pr(t,r,o){return t.slice(r,o)}function mn(t){return t.length}function qo(t){return t.length}function ca(t,r){return r.push(t),t}function rl(t,r){return t.map(r).join("")}var Ta=1,or=1,Ks=0,Gt=0,xt=0,lr="";function Oa(t,r,o,i,c,l,d){return{value:t,root:r,parent:o,type:i,props:c,children:l,line:Ta,column:or,length:d,return:""}}function Er(t,r){return el(Oa("",null,null,"",null,null,0),t,{length:-t.length},r)}function al(){return xt}function ol(){return xt=Gt>0?At(lr,--Gt):0,or--,xt===10&&(or=1,Ta--),xt}function Qt(){return xt=Gt<Ks?At(lr,Gt++):0,or++,xt===10&&(or=1,Ta++),xt}function vn(){return At(lr,Gt)}function ha(){return Gt}function Nr(t,r){return Pr(lr,t,r)}function Ar(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zs(t){return Ta=or=1,Ks=mn(lr=t),Gt=0,[]}function Us(t){return lr="",t}function pa(t){return Fs(Nr(Gt-1,Ao(t===91?t+2:t===40?t+1:t)))}function il(t){for(;(xt=vn())&&xt<33;)Qt();return Ar(t)>2||Ar(xt)>3?"":" "}function sl(t,r){for(;--r&&Qt()&&!(xt<48||xt>102||xt>57&&xt<65||xt>70&&xt<97););return Nr(t,ha()+(r<6&&vn()==32&&Qt()==32))}function Ao(t){for(;Qt();)switch(xt){case t:return Gt;case 34:case 39:t!==34&&t!==39&&Ao(xt);break;case 40:t===41&&Ao(t);break;case 92:Qt();break}return Gt}function cl(t,r){for(;Qt()&&t+xt!==57;)if(t+xt===84&&vn()===47)break;return"/*"+Nr(r,Gt-1)+"*"+Sa(t===47?t:Qt())}function ul(t){for(;!Ar(vn());)Qt();return Nr(t,Gt)}function ll(t){return Us(ma("",null,null,null,[""],t=zs(t),0,[0],t))}function ma(t,r,o,i,c,l,d,h,p){for(var v=0,y=0,b=d,M=0,q=0,I=0,S=1,B=1,W=1,Z=0,Y="",X=c,U=l,V=i,x=Y;B;)switch(I=Z,Z=Qt()){case 40:if(I!=108&&At(x,b-1)==58){Po(x+=He(pa(Z),"&","&\f"),"&\f")!=-1&&(W=-1);break}case 34:case 39:case 91:x+=pa(Z);break;case 9:case 10:case 13:case 32:x+=il(I);break;case 92:x+=sl(ha()-1,7);continue;case 47:switch(vn()){case 42:case 47:ca(dl(cl(Qt(),ha()),r,o),p);break;default:x+="/"}break;case 123*S:h[v++]=mn(x)*W;case 125*S:case 59:case 0:switch(Z){case 0:case 125:B=0;case 59+y:W==-1&&(x=He(x,/\f/g,"")),q>0&&mn(x)-b&&ca(q>32?Bi(x+";",i,o,b-1):Bi(He(x," ","")+";",i,o,b-2),p);break;case 59:x+=";";default:if(ca(V=Li(x,r,o,v,y,c,h,Y,X=[],U=[],b),l),Z===123)if(y===0)ma(x,r,V,V,X,l,b,h,U);else switch(M===99&&At(x,3)===110?100:M){case 100:case 108:case 109:case 115:ma(t,V,V,i&&ca(Li(t,V,V,0,0,c,h,Y,c,X=[],b),U),c,U,b,h,i?X:U);break;default:ma(x,V,V,V,[""],U,0,h,U)}}v=y=q=0,S=W=1,Y=x="",b=d;break;case 58:b=1+mn(x),q=I;default:if(S<1){if(Z==123)--S;else if(Z==125&&S++==0&&ol()==125)continue}switch(x+=Sa(Z),Z*S){case 38:W=y>0?1:(x+="\f",-1);break;case 44:h[v++]=(mn(x)-1)*W,W=1;break;case 64:vn()===45&&(x+=pa(Qt())),M=vn(),y=b=mn(Y=x+=ul(ha())),Z++;break;case 45:I===45&&mn(x)==2&&(S=0)}}return l}function Li(t,r,o,i,c,l,d,h,p,v,y){for(var b=c-1,M=c===0?l:[""],q=qo(M),I=0,S=0,B=0;I<i;++I)for(var W=0,Z=Pr(t,b+1,b=Ju(S=d[I])),Y=t;W<q;++W)(Y=Fs(S>0?M[W]+" "+Z:He(Z,/&\f/g,M[W])))&&(p[B++]=Y);return Oa(t,r,o,c===0?Uo:h,p,v,y)}function dl(t,r,o){return Oa(t,r,o,Ns,Sa(al()),Pr(t,2,-2),0)}function Bi(t,r,o,i){return Oa(t,r,o,Yo,Pr(t,0,i),Pr(t,i+1,-1),i)}function nr(t,r){for(var o="",i=qo(t),c=0;c<i;c++)o+=r(t[c],c,t,r)||"";return o}function fl(t,r,o,i){switch(t.type){case Qu:if(t.children.length)break;case Zu:case Yo:return t.return=t.return||t.value;case Ns:return"";case js:return t.return=t.value+"{"+nr(t.children,i)+"}";case Uo:t.value=t.props.join(",")}return mn(o=nr(t.children,i))?t.return=t.value+"{"+o+"}":""}function hl(t){var r=qo(t);return function(o,i,c,l){for(var d="",h=0;h<r;h++)d+=t[h](o,i,c,l)||"";return d}}function pl(t){return function(r){r.root||(r=r.return)&&t(r)}}var ml=function(r,o,i){for(var c=0,l=0;c=l,l=vn(),c===38&&l===12&&(o[i]=1),!Ar(l);)Qt();return Nr(r,Gt)},yl=function(r,o){var i=-1,c=44;do switch(Ar(c)){case 0:c===38&&vn()===12&&(o[i]=1),r[i]+=ml(Gt-1,o,i);break;case 2:r[i]+=pa(c);break;case 4:if(c===44){r[++i]=vn()===58?"&\f":"",o[i]=r[i].length;break}default:r[i]+=Sa(c)}while(c=Qt());return r},vl=function(r,o){return Us(yl(zs(r),o))},Ni=new WeakMap,gl=function(r){if(!(r.type!=="rule"||!r.parent||r.length<1)){for(var o=r.value,i=r.parent,c=r.column===i.column&&r.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(r.props.length===1&&o.charCodeAt(0)!==58&&!Ni.get(i))&&!c){Ni.set(r,!0);for(var l=[],d=vl(o,l),h=i.props,p=0,v=0;p<d.length;p++)for(var y=0;y<h.length;y++,v++)r.props[v]=l[p]?d[p].replace(/&\f/g,h[y]):h[y]+" "+d[p]}}},bl=function(r){if(r.type==="decl"){var o=r.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(r.return="",r.value="")}};function Ys(t,r){switch(tl(t,r)){case 5103:return qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return qe+t+va+t+Bt+t+t;case 6828:case 4268:return qe+t+Bt+t+t;case 6165:return qe+t+Bt+"flex-"+t+t;case 5187:return qe+t+He(t,/(\w+).+(:[^]+)/,qe+"box-$1$2"+Bt+"flex-$1$2")+t;case 5443:return qe+t+Bt+"flex-item-"+He(t,/flex-|-self/,"")+t;case 4675:return qe+t+Bt+"flex-line-pack"+He(t,/align-content|flex-|-self/,"")+t;case 5548:return qe+t+Bt+He(t,"shrink","negative")+t;case 5292:return qe+t+Bt+He(t,"basis","preferred-size")+t;case 6060:return qe+"box-"+He(t,"-grow","")+qe+t+Bt+He(t,"grow","positive")+t;case 4554:return qe+He(t,/([^-])(transform)/g,"$1"+qe+"$2")+t;case 6187:return He(He(He(t,/(zoom-|grab)/,qe+"$1"),/(image-set)/,qe+"$1"),t,"")+t;case 5495:case 3959:return He(t,/(image-set\([^]*)/,qe+"$1$`$1");case 4968:return He(He(t,/(.+:)(flex-)?(.*)/,qe+"box-pack:$3"+Bt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qe+t+t;case 4095:case 3583:case 4068:case 2532:return He(t,/(.+)-inline(.+)/,qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mn(t)-1-r>6)switch(At(t,r+1)){case 109:if(At(t,r+4)!==45)break;case 102:return He(t,/(.+:)(.+)-([^]+)/,"$1"+qe+"$2-$3$1"+va+(At(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~Po(t,"stretch")?Ys(He(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(At(t,r+1)!==115)break;case 6444:switch(At(t,mn(t)-3-(~Po(t,"!important")&&10))){case 107:return He(t,":",":"+qe)+t;case 101:return He(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qe+(At(t,14)===45?"inline-":"")+"box$3$1"+qe+"$2$3$1"+Bt+"$2box$3")+t}break;case 5936:switch(At(t,r+11)){case 114:return qe+t+Bt+He(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return qe+t+Bt+He(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return qe+t+Bt+He(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return qe+t+Bt+t+t}return t}var wl=function(r,o,i,c){if(r.length>-1&&!r.return)switch(r.type){case Yo:r.return=Ys(r.value,r.length);break;case js:return nr([Er(r,{value:He(r.value,"@","@"+qe)})],c);case Uo:if(r.length)return rl(r.props,function(l){switch(nl(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nr([Er(r,{props:[He(l,/:(read-\w+)/,":"+va+"$1")]})],c);case"::placeholder":return nr([Er(r,{props:[He(l,/:(plac\w+)/,":"+qe+"input-$1")]}),Er(r,{props:[He(l,/:(plac\w+)/,":"+va+"$1")]}),Er(r,{props:[He(l,/:(plac\w+)/,Bt+"input-$1")]})],c)}return""})}},xl=[wl],qs=function(r){var o=r.key;if(o==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(S){var B=S.getAttribute("data-emotion");B.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var c=r.stylisPlugins||xl,l={},d,h=[];d=r.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(S){for(var B=S.getAttribute("data-emotion").split(" "),W=1;W<B.length;W++)l[B[W]]=!0;h.push(S)});var p,v=[gl,bl];{var y,b=[fl,pl(function(S){y.insert(S)})],M=hl(v.concat(c,b)),q=function(B){return nr(ll(B),M)};p=function(B,W,Z,Y){y=Z,q(B?B+"{"+W.styles+"}":W.styles),Y&&(I.inserted[W.name]=!0)}}var I={key:o,sheet:new Xu({key:o,container:d,nonce:r.nonce,speedy:r.speedy,prepend:r.prepend,insertionPoint:r.insertionPoint}),nonce:r.nonce,inserted:l,registered:{},insert:p};return I.sheet.hydrate(h),I},Hs={exports:{}},Xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt=typeof Symbol=="function"&&Symbol.for,Ho=kt?Symbol.for("react.element"):60103,Wo=kt?Symbol.for("react.portal"):60106,ka=kt?Symbol.for("react.fragment"):60107,Ra=kt?Symbol.for("react.strict_mode"):60108,Da=kt?Symbol.for("react.profiler"):60114,Pa=kt?Symbol.for("react.provider"):60109,Aa=kt?Symbol.for("react.context"):60110,Vo=kt?Symbol.for("react.async_mode"):60111,Ma=kt?Symbol.for("react.concurrent_mode"):60111,Ia=kt?Symbol.for("react.forward_ref"):60112,$a=kt?Symbol.for("react.suspense"):60113,_l=kt?Symbol.for("react.suspense_list"):60120,La=kt?Symbol.for("react.memo"):60115,Ba=kt?Symbol.for("react.lazy"):60116,El=kt?Symbol.for("react.block"):60121,Cl=kt?Symbol.for("react.fundamental"):60117,Sl=kt?Symbol.for("react.responder"):60118,Tl=kt?Symbol.for("react.scope"):60119;function Jt(t){if(typeof t=="object"&&t!==null){var r=t.$$typeof;switch(r){case Ho:switch(t=t.type,t){case Vo:case Ma:case ka:case Da:case Ra:case $a:return t;default:switch(t=t&&t.$$typeof,t){case Aa:case Ia:case Ba:case La:case Pa:return t;default:return r}}case Wo:return r}}}function Ws(t){return Jt(t)===Ma}Xe.AsyncMode=Vo;Xe.ConcurrentMode=Ma;Xe.ContextConsumer=Aa;Xe.ContextProvider=Pa;Xe.Element=Ho;Xe.ForwardRef=Ia;Xe.Fragment=ka;Xe.Lazy=Ba;Xe.Memo=La;Xe.Portal=Wo;Xe.Profiler=Da;Xe.StrictMode=Ra;Xe.Suspense=$a;Xe.isAsyncMode=function(t){return Ws(t)||Jt(t)===Vo};Xe.isConcurrentMode=Ws;Xe.isContextConsumer=function(t){return Jt(t)===Aa};Xe.isContextProvider=function(t){return Jt(t)===Pa};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ho};Xe.isForwardRef=function(t){return Jt(t)===Ia};Xe.isFragment=function(t){return Jt(t)===ka};Xe.isLazy=function(t){return Jt(t)===Ba};Xe.isMemo=function(t){return Jt(t)===La};Xe.isPortal=function(t){return Jt(t)===Wo};Xe.isProfiler=function(t){return Jt(t)===Da};Xe.isStrictMode=function(t){return Jt(t)===Ra};Xe.isSuspense=function(t){return Jt(t)===$a};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ka||t===Ma||t===Da||t===Ra||t===$a||t===_l||typeof t=="object"&&t!==null&&(t.$$typeof===Ba||t.$$typeof===La||t.$$typeof===Pa||t.$$typeof===Aa||t.$$typeof===Ia||t.$$typeof===Cl||t.$$typeof===Sl||t.$$typeof===Tl||t.$$typeof===El)};Xe.typeOf=Jt;Hs.exports=Xe;var Ol=Hs.exports,Vs=Ol,kl={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Rl={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Gs={};Gs[Vs.ForwardRef]=kl;Gs[Vs.Memo]=Rl;var Dl=!0;function Go(t,r,o){var i="";return o.split(" ").forEach(function(c){t[c]!==void 0?r.push(t[c]+";"):c&&(i+=c+" ")}),i}var Xs=function(r,o,i){var c=r.key+"-"+o.name;(i===!1||Dl===!1)&&r.registered[c]===void 0&&(r.registered[c]=o.styles)},Xo=function(r,o,i){Xs(r,o,i);var c=r.key+"-"+o.name;if(r.inserted[o.name]===void 0){var l=o;do r.insert(o===l?"."+c:"",l,r.sheet,!0),l=l.next;while(l!==void 0)}};function Pl(t){for(var r=0,o,i=0,c=t.length;c>=4;++i,c-=4)o=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,r=(o&65535)*1540483477+((o>>>16)*59797<<16)^(r&65535)*1540483477+((r>>>16)*59797<<16);switch(c){case 3:r^=(t.charCodeAt(i+2)&255)<<16;case 2:r^=(t.charCodeAt(i+1)&255)<<8;case 1:r^=t.charCodeAt(i)&255,r=(r&65535)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,r=(r&65535)*1540483477+((r>>>16)*59797<<16),((r^r>>>15)>>>0).toString(36)}var Al={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ml(t){var r=Object.create(null);return function(o){return r[o]===void 0&&(r[o]=t(o)),r[o]}}var Il=/[A-Z]|^ms/g,$l=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Zs=function(r){return r.charCodeAt(1)===45},ji=function(r){return r!=null&&typeof r!="boolean"},yo=Ml(function(t){return Zs(t)?t:t.replace(Il,"-$&").toLowerCase()}),Fi=function(r,o){switch(r){case"animation":case"animationName":if(typeof o=="string")return o.replace($l,function(i,c,l){return yn={name:c,styles:l,next:yn},c})}return Al[r]!==1&&!Zs(r)&&typeof o=="number"&&o!==0?o+"px":o};function Mr(t,r,o){if(o==null)return"";var i=o;if(i.__emotion_styles!==void 0)return i;switch(typeof o){case"boolean":return"";case"object":{var c=o;if(c.anim===1)return yn={name:c.name,styles:c.styles,next:yn},c.name;var l=o;if(l.styles!==void 0){var d=l.next;if(d!==void 0)for(;d!==void 0;)yn={name:d.name,styles:d.styles,next:yn},d=d.next;var h=l.styles+";";return h}return Ll(t,r,o)}case"function":{if(t!==void 0){var p=yn,v=o(t);return yn=p,Mr(t,r,v)}break}}var y=o;if(r==null)return y;var b=r[y];return b!==void 0?b:y}function Ll(t,r,o){var i="";if(Array.isArray(o))for(var c=0;c<o.length;c++)i+=Mr(t,r,o[c])+";";else for(var l in o){var d=o[l];if(typeof d!="object"){var h=d;r!=null&&r[h]!==void 0?i+=l+"{"+r[h]+"}":ji(h)&&(i+=yo(l)+":"+Fi(l,h)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&(r==null||r[d[0]]===void 0))for(var p=0;p<d.length;p++)ji(d[p])&&(i+=yo(l)+":"+Fi(l,d[p])+";");else{var v=Mr(t,r,d);switch(l){case"animation":case"animationName":{i+=yo(l)+":"+v+";";break}default:i+=l+"{"+v+"}"}}}return i}var Ki=/label:\s*([^\s;{]+)\s*(;|$)/g,yn;function rr(t,r,o){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,c="";yn=void 0;var l=t[0];if(l==null||l.raw===void 0)i=!1,c+=Mr(o,r,l);else{var d=l;c+=d[0]}for(var h=1;h<t.length;h++)if(c+=Mr(o,r,t[h]),i){var p=l;c+=p[h]}Ki.lastIndex=0;for(var v="",y;(y=Ki.exec(c))!==null;)v+="-"+y[1];var b=Pl(c)+v;return{name:b,styles:c,next:yn}}var Bl=function(r){return r()},Qs=Ro.useInsertionEffect?Ro.useInsertionEffect:!1,Nl=Qs||Bl,zi=Qs||k.useLayoutEffect,jr={}.hasOwnProperty,Js=k.createContext(typeof HTMLElement<"u"?qs({key:"css"}):null);Js.Provider;var ec=function(r){return k.forwardRef(function(o,i){var c=k.useContext(Js);return r(o,c,i)})},tc=k.createContext({}),Mo="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Zo=function(r,o){var i={};for(var c in o)jr.call(o,c)&&(i[c]=o[c]);return i[Mo]=r,i},jl=function(r){var o=r.cache,i=r.serialized,c=r.isStringTag;return Xs(o,i,c),Nl(function(){return Xo(o,i,c)}),null},Fl=ec(function(t,r,o){var i=t.css;typeof i=="string"&&r.registered[i]!==void 0&&(i=r.registered[i]);var c=t[Mo],l=[i],d="";typeof t.className=="string"?d=Go(r.registered,l,t.className):t.className!=null&&(d=t.className+" ");var h=rr(l,void 0,k.useContext(tc));d+=r.key+"-"+h.name;var p={};for(var v in t)jr.call(t,v)&&v!=="css"&&v!==Mo&&(p[v]=t[v]);return p.ref=o,p.className=d,k.createElement(k.Fragment,null,k.createElement(jl,{cache:r,serialized:h,isStringTag:typeof c=="string"}),k.createElement(c,p))}),Qo=Fl,Mt=Dr.Fragment;function j(t,r,o){return jr.call(r,"css")?Dr.jsx(Qo,Zo(t,r),o):Dr.jsx(t,r,o)}function pe(t,r,o){return jr.call(r,"css")?Dr.jsxs(Qo,Zo(t,r),o):Dr.jsxs(t,r,o)}var nc,Ui=lu;nc=Ui.createRoot,Ui.hydrateRoot;var Yi=function(r,o){var i=arguments;if(o==null||!jr.call(o,"css"))return k.createElement.apply(void 0,i);var c=i.length,l=new Array(c);l[0]=Qo,l[1]=Zo(r,o);for(var d=2;d<c;d++)l[d]=i[d];return k.createElement.apply(null,l)},Kl=ec(function(t,r){var o=t.styles,i=rr([o],void 0,k.useContext(tc)),c=k.useRef();return zi(function(){var l=r.key+"-global",d=new r.sheet.constructor({key:l,nonce:r.sheet.nonce,container:r.sheet.container,speedy:r.sheet.isSpeedy}),h=!1,p=document.querySelector('style[data-emotion="'+l+" "+i.name+'"]');return r.sheet.tags.length&&(d.before=r.sheet.tags[0]),p!==null&&(h=!0,p.setAttribute("data-emotion",l),d.hydrate([p])),c.current=[d,h],function(){d.flush()}},[r]),zi(function(){var l=c.current,d=l[0],h=l[1];if(h){l[1]=!1;return}if(i.next!==void 0&&Xo(r,i.next,!0),d.tags.length){var p=d.tags[d.tags.length-1].nextElementSibling;d.before=p,d.flush()}r.insert("",i,d,!1)},[r,i.name]),null});function ce(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return rr(r)}/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dt(){return dt=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},dt.apply(this,arguments)}var vt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vt||(vt={}));const qi="popstate";function zl(t){t===void 0&&(t={});function r(i,c){let{pathname:l,search:d,hash:h}=i.location;return Ir("",{pathname:l,search:d,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(i,c){return typeof c=="string"?c:Fr(c)}return Yl(r,o,null,t)}function Pe(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function ir(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Ul(){return Math.random().toString(36).substr(2,8)}function Hi(t,r){return{usr:t.state,key:t.key,idx:r}}function Ir(t,r,o,i){return o===void 0&&(o=null),dt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?En(r):r,{state:o,key:r&&r.key||i||Ul()})}function Fr(t){let{pathname:r="/",search:o="",hash:i=""}=t;return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function En(t){let r={};if(t){let o=t.indexOf("#");o>=0&&(r.hash=t.substr(o),t=t.substr(0,o));let i=t.indexOf("?");i>=0&&(r.search=t.substr(i),t=t.substr(0,i)),t&&(r.pathname=t)}return r}function Yl(t,r,o,i){i===void 0&&(i={});let{window:c=document.defaultView,v5Compat:l=!1}=i,d=c.history,h=vt.Pop,p=null,v=y();v==null&&(v=0,d.replaceState(dt({},d.state,{idx:v}),""));function y(){return(d.state||{idx:null}).idx}function b(){h=vt.Pop;let B=y(),W=B==null?null:B-v;v=B,p&&p({action:h,location:S.location,delta:W})}function M(B,W){h=vt.Push;let Z=Ir(S.location,B,W);v=y()+1;let Y=Hi(Z,v),X=S.createHref(Z);try{d.pushState(Y,"",X)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;c.location.assign(X)}l&&p&&p({action:h,location:S.location,delta:1})}function q(B,W){h=vt.Replace;let Z=Ir(S.location,B,W);v=y();let Y=Hi(Z,v),X=S.createHref(Z);d.replaceState(Y,"",X),l&&p&&p({action:h,location:S.location,delta:0})}function I(B){let W=c.location.origin!=="null"?c.location.origin:c.location.href,Z=typeof B=="string"?B:Fr(B);return Z=Z.replace(/ $/,"%20"),Pe(W,"No window.location.(origin|href) available to create URL for href: "+Z),new URL(Z,W)}let S={get action(){return h},get location(){return t(c,d)},listen(B){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(qi,b),p=B,()=>{c.removeEventListener(qi,b),p=null}},createHref(B){return r(c,B)},createURL:I,encodeLocation(B){let W=I(B);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:M,replace:q,go(B){return d.go(B)}};return S}var lt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lt||(lt={}));const ql=new Set(["lazy","caseSensitive","path","id","index","children"]);function Hl(t){return t.index===!0}function Io(t,r,o,i){return o===void 0&&(o=[]),i===void 0&&(i={}),t.map((c,l)=>{let d=[...o,l],h=typeof c.id=="string"?c.id:d.join("-");if(Pe(c.index!==!0||!c.children,"Cannot specify children on an index route"),Pe(!i[h],'Found a route id collision on id "'+h+`".  Route id's must be globally unique within Data Router usages`),Hl(c)){let p=dt({},c,r(c),{id:h});return i[h]=p,p}else{let p=dt({},c,r(c),{id:h,children:void 0});return i[h]=p,c.children&&(p.children=Io(c.children,r,d,i)),p}})}function Jn(t,r,o){o===void 0&&(o="/");let i=typeof r=="string"?En(r):r,c=Kr(i.pathname||"/",o);if(c==null)return null;let l=rc(t);Vl(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let p=id(c);d=rd(l[h],p)}return d}function Wl(t,r){let{route:o,pathname:i,params:c}=t;return{id:o.id,pathname:i,params:c,data:r[o.id],handle:o.handle}}function rc(t,r,o,i){r===void 0&&(r=[]),o===void 0&&(o=[]),i===void 0&&(i="");let c=(l,d,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(Pe(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let v=Mn([i,p.relativePath]),y=o.concat(p);l.children&&l.children.length>0&&(Pe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),rc(l.children,r,y,v)),!(l.path==null&&!l.index)&&r.push({path:v,score:td(v,l.index),routesMeta:y})};return t.forEach((l,d)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))c(l,d);else for(let p of ac(l.path))c(l,d,p)}),r}function ac(t){let r=t.split("/");if(r.length===0)return[];let[o,...i]=r,c=o.endsWith("?"),l=o.replace(/\?$/,"");if(i.length===0)return c?[l,""]:[l];let d=ac(i.join("/")),h=[];return h.push(...d.map(p=>p===""?l:[l,p].join("/"))),c&&h.push(...d),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function Vl(t){t.sort((r,o)=>r.score!==o.score?o.score-r.score:nd(r.routesMeta.map(i=>i.childrenIndex),o.routesMeta.map(i=>i.childrenIndex)))}const Gl=/^:[\w-]+$/,Xl=3,Zl=2,Ql=1,Jl=10,ed=-2,Wi=t=>t==="*";function td(t,r){let o=t.split("/"),i=o.length;return o.some(Wi)&&(i+=ed),r&&(i+=Zl),o.filter(c=>!Wi(c)).reduce((c,l)=>c+(Gl.test(l)?Xl:l===""?Ql:Jl),i)}function nd(t,r){return t.length===r.length&&t.slice(0,-1).every((i,c)=>i===r[c])?t[t.length-1]-r[r.length-1]:0}function rd(t,r){let{routesMeta:o}=t,i={},c="/",l=[];for(let d=0;d<o.length;++d){let h=o[d],p=d===o.length-1,v=c==="/"?r:r.slice(c.length)||"/",y=ad({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v);if(!y)return null;Object.assign(i,y.params);let b=h.route;l.push({params:i,pathname:Mn([c,y.pathname]),pathnameBase:ud(Mn([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=Mn([c,y.pathnameBase]))}return l}function ad(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[o,i]=od(t.path,t.caseSensitive,t.end),c=r.match(o);if(!c)return null;let l=c[0],d=l.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:i.reduce((v,y,b)=>{let{paramName:M,isOptional:q}=y;if(M==="*"){let S=h[b]||"";d=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const I=h[b];return q&&!I?v[M]=void 0:v[M]=(I||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:d,pattern:t}}function od(t,r,o){r===void 0&&(r=!1),o===void 0&&(o=!0),ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],c="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),c+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":t!==""&&t!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),i]}function id(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ir(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function Kr(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,i=t.charAt(o);return i&&i!=="/"?null:t.slice(o)||"/"}function sd(t,r){r===void 0&&(r="/");let{pathname:o,search:i="",hash:c=""}=typeof t=="string"?En(t):t;return{pathname:o?o.startsWith("/")?o:cd(o,r):r,search:ld(i),hash:dd(c)}}function cd(t,r){let o=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function vo(t,r,o,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oc(t){return t.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function ic(t,r){let o=oc(t);return r?o.map((i,c)=>c===t.length-1?i.pathname:i.pathnameBase):o.map(i=>i.pathnameBase)}function sc(t,r,o,i){i===void 0&&(i=!1);let c;typeof t=="string"?c=En(t):(c=dt({},t),Pe(!c.pathname||!c.pathname.includes("?"),vo("?","pathname","search",c)),Pe(!c.pathname||!c.pathname.includes("#"),vo("#","pathname","hash",c)),Pe(!c.search||!c.search.includes("#"),vo("#","search","hash",c)));let l=t===""||c.pathname==="",d=l?"/":c.pathname,h;if(d==null)h=o;else{let b=r.length-1;if(!i&&d.startsWith("..")){let M=d.split("/");for(;M[0]==="..";)M.shift(),b-=1;c.pathname=M.join("/")}h=b>=0?r[b]:"/"}let p=sd(c,h),v=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&o.endsWith("/");return!p.pathname.endsWith("/")&&(v||y)&&(p.pathname+="/"),p}const Mn=t=>t.join("/").replace(/\/\/+/g,"/"),ud=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ld=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dd=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Jo{constructor(r,o,i,c){c===void 0&&(c=!1),this.status=r,this.statusText=o||"",this.internal=c,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function ei(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cc=["post","put","patch","delete"],fd=new Set(cc),hd=["get",...cc],pd=new Set(hd),md=new Set([301,302,303,307,308]),yd=new Set([307,308]),go={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vd={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ti=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gd=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),uc="remix-router-transitions";function bd(t){const r=t.window?t.window:typeof window<"u"?window:void 0,o=typeof r<"u"&&typeof r.document<"u"&&typeof r.document.createElement<"u",i=!o;Pe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let c;if(t.mapRouteProperties)c=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;c=L=>({hasErrorBoundary:R(L)})}else c=gd;let l={},d=Io(t.routes,c,void 0,l),h,p=t.basename||"/",v=t.unstable_dataStrategy||Ed,y=dt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),b=null,M=new Set,q=null,I=null,S=null,B=t.hydrationData!=null,W=Jn(d,t.history.location,p),Z=null;if(W==null){let R=nn(404,{pathname:t.history.location.pathname}),{matches:L,route:K}=rs(d);W=L,Z={[K.id]:R}}let Y,X=W.some(R=>R.route.lazy),U=W.some(R=>R.route.loader);if(X)Y=!1;else if(!U)Y=!0;else if(y.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null,K=G=>G.route.loader?typeof G.route.loader=="function"&&G.route.loader.hydrate===!0?!1:R&&R[G.route.id]!==void 0||L&&L[G.route.id]!==void 0:!0;if(L){let G=W.findIndex(se=>L[se.route.id]!==void 0);Y=W.slice(0,G+1).every(K)}else Y=W.every(K)}else Y=t.hydrationData!=null;let V,x={historyAction:t.history.action,location:t.history.location,matches:W,initialized:Y,navigation:go,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||Z,fetchers:new Map,blockers:new Map},de=vt.Pop,le=!1,fe,De=!1,ve=new Map,me=null,Se=!1,Le=!1,et=[],tt=[],Ae=new Map,_t=0,Ze=-1,Et=new Map,St=new Set,Rt=new Map,Nt=new Map,Ct=new Set,ge=new Map,Fe=new Map,ze=!1;function ue(){if(b=t.history.listen(R=>{let{action:L,location:K,delta:G}=R;if(ze){ze=!1;return}ir(Fe.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=Je({currentLocation:x.location,nextLocation:K,historyAction:L});if(se&&G!=null){ze=!0,t.history.go(G*-1),mt(se,{state:"blocked",location:K,proceed(){mt(se,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),t.history.go(G)},reset(){let be=new Map(x.blockers);be.set(se,Cr),xe({blockers:be})}});return}return Pt(L,K)}),o){$d(r,ve);let R=()=>Ld(r,ve);r.addEventListener("pagehide",R),me=()=>r.removeEventListener("pagehide",R)}return x.initialized||Pt(vt.Pop,x.location,{initialHydration:!0}),V}function jt(){b&&b(),me&&me(),M.clear(),fe&&fe.abort(),x.fetchers.forEach((R,L)=>Ve(L)),x.blockers.forEach((R,L)=>bt(L))}function ft(R){return M.add(R),()=>M.delete(R)}function xe(R,L){L===void 0&&(L={}),x=dt({},x,R);let K=[],G=[];y.v7_fetcherPersist&&x.fetchers.forEach((se,be)=>{se.state==="idle"&&(Ct.has(be)?G.push(be):K.push(be))}),[...M].forEach(se=>se(x,{deletedFetchers:G,unstable_viewTransitionOpts:L.viewTransitionOpts,unstable_flushSync:L.flushSync===!0})),y.v7_fetcherPersist&&(K.forEach(se=>x.fetchers.delete(se)),G.forEach(se=>Ve(se)))}function Dt(R,L,K){var G,se;let{flushSync:be}=K===void 0?{}:K,re=x.actionData!=null&&x.navigation.formMethod!=null&&ln(x.navigation.formMethod)&&x.navigation.state==="loading"&&((G=R.state)==null?void 0:G._isRedirect)!==!0,ee;L.actionData?Object.keys(L.actionData).length>0?ee=L.actionData:ee=null:re?ee=x.actionData:ee=null;let Te=L.loaderData?ts(x.loaderData,L.loaderData,L.matches||[],L.errors):x.loaderData,we=x.blockers;we.size>0&&(we=new Map(we),we.forEach((_e,je)=>we.set(je,Cr)));let ht=le===!0||x.navigation.formMethod!=null&&ln(x.navigation.formMethod)&&((se=R.state)==null?void 0:se._isRedirect)!==!0;h&&(d=h,h=void 0),Se||de===vt.Pop||(de===vt.Push?t.history.push(R,R.state):de===vt.Replace&&t.history.replace(R,R.state));let pt;if(de===vt.Pop){let _e=ve.get(x.location.pathname);_e&&_e.has(R.pathname)?pt={currentLocation:x.location,nextLocation:R}:ve.has(R.pathname)&&(pt={currentLocation:R,nextLocation:x.location})}else if(De){let _e=ve.get(x.location.pathname);_e?_e.add(R.pathname):(_e=new Set([R.pathname]),ve.set(x.location.pathname,_e)),pt={currentLocation:x.location,nextLocation:R}}xe(dt({},L,{actionData:ee,loaderData:Te,historyAction:de,location:R,initialized:!0,navigation:go,revalidation:"idle",restoreScrollPosition:Cn(R,L.matches||x.matches),preventScrollReset:ht,blockers:we}),{viewTransitionOpts:pt,flushSync:be===!0}),de=vt.Pop,le=!1,De=!1,Se=!1,Le=!1,et=[],tt=[]}async function gn(R,L){if(typeof R=="number"){t.history.go(R);return}let K=$o(x.location,x.matches,p,y.v7_prependBasename,R,y.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:G,submission:se,error:be}=Vi(y.v7_normalizeFormMethod,!1,K,L),re=x.location,ee=Ir(x.location,G,L&&L.state);ee=dt({},ee,t.history.encodeLocation(ee));let Te=L&&L.replace!=null?L.replace:void 0,we=vt.Push;Te===!0?we=vt.Replace:Te===!1||se!=null&&ln(se.formMethod)&&se.formAction===x.location.pathname+x.location.search&&(we=vt.Replace);let ht=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,pt=(L&&L.unstable_flushSync)===!0,_e=Je({currentLocation:re,nextLocation:ee,historyAction:we});if(_e){mt(_e,{state:"blocked",location:ee,proceed(){mt(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),gn(R,L)},reset(){let je=new Map(x.blockers);je.set(_e,Cr),xe({blockers:je})}});return}return await Pt(we,ee,{submission:se,pendingError:be,preventScrollReset:ht,replace:L&&L.replace,enableViewTransition:L&&L.unstable_viewTransition,flushSync:pt})}function Ft(){if(nt(),xe({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Pt(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Pt(de||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function Pt(R,L,K){fe&&fe.abort(),fe=null,de=R,Se=(K&&K.startUninterruptedRevalidation)===!0,cn(x.location,x.matches),le=(K&&K.preventScrollReset)===!0,De=(K&&K.enableViewTransition)===!0;let G=h||d,se=K&&K.overrideNavigation,be=Jn(G,L,p),re=(K&&K.flushSync)===!0;if(!be){let _e=nn(404,{pathname:L.pathname}),{matches:je,route:it}=rs(G);J(),Dt(L,{matches:je,loaderData:{},errors:{[it.id]:_e}},{flushSync:re});return}if(x.initialized&&!Le&&Rd(x.location,L)&&!(K&&K.submission&&ln(K.submission.formMethod))){Dt(L,{matches:be},{flushSync:re});return}fe=new AbortController;let ee=Xn(t.history,L,fe.signal,K&&K.submission),Te;if(K&&K.pendingError)Te=[Or(be).route.id,{type:lt.error,error:K.pendingError}];else if(K&&K.submission&&ln(K.submission.formMethod)){let _e=await an(ee,L,K.submission,be,{replace:K.replace,flushSync:re});if(_e.shortCircuited)return;Te=_e.pendingActionResult,se=bo(L,K.submission),re=!1,ee=Xn(t.history,ee.url,ee.signal)}let{shortCircuited:we,loaderData:ht,errors:pt}=await on(ee,L,be,se,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,re,Te);we||(fe=null,Dt(L,dt({matches:be},ns(Te),{loaderData:ht,errors:pt})))}async function an(R,L,K,G,se){se===void 0&&(se={}),nt();let be=Md(L,K);xe({navigation:be},{flushSync:se.flushSync===!0});let re,ee=Bo(G,L);if(!ee.route.action&&!ee.route.lazy)re={type:lt.error,error:nn(405,{method:R.method,pathname:L.pathname,routeId:ee.route.id})};else if(re=(await Ce("action",R,[ee],G))[0],R.signal.aborted)return{shortCircuited:!0};if(zn(re)){let Te;return se&&se.replace!=null?Te=se.replace:Te=Qi(re.response.headers.get("Location"),new URL(R.url),p)===x.location.pathname+x.location.search,await ye(R,re,{submission:K,replace:Te}),{shortCircuited:!0}}if(Kn(re))throw nn(400,{type:"defer-action"});if(rn(re)){let Te=Or(G,ee.route.id);return(se&&se.replace)!==!0&&(de=vt.Push),{pendingActionResult:[Te.route.id,re]}}return{pendingActionResult:[ee.route.id,re]}}async function on(R,L,K,G,se,be,re,ee,Te,we){let ht=G||bo(L,se),pt=se||be||is(ht),_e=h||d,[je,it]=Gi(t.history,x,K,pt,L,y.v7_partialHydration&&ee===!0,y.unstable_skipActionErrorRevalidation,Le,et,tt,Ct,Rt,St,_e,p,we);if(J(ke=>!(K&&K.some(st=>st.route.id===ke))||je&&je.some(st=>st.route.id===ke)),Ze=++_t,je.length===0&&it.length===0){let ke=Kt();return Dt(L,dt({matches:K,loaderData:{},errors:we&&rn(we[1])?{[we[0]]:we[1].error}:null},ns(we),ke?{fetchers:new Map(x.fetchers)}:{}),{flushSync:Te}),{shortCircuited:!0}}if(!Se&&(!y.v7_partialHydration||!ee)){it.forEach(st=>{let Yt=x.fetchers.get(st.key),ut=Sr(void 0,Yt?Yt.data:void 0);x.fetchers.set(st.key,ut)});let ke;we&&!rn(we[1])?ke={[we[0]]:we[1].data}:x.actionData&&(Object.keys(x.actionData).length===0?ke=null:ke=x.actionData),xe(dt({navigation:ht},ke!==void 0?{actionData:ke}:{},it.length>0?{fetchers:new Map(x.fetchers)}:{}),{flushSync:Te})}it.forEach(ke=>{Ae.has(ke.key)&&Ue(ke.key),ke.controller&&Ae.set(ke.key,ke.controller)});let Wt=()=>it.forEach(ke=>Ue(ke.key));fe&&fe.signal.addEventListener("abort",Wt);let{loaderResults:Xt,fetcherResults:Sn}=await Be(x.matches,K,je,it,R);if(R.signal.aborted)return{shortCircuited:!0};fe&&fe.signal.removeEventListener("abort",Wt),it.forEach(ke=>Ae.delete(ke.key));let Ut=as([...Xt,...Sn]);if(Ut){if(Ut.idx>=je.length){let ke=it[Ut.idx-je.length].key;St.add(ke)}return await ye(R,Ut.result,{replace:re}),{shortCircuited:!0}}let{loaderData:bn,errors:Tt}=es(x,K,je,Xt,we,it,Sn,ge);ge.forEach((ke,st)=>{ke.subscribe(Yt=>{(Yt||ke.done)&&ge.delete(st)})}),y.v7_partialHydration&&ee&&x.errors&&Object.entries(x.errors).filter(ke=>{let[st]=ke;return!je.some(Yt=>Yt.route.id===st)}).forEach(ke=>{let[st,Yt]=ke;Tt=Object.assign(Tt||{},{[st]:Yt})});let Ln=Kt(),Tn=gt(Ze),rt=Ln||Tn||it.length>0;return dt({loaderData:bn,errors:Tt},rt?{fetchers:new Map(x.fetchers)}:{})}function sn(R,L,K,G){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ae.has(R)&&Ue(R);let se=(G&&G.unstable_flushSync)===!0,be=h||d,re=$o(x.location,x.matches,p,y.v7_prependBasename,K,y.v7_relativeSplatPath,L,G==null?void 0:G.relative),ee=Jn(be,re,p);if(!ee){Ne(R,L,nn(404,{pathname:re}),{flushSync:se});return}let{path:Te,submission:we,error:ht}=Vi(y.v7_normalizeFormMethod,!0,re,G);if(ht){Ne(R,L,ht,{flushSync:se});return}let pt=Bo(ee,Te);if(le=(G&&G.preventScrollReset)===!0,we&&ln(we.formMethod)){Ht(R,L,Te,pt,ee,se,we);return}Rt.set(R,{routeId:L,path:Te}),he(R,L,Te,pt,ee,se,we)}async function Ht(R,L,K,G,se,be,re){if(nt(),Rt.delete(R),!G.route.action&&!G.route.lazy){let ut=nn(405,{method:re.formMethod,pathname:K,routeId:L});Ne(R,L,ut,{flushSync:be});return}let ee=x.fetchers.get(R);Ee(R,Id(re,ee),{flushSync:be});let Te=new AbortController,we=Xn(t.history,K,Te.signal,re);Ae.set(R,Te);let ht=_t,_e=(await Ce("action",we,[G],se))[0];if(we.signal.aborted){Ae.get(R)===Te&&Ae.delete(R);return}if(y.v7_fetcherPersist&&Ct.has(R)){if(zn(_e)||rn(_e)){Ee(R,Pn(void 0));return}}else{if(zn(_e))if(Ae.delete(R),Ze>ht){Ee(R,Pn(void 0));return}else return St.add(R),Ee(R,Sr(re)),ye(we,_e,{fetcherSubmission:re});if(rn(_e)){Ne(R,L,_e.error);return}}if(Kn(_e))throw nn(400,{type:"defer-action"});let je=x.navigation.location||x.location,it=Xn(t.history,je,Te.signal),Wt=h||d,Xt=x.navigation.state!=="idle"?Jn(Wt,x.navigation.location,p):x.matches;Pe(Xt,"Didn't find any matches after fetcher action");let Sn=++_t;Et.set(R,Sn);let Ut=Sr(re,_e.data);x.fetchers.set(R,Ut);let[bn,Tt]=Gi(t.history,x,Xt,re,je,!1,y.unstable_skipActionErrorRevalidation,Le,et,tt,Ct,Rt,St,Wt,p,[G.route.id,_e]);Tt.filter(ut=>ut.key!==R).forEach(ut=>{let dn=ut.key,qn=x.fetchers.get(dn),dr=Sr(void 0,qn?qn.data:void 0);x.fetchers.set(dn,dr),Ae.has(dn)&&Ue(dn),ut.controller&&Ae.set(dn,ut.controller)}),xe({fetchers:new Map(x.fetchers)});let Ln=()=>Tt.forEach(ut=>Ue(ut.key));Te.signal.addEventListener("abort",Ln);let{loaderResults:Tn,fetcherResults:rt}=await Be(x.matches,Xt,bn,Tt,it);if(Te.signal.aborted)return;Te.signal.removeEventListener("abort",Ln),Et.delete(R),Ae.delete(R),Tt.forEach(ut=>Ae.delete(ut.key));let ke=as([...Tn,...rt]);if(ke){if(ke.idx>=bn.length){let ut=Tt[ke.idx-bn.length].key;St.add(ut)}return ye(it,ke.result)}let{loaderData:st,errors:Yt}=es(x,x.matches,bn,Tn,void 0,Tt,rt,ge);if(x.fetchers.has(R)){let ut=Pn(_e.data);x.fetchers.set(R,ut)}gt(Sn),x.navigation.state==="loading"&&Sn>Ze?(Pe(de,"Expected pending action"),fe&&fe.abort(),Dt(x.navigation.location,{matches:Xt,loaderData:st,errors:Yt,fetchers:new Map(x.fetchers)})):(xe({errors:Yt,loaderData:ts(x.loaderData,st,Xt,Yt),fetchers:new Map(x.fetchers)}),Le=!1)}async function he(R,L,K,G,se,be,re){let ee=x.fetchers.get(R);Ee(R,Sr(re,ee?ee.data:void 0),{flushSync:be});let Te=new AbortController,we=Xn(t.history,K,Te.signal);Ae.set(R,Te);let ht=_t,_e=(await Ce("loader",we,[G],se))[0];if(Kn(_e)&&(_e=await hc(_e,we.signal,!0)||_e),Ae.get(R)===Te&&Ae.delete(R),!we.signal.aborted){if(Ct.has(R)){Ee(R,Pn(void 0));return}if(zn(_e))if(Ze>ht){Ee(R,Pn(void 0));return}else{St.add(R),await ye(we,_e);return}if(rn(_e)){Ne(R,L,_e.error);return}Pe(!Kn(_e),"Unhandled fetcher deferred data"),Ee(R,Pn(_e.data))}}async function ye(R,L,K){let{submission:G,fetcherSubmission:se,replace:be}=K===void 0?{}:K;L.response.headers.has("X-Remix-Revalidate")&&(Le=!0);let re=L.response.headers.get("Location");Pe(re,"Expected a Location header on the redirect Response"),re=Qi(re,new URL(R.url),p);let ee=Ir(x.location,re,{_isRedirect:!0});if(o){let je=!1;if(L.response.headers.has("X-Remix-Reload-Document"))je=!0;else if(ti.test(re)){const it=t.history.createURL(re);je=it.origin!==r.location.origin||Kr(it.pathname,p)==null}if(je){be?r.location.replace(re):r.location.assign(re);return}}fe=null;let Te=be===!0?vt.Replace:vt.Push,{formMethod:we,formAction:ht,formEncType:pt}=x.navigation;!G&&!se&&we&&ht&&pt&&(G=is(x.navigation));let _e=G||se;if(yd.has(L.response.status)&&_e&&ln(_e.formMethod))await Pt(Te,ee,{submission:dt({},_e,{formAction:re}),preventScrollReset:le});else{let je=bo(ee,G);await Pt(Te,ee,{overrideNavigation:je,fetcherSubmission:se,preventScrollReset:le})}}async function Ce(R,L,K,G){try{let se=await Cd(v,R,L,K,G,l,c);return await Promise.all(se.map((be,re)=>{if(Dd(be)){let ee=be.result;return{type:lt.redirect,response:Od(ee,L,K[re].route.id,G,p,y.v7_relativeSplatPath)}}return Td(be)}))}catch(se){return K.map(()=>({type:lt.error,error:se}))}}async function Be(R,L,K,G,se){let[be,...re]=await Promise.all([K.length?Ce("loader",se,K,L):[],...G.map(ee=>{if(ee.matches&&ee.match&&ee.controller){let Te=Xn(t.history,ee.path,ee.controller.signal);return Ce("loader",Te,[ee.match],ee.matches).then(we=>we[0])}else return Promise.resolve({type:lt.error,error:nn(404,{pathname:ee.path})})})]);return await Promise.all([os(R,K,be,be.map(()=>se.signal),!1,x.loaderData),os(R,G.map(ee=>ee.match),re,G.map(ee=>ee.controller?ee.controller.signal:null),!0)]),{loaderResults:be,fetcherResults:re}}function nt(){Le=!0,et.push(...J()),Rt.forEach((R,L)=>{Ae.has(L)&&(tt.push(L),Ue(L))})}function Ee(R,L,K){K===void 0&&(K={}),x.fetchers.set(R,L),xe({fetchers:new Map(x.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Ne(R,L,K,G){G===void 0&&(G={});let se=Or(x.matches,L);Ve(R),xe({errors:{[se.route.id]:K},fetchers:new Map(x.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function We(R){return y.v7_fetcherPersist&&(Nt.set(R,(Nt.get(R)||0)+1),Ct.has(R)&&Ct.delete(R)),x.fetchers.get(R)||vd}function Ve(R){let L=x.fetchers.get(R);Ae.has(R)&&!(L&&L.state==="loading"&&Et.has(R))&&Ue(R),Rt.delete(R),Et.delete(R),St.delete(R),Ct.delete(R),x.fetchers.delete(R)}function ot(R){if(y.v7_fetcherPersist){let L=(Nt.get(R)||0)-1;L<=0?(Nt.delete(R),Ct.add(R)):Nt.set(R,L)}else Ve(R);xe({fetchers:new Map(x.fetchers)})}function Ue(R){let L=Ae.get(R);Pe(L,"Expected fetch controller: "+R),L.abort(),Ae.delete(R)}function Qe(R){for(let L of R){let K=We(L),G=Pn(K.data);x.fetchers.set(L,G)}}function Kt(){let R=[],L=!1;for(let K of St){let G=x.fetchers.get(K);Pe(G,"Expected fetcher: "+K),G.state==="loading"&&(St.delete(K),R.push(K),L=!0)}return Qe(R),L}function gt(R){let L=[];for(let[K,G]of Et)if(G<R){let se=x.fetchers.get(K);Pe(se,"Expected fetcher: "+K),se.state==="loading"&&(Ue(K),Et.delete(K),L.push(K))}return Qe(L),L.length>0}function oe(R,L){let K=x.blockers.get(R)||Cr;return Fe.get(R)!==L&&Fe.set(R,L),K}function bt(R){x.blockers.delete(R),Fe.delete(R)}function mt(R,L){let K=x.blockers.get(R)||Cr;Pe(K.state==="unblocked"&&L.state==="blocked"||K.state==="blocked"&&L.state==="blocked"||K.state==="blocked"&&L.state==="proceeding"||K.state==="blocked"&&L.state==="unblocked"||K.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+L.state);let G=new Map(x.blockers);G.set(R,L),xe({blockers:G})}function Je(R){let{currentLocation:L,nextLocation:K,historyAction:G}=R;if(Fe.size===0)return;Fe.size>1&&ir(!1,"A router only supports one blocker at a time");let se=Array.from(Fe.entries()),[be,re]=se[se.length-1],ee=x.blockers.get(be);if(!(ee&&ee.state==="proceeding")&&re({currentLocation:L,nextLocation:K,historyAction:G}))return be}function J(R){let L=[];return ge.forEach((K,G)=>{(!R||R(G))&&(K.cancel(),L.push(G),ge.delete(G))}),L}function zt(R,L,K){if(q=R,S=L,I=K||null,!B&&x.navigation===go){B=!0;let G=Cn(x.location,x.matches);G!=null&&xe({restoreScrollPosition:G})}return()=>{q=null,S=null,I=null}}function en(R,L){return I&&I(R,L.map(G=>Wl(G,x.loaderData)))||R.key}function cn(R,L){if(q&&S){let K=en(R,L);q[K]=S()}}function Cn(R,L){if(q){let K=en(R,L),G=q[K];if(typeof G=="number")return G}return null}function $n(R){l={},h=Io(R,c,void 0,l)}return V={get basename(){return p},get future(){return y},get state(){return x},get routes(){return d},get window(){return r},initialize:ue,subscribe:ft,enableScrollRestoration:zt,navigate:gn,fetch:sn,revalidate:Ft,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:We,deleteFetcher:ot,dispose:jt,getBlocker:oe,deleteBlocker:bt,_internalFetchControllers:Ae,_internalActiveDeferreds:ge,_internalSetRoutes:$n},V}function wd(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function $o(t,r,o,i,c,l,d,h){let p,v;if(d){p=[];for(let b of r)if(p.push(b),b.route.id===d){v=b;break}}else p=r,v=r[r.length-1];let y=sc(c||".",ic(p,l),Kr(t.pathname,o)||t.pathname,h==="path");return c==null&&(y.search=t.search,y.hash=t.hash),(c==null||c===""||c===".")&&v&&v.route.index&&!ni(y.search)&&(y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index"),i&&o!=="/"&&(y.pathname=y.pathname==="/"?o:Mn([o,y.pathname])),Fr(y)}function Vi(t,r,o,i){if(!i||!wd(i))return{path:o};if(i.formMethod&&!Ad(i.formMethod))return{path:o,error:nn(405,{method:i.formMethod})};let c=()=>({path:o,error:nn(400,{type:"invalid-body"})}),l=i.formMethod||"get",d=t?l.toUpperCase():l.toLowerCase(),h=dc(o);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!ln(d))return c();let M=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((q,I)=>{let[S,B]=I;return""+q+S+"="+B+`
`},""):String(i.body);return{path:o,submission:{formMethod:d,formAction:h,formEncType:i.formEncType,formData:void 0,json:void 0,text:M}}}else if(i.formEncType==="application/json"){if(!ln(d))return c();try{let M=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:o,submission:{formMethod:d,formAction:h,formEncType:i.formEncType,formData:void 0,json:M,text:void 0}}}catch{return c()}}}Pe(typeof FormData=="function","FormData is not available in this environment");let p,v;if(i.formData)p=Lo(i.formData),v=i.formData;else if(i.body instanceof FormData)p=Lo(i.body),v=i.body;else if(i.body instanceof URLSearchParams)p=i.body,v=Ji(p);else if(i.body==null)p=new URLSearchParams,v=new FormData;else try{p=new URLSearchParams(i.body),v=Ji(p)}catch{return c()}let y={formMethod:d,formAction:h,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:v,json:void 0,text:void 0};if(ln(y.formMethod))return{path:o,submission:y};let b=En(o);return r&&b.search&&ni(b.search)&&p.append("index",""),b.search="?"+p,{path:Fr(b),submission:y}}function xd(t,r){let o=t;if(r){let i=t.findIndex(c=>c.route.id===r);i>=0&&(o=t.slice(0,i))}return o}function Gi(t,r,o,i,c,l,d,h,p,v,y,b,M,q,I,S){let B=S?rn(S[1])?S[1].error:S[1].data:void 0,W=t.createURL(r.location),Z=t.createURL(c),Y=S&&rn(S[1])?S[0]:void 0,X=Y?xd(o,Y):o,U=S?S[1].statusCode:void 0,V=d&&U&&U>=400,x=X.filter((le,fe)=>{let{route:De}=le;if(De.lazy)return!0;if(De.loader==null)return!1;if(l)return typeof De.loader!="function"||De.loader.hydrate?!0:r.loaderData[De.id]===void 0&&(!r.errors||r.errors[De.id]===void 0);if(_d(r.loaderData,r.matches[fe],le)||p.some(Se=>Se===le.route.id))return!0;let ve=r.matches[fe],me=le;return Xi(le,dt({currentUrl:W,currentParams:ve.params,nextUrl:Z,nextParams:me.params},i,{actionResult:B,unstable_actionStatus:U,defaultShouldRevalidate:V?!1:h||W.pathname+W.search===Z.pathname+Z.search||W.search!==Z.search||lc(ve,me)}))}),de=[];return b.forEach((le,fe)=>{if(l||!o.some(Le=>Le.route.id===le.routeId)||y.has(fe))return;let De=Jn(q,le.path,I);if(!De){de.push({key:fe,routeId:le.routeId,path:le.path,matches:null,match:null,controller:null});return}let ve=r.fetchers.get(fe),me=Bo(De,le.path),Se=!1;M.has(fe)?Se=!1:v.includes(fe)?Se=!0:ve&&ve.state!=="idle"&&ve.data===void 0?Se=h:Se=Xi(me,dt({currentUrl:W,currentParams:r.matches[r.matches.length-1].params,nextUrl:Z,nextParams:o[o.length-1].params},i,{actionResult:B,unstable_actionStatus:U,defaultShouldRevalidate:V?!1:h})),Se&&de.push({key:fe,routeId:le.routeId,path:le.path,matches:De,match:me,controller:new AbortController})}),[x,de]}function _d(t,r,o){let i=!r||o.route.id!==r.route.id,c=t[o.route.id]===void 0;return i||c}function lc(t,r){let o=t.route.path;return t.pathname!==r.pathname||o!=null&&o.endsWith("*")&&t.params["*"]!==r.params["*"]}function Xi(t,r){if(t.route.shouldRevalidate){let o=t.route.shouldRevalidate(r);if(typeof o=="boolean")return o}return r.defaultShouldRevalidate}async function Zi(t,r,o){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let c=o[t.id];Pe(c,"No route found in manifest");let l={};for(let d in i){let p=c[d]!==void 0&&d!=="hasErrorBoundary";ir(!p,'Route "'+c.id+'" has a static property "'+d+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+d+'" will be ignored.')),!p&&!ql.has(d)&&(l[d]=i[d])}Object.assign(c,l),Object.assign(c,dt({},r(c),{lazy:void 0}))}function Ed(t){return Promise.all(t.matches.map(r=>r.resolve()))}async function Cd(t,r,o,i,c,l,d,h){let p=i.reduce((b,M)=>b.add(M.route.id),new Set),v=new Set,y=await t({matches:c.map(b=>{let M=p.has(b.route.id);return dt({},b,{shouldLoad:M,resolve:I=>(v.add(b.route.id),M?Sd(r,o,b,l,d,I,h):Promise.resolve({type:lt.data,result:void 0}))})}),request:o,params:c[0].params,context:h});return c.forEach(b=>Pe(v.has(b.route.id),'`match.resolve()` was not called for route id "'+b.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),y.filter((b,M)=>p.has(c[M].route.id))}async function Sd(t,r,o,i,c,l,d){let h,p,v=y=>{let b,M=new Promise((S,B)=>b=B);p=()=>b(),r.signal.addEventListener("abort",p);let q=S=>typeof y!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+o.route.id+"]"))):y({request:r,params:o.params,context:d},...S!==void 0?[S]:[]),I;return l?I=l(S=>q(S)):I=(async()=>{try{return{type:"data",result:await q()}}catch(S){return{type:"error",result:S}}})(),Promise.race([I,M])};try{let y=o.route[t];if(o.route.lazy)if(y){let b,[M]=await Promise.all([v(y).catch(q=>{b=q}),Zi(o.route,c,i)]);if(b!==void 0)throw b;h=M}else if(await Zi(o.route,c,i),y=o.route[t],y)h=await v(y);else if(t==="action"){let b=new URL(r.url),M=b.pathname+b.search;throw nn(405,{method:r.method,pathname:M,routeId:o.route.id})}else return{type:lt.data,result:void 0};else if(y)h=await v(y);else{let b=new URL(r.url),M=b.pathname+b.search;throw nn(404,{pathname:M})}Pe(h.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+o.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){return{type:lt.error,result:y}}finally{p&&r.signal.removeEventListener("abort",p)}return h}async function Td(t){let{result:r,type:o,status:i}=t;if(fc(r)){let d;try{let h=r.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?r.body==null?d=null:d=await r.json():d=await r.text()}catch(h){return{type:lt.error,error:h}}return o===lt.error?{type:lt.error,error:new Jo(r.status,r.statusText,d),statusCode:r.status,headers:r.headers}:{type:lt.data,data:d,statusCode:r.status,headers:r.headers}}if(o===lt.error)return{type:lt.error,error:r,statusCode:ei(r)?r.status:i};if(Pd(r)){var c,l;return{type:lt.deferred,deferredData:r,statusCode:(c=r.init)==null?void 0:c.status,headers:((l=r.init)==null?void 0:l.headers)&&new Headers(r.init.headers)}}return{type:lt.data,data:r,statusCode:i}}function Od(t,r,o,i,c,l){let d=t.headers.get("Location");if(Pe(d,"Redirects returned/thrown from loaders/actions must have a Location header"),!ti.test(d)){let h=i.slice(0,i.findIndex(p=>p.route.id===o)+1);d=$o(new URL(r.url),h,c,!0,d,l),t.headers.set("Location",d)}return t}function Qi(t,r,o){if(ti.test(t)){let i=t,c=i.startsWith("//")?new URL(r.protocol+i):new URL(i),l=Kr(c.pathname,o)!=null;if(c.origin===r.origin&&l)return c.pathname+c.search+c.hash}return t}function Xn(t,r,o,i){let c=t.createURL(dc(r)).toString(),l={signal:o};if(i&&ln(i.formMethod)){let{formMethod:d,formEncType:h}=i;l.method=d.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(i.json)):h==="text/plain"?l.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?l.body=Lo(i.formData):l.body=i.formData}return new Request(c,l)}function Lo(t){let r=new URLSearchParams;for(let[o,i]of t.entries())r.append(o,typeof i=="string"?i:i.name);return r}function Ji(t){let r=new FormData;for(let[o,i]of t.entries())r.append(o,i);return r}function kd(t,r,o,i,c,l){let d={},h=null,p,v=!1,y={},b=i&&rn(i[1])?i[1].error:void 0;return o.forEach((M,q)=>{let I=r[q].route.id;if(Pe(!zn(M),"Cannot handle redirect results in processLoaderData"),rn(M)){let S=M.error;b!==void 0&&(S=b,b=void 0),h=h||{};{let B=Or(t,I);h[B.route.id]==null&&(h[B.route.id]=S)}d[I]=void 0,v||(v=!0,p=ei(M.error)?M.error.status:500),M.headers&&(y[I]=M.headers)}else Kn(M)?(c.set(I,M.deferredData),d[I]=M.deferredData.data,M.statusCode!=null&&M.statusCode!==200&&!v&&(p=M.statusCode),M.headers&&(y[I]=M.headers)):(d[I]=M.data,M.statusCode&&M.statusCode!==200&&!v&&(p=M.statusCode),M.headers&&(y[I]=M.headers))}),b!==void 0&&i&&(h={[i[0]]:b},d[i[0]]=void 0),{loaderData:d,errors:h,statusCode:p||200,loaderHeaders:y}}function es(t,r,o,i,c,l,d,h){let{loaderData:p,errors:v}=kd(r,o,i,c,h);for(let y=0;y<l.length;y++){let{key:b,match:M,controller:q}=l[y];Pe(d!==void 0&&d[y]!==void 0,"Did not find corresponding fetcher result");let I=d[y];if(!(q&&q.signal.aborted))if(rn(I)){let S=Or(t.matches,M==null?void 0:M.route.id);v&&v[S.route.id]||(v=dt({},v,{[S.route.id]:I.error})),t.fetchers.delete(b)}else if(zn(I))Pe(!1,"Unhandled fetcher revalidation redirect");else if(Kn(I))Pe(!1,"Unhandled fetcher deferred data");else{let S=Pn(I.data);t.fetchers.set(b,S)}}return{loaderData:p,errors:v}}function ts(t,r,o,i){let c=dt({},r);for(let l of o){let d=l.route.id;if(r.hasOwnProperty(d)?r[d]!==void 0&&(c[d]=r[d]):t[d]!==void 0&&l.route.loader&&(c[d]=t[d]),i&&i.hasOwnProperty(d))break}return c}function ns(t){return t?rn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Or(t,r){return(r?t.slice(0,t.findIndex(i=>i.route.id===r)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function rs(t){let r=t.length===1?t[0]:t.find(o=>o.index||!o.path||o.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function nn(t,r){let{pathname:o,routeId:i,method:c,type:l}=r===void 0?{}:r,d="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(d="Bad Request",c&&o&&i?h="You made a "+c+' request to "'+o+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?h="defer() is not supported in actions":l==="invalid-body"&&(h="Unable to encode submission body")):t===403?(d="Forbidden",h='Route "'+i+'" does not match URL "'+o+'"'):t===404?(d="Not Found",h='No route matches URL "'+o+'"'):t===405&&(d="Method Not Allowed",c&&o&&i?h="You made a "+c.toUpperCase()+' request to "'+o+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":c&&(h='Invalid request method "'+c.toUpperCase()+'"')),new Jo(t||500,d,new Error(h),!0)}function as(t){for(let r=t.length-1;r>=0;r--){let o=t[r];if(zn(o))return{result:o,idx:r}}}function dc(t){let r=typeof t=="string"?En(t):t;return Fr(dt({},r,{hash:""}))}function Rd(t,r){return t.pathname!==r.pathname||t.search!==r.search?!1:t.hash===""?r.hash!=="":t.hash===r.hash?!0:r.hash!==""}function Dd(t){return fc(t.result)&&md.has(t.result.status)}function Kn(t){return t.type===lt.deferred}function rn(t){return t.type===lt.error}function zn(t){return(t&&t.type)===lt.redirect}function Pd(t){let r=t;return r&&typeof r=="object"&&typeof r.data=="object"&&typeof r.subscribe=="function"&&typeof r.cancel=="function"&&typeof r.resolveData=="function"}function fc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Ad(t){return pd.has(t.toLowerCase())}function ln(t){return fd.has(t.toLowerCase())}async function os(t,r,o,i,c,l){for(let d=0;d<o.length;d++){let h=o[d],p=r[d];if(!p)continue;let v=t.find(b=>b.route.id===p.route.id),y=v!=null&&!lc(v,p)&&(l&&l[p.route.id])!==void 0;if(Kn(h)&&(c||y)){let b=i[d];Pe(b,"Expected an AbortSignal for revalidating fetcher deferred result"),await hc(h,b,c).then(M=>{M&&(o[d]=M||o[d])})}}}async function hc(t,r,o){if(o===void 0&&(o=!1),!await t.deferredData.resolveData(r)){if(o)try{return{type:lt.data,data:t.deferredData.unwrappedData}}catch(c){return{type:lt.error,error:c}}return{type:lt.data,data:t.deferredData.data}}}function ni(t){return new URLSearchParams(t).getAll("index").some(r=>r==="")}function Bo(t,r){let o=typeof r=="string"?En(r).search:r.search;if(t[t.length-1].route.index&&ni(o||""))return t[t.length-1];let i=oc(t);return i[i.length-1]}function is(t){let{formMethod:r,formAction:o,formEncType:i,text:c,formData:l,json:d}=t;if(!(!r||!o||!i)){if(c!=null)return{formMethod:r,formAction:o,formEncType:i,formData:void 0,json:void 0,text:c};if(l!=null)return{formMethod:r,formAction:o,formEncType:i,formData:l,json:void 0,text:void 0};if(d!==void 0)return{formMethod:r,formAction:o,formEncType:i,formData:void 0,json:d,text:void 0}}}function bo(t,r){return r?{state:"loading",location:t,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Md(t,r){return{state:"submitting",location:t,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function Sr(t,r){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function Id(t,r){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:r?r.data:void 0}}function Pn(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function $d(t,r){try{let o=t.sessionStorage.getItem(uc);if(o){let i=JSON.parse(o);for(let[c,l]of Object.entries(i||{}))l&&Array.isArray(l)&&r.set(c,new Set(l||[]))}}catch{}}function Ld(t,r){if(r.size>0){let o={};for(let[i,c]of r)o[i]=[...c];try{t.sessionStorage.setItem(uc,JSON.stringify(o))}catch(i){ir(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $r(){return $r=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},$r.apply(this,arguments)}const Na=k.createContext(null),pc=k.createContext(null),ja=k.createContext(null),Fa=k.createContext(null),Yn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),mc=k.createContext(null);function Ka(){return k.useContext(Fa)!=null}function ri(){return Ka()||Pe(!1),k.useContext(Fa).location}function yc(t){k.useContext(ja).static||k.useLayoutEffect(t)}function Bd(){let{isDataRoute:t}=k.useContext(Yn);return t?Zd():Nd()}function Nd(){Ka()||Pe(!1);let t=k.useContext(Na),{basename:r,future:o,navigator:i}=k.useContext(ja),{matches:c}=k.useContext(Yn),{pathname:l}=ri(),d=JSON.stringify(ic(c,o.v7_relativeSplatPath)),h=k.useRef(!1);return yc(()=>{h.current=!0}),k.useCallback(function(v,y){if(y===void 0&&(y={}),!h.current)return;if(typeof v=="number"){i.go(v);return}let b=sc(v,JSON.parse(d),l,y.relative==="path");t==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:Mn([r,b.pathname])),(y.replace?i.replace:i.push)(b,y.state,y)},[r,i,d,l,t])}const jd=k.createContext(null);function Fd(t){let r=k.useContext(Yn).outlet;return r&&k.createElement(jd.Provider,{value:t},r)}function Kd(t,r){return vc(t,r)}function vc(t,r,o,i){Ka()||Pe(!1);let{navigator:c}=k.useContext(ja),{matches:l}=k.useContext(Yn),d=l[l.length-1],h=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let v=ri(),y;if(r){var b;let B=typeof r=="string"?En(r):r;p==="/"||(b=B.pathname)!=null&&b.startsWith(p)||Pe(!1),y=B}else y=v;let M=y.pathname||"/",q=M;if(p!=="/"){let B=p.replace(/^\//,"").split("/");q="/"+M.replace(/^\//,"").split("/").slice(B.length).join("/")}let I=Jn(t,{pathname:q}),S=Hd(I&&I.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Mn([p,c.encodeLocation?c.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:Mn([p,c.encodeLocation?c.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,o,i);return r&&S?k.createElement(Fa.Provider,{value:{location:$r({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:vt.Pop}},S):S}function zd(){let t=Xd(),r=ei(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),o=t instanceof Error?t.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},r),o?k.createElement("pre",{style:c},o):null,null)}const Ud=k.createElement(zd,null);class Yd extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){console.error("React Router caught the following error during render",r,o)}render(){return this.state.error!==void 0?k.createElement(Yn.Provider,{value:this.props.routeContext},k.createElement(mc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qd(t){let{routeContext:r,match:o,children:i}=t,c=k.useContext(Na);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),k.createElement(Yn.Provider,{value:r},i)}function Hd(t,r,o,i){var c;if(r===void 0&&(r=[]),o===void 0&&(o=null),i===void 0&&(i=null),t==null){var l;if((l=o)!=null&&l.errors)t=o.matches;else return null}let d=t,h=(c=o)==null?void 0:c.errors;if(h!=null){let y=d.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);y>=0||Pe(!1),d=d.slice(0,Math.min(d.length,y+1))}let p=!1,v=-1;if(o&&i&&i.v7_partialHydration)for(let y=0;y<d.length;y++){let b=d[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(v=y),b.route.id){let{loaderData:M,errors:q}=o,I=b.route.loader&&M[b.route.id]===void 0&&(!q||q[b.route.id]===void 0);if(b.route.lazy||I){p=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((y,b,M)=>{let q,I=!1,S=null,B=null;o&&(q=h&&b.route.id?h[b.route.id]:void 0,S=b.route.errorElement||Ud,p&&(v<0&&M===0?(I=!0,B=null):v===M&&(I=!0,B=b.route.hydrateFallbackElement||null)));let W=r.concat(d.slice(0,M+1)),Z=()=>{let Y;return q?Y=S:I?Y=B:b.route.Component?Y=k.createElement(b.route.Component,null):b.route.element?Y=b.route.element:Y=y,k.createElement(qd,{match:b,routeContext:{outlet:y,matches:W,isDataRoute:o!=null},children:Y})};return o&&(b.route.ErrorBoundary||b.route.errorElement||M===0)?k.createElement(Yd,{location:o.location,revalidation:o.revalidation,component:S,error:q,children:Z(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):Z()},null)}var gc=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gc||{}),ga=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ga||{});function Wd(t){let r=k.useContext(Na);return r||Pe(!1),r}function Vd(t){let r=k.useContext(pc);return r||Pe(!1),r}function Gd(t){let r=k.useContext(Yn);return r||Pe(!1),r}function bc(t){let r=Gd(),o=r.matches[r.matches.length-1];return o.route.id||Pe(!1),o.route.id}function Xd(){var t;let r=k.useContext(mc),o=Vd(ga.UseRouteError),i=bc(ga.UseRouteError);return r!==void 0?r:(t=o.errors)==null?void 0:t[i]}function Zd(){let{router:t}=Wd(gc.UseNavigateStable),r=bc(ga.UseNavigateStable),o=k.useRef(!1);return yc(()=>{o.current=!0}),k.useCallback(function(c,l){l===void 0&&(l={}),o.current&&(typeof c=="number"?t.navigate(c):t.navigate(c,$r({fromRouteId:r},l)))},[t,r])}function Qd(t){return Fd(t.context)}function An(t){Pe(!1)}function Jd(t){let{basename:r="/",children:o=null,location:i,navigationType:c=vt.Pop,navigator:l,static:d=!1,future:h}=t;Ka()&&Pe(!1);let p=r.replace(/^\/*/,"/"),v=k.useMemo(()=>({basename:p,navigator:l,static:d,future:$r({v7_relativeSplatPath:!1},h)}),[p,h,l,d]);typeof i=="string"&&(i=En(i));let{pathname:y="/",search:b="",hash:M="",state:q=null,key:I="default"}=i,S=k.useMemo(()=>{let B=Kr(y,p);return B==null?null:{location:{pathname:B,search:b,hash:M,state:q,key:I},navigationType:c}},[p,y,b,M,q,I,c]);return S==null?null:k.createElement(ja.Provider,{value:v},k.createElement(Fa.Provider,{children:o,value:S}))}function ef(t){let{children:r,location:o}=t;return Kd(No(r),o)}new Promise(()=>{});function No(t,r){r===void 0&&(r=[]);let o=[];return k.Children.forEach(t,(i,c)=>{if(!k.isValidElement(i))return;let l=[...r,c];if(i.type===k.Fragment){o.push.apply(o,No(i.props.children,l));return}i.type!==An&&Pe(!1),!i.props.index||!i.props.children||Pe(!1);let d={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=No(i.props.children,l)),o.push(d)}),o}function tf(t){let r={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(r,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(r,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(r,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),r}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},ba.apply(this,arguments)}const nf="6";try{window.__reactRouterVersion=nf}catch{}function rf(t,r){return bd({basename:void 0,future:ba({},void 0,{v7_prependBasename:!0}),history:zl({window:void 0}),hydrationData:af(),routes:t,mapRouteProperties:tf,unstable_dataStrategy:void 0,window:void 0}).initialize()}function af(){var t;let r=(t=window)==null?void 0:t.__staticRouterHydrationData;return r&&r.errors&&(r=ba({},r,{errors:of(r.errors)})),r}function of(t){if(!t)return null;let r=Object.entries(t),o={};for(let[i,c]of r)if(c&&c.__type==="RouteErrorResponse")o[i]=new Jo(c.status,c.statusText,c.data,c.internal===!0);else if(c&&c.__type==="Error"){if(c.__subType){let l=window[c.__subType];if(typeof l=="function")try{let d=new l(c.message);d.stack="",o[i]=d}catch{}}if(o[i]==null){let l=new Error(c.message);l.stack="",o[i]=l}}else o[i]=c;return o}const sf=k.createContext({isTransitioning:!1}),cf=k.createContext(new Map),uf="startTransition",ss=Ro[uf],lf="flushSync",cs=du[lf];function df(t){ss?ss(t):t()}function Tr(t){cs?cs(t):t()}class ff{constructor(){this.status="pending",this.promise=new Promise((r,o)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",r(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",o(i))}})}}function hf(t){let{fallbackElement:r,router:o,future:i}=t,[c,l]=k.useState(o.state),[d,h]=k.useState(),[p,v]=k.useState({isTransitioning:!1}),[y,b]=k.useState(),[M,q]=k.useState(),[I,S]=k.useState(),B=k.useRef(new Map),{v7_startTransition:W}=i||{},Z=k.useCallback(x=>{W?df(x):x()},[W]),Y=k.useCallback((x,de)=>{let{deletedFetchers:le,unstable_flushSync:fe,unstable_viewTransitionOpts:De}=de;le.forEach(me=>B.current.delete(me)),x.fetchers.forEach((me,Se)=>{me.data!==void 0&&B.current.set(Se,me.data)});let ve=o.window==null||o.window.document==null||typeof o.window.document.startViewTransition!="function";if(!De||ve){fe?Tr(()=>l(x)):Z(()=>l(x));return}if(fe){Tr(()=>{M&&(y&&y.resolve(),M.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:De.currentLocation,nextLocation:De.nextLocation})});let me=o.window.document.startViewTransition(()=>{Tr(()=>l(x))});me.finished.finally(()=>{Tr(()=>{b(void 0),q(void 0),h(void 0),v({isTransitioning:!1})})}),Tr(()=>q(me));return}M?(y&&y.resolve(),M.skipTransition(),S({state:x,currentLocation:De.currentLocation,nextLocation:De.nextLocation})):(h(x),v({isTransitioning:!0,flushSync:!1,currentLocation:De.currentLocation,nextLocation:De.nextLocation}))},[o.window,M,y,B,Z]);k.useLayoutEffect(()=>o.subscribe(Y),[o,Y]),k.useEffect(()=>{p.isTransitioning&&!p.flushSync&&b(new ff)},[p]),k.useEffect(()=>{if(y&&d&&o.window){let x=d,de=y.promise,le=o.window.document.startViewTransition(async()=>{Z(()=>l(x)),await de});le.finished.finally(()=>{b(void 0),q(void 0),h(void 0),v({isTransitioning:!1})}),q(le)}},[Z,d,y,o.window]),k.useEffect(()=>{y&&d&&c.location.key===d.location.key&&y.resolve()},[y,M,c.location,d]),k.useEffect(()=>{!p.isTransitioning&&I&&(h(I.state),v({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}),S(void 0))},[p.isTransitioning,I]),k.useEffect(()=>{},[]);let X=k.useMemo(()=>({createHref:o.createHref,encodeLocation:o.encodeLocation,go:x=>o.navigate(x),push:(x,de,le)=>o.navigate(x,{state:de,preventScrollReset:le==null?void 0:le.preventScrollReset}),replace:(x,de,le)=>o.navigate(x,{replace:!0,state:de,preventScrollReset:le==null?void 0:le.preventScrollReset})}),[o]),U=o.basename||"/",V=k.useMemo(()=>({router:o,navigator:X,static:!1,basename:U}),[o,X,U]);return k.createElement(k.Fragment,null,k.createElement(Na.Provider,{value:V},k.createElement(pc.Provider,{value:c},k.createElement(cf.Provider,{value:B.current},k.createElement(sf.Provider,{value:p},k.createElement(Jd,{basename:U,location:c.location,navigationType:c.historyAction,navigator:X,future:{v7_relativeSplatPath:o.future.v7_relativeSplatPath}},c.initialized||o.future.v7_partialHydration?k.createElement(pf,{routes:o.routes,future:o.future,state:c}):r))))),null)}function pf(t){let{routes:r,future:o,state:i}=t;return vc(r,void 0,i,o)}var us;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(us||(us={}));var ls;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ls||(ls={}));var wc={exports:{}};(function(t,r){(function(o,i){t.exports=i()})(Un,function(){var o="minute",i=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(l,d,h){var p=d.prototype;h.utc=function(S){var B={date:S,utc:!0,args:arguments};return new d(B)},p.utc=function(S){var B=h(this.toDate(),{locale:this.$L,utc:!0});return S?B.add(this.utcOffset(),o):B},p.local=function(){return h(this.toDate(),{locale:this.$L,utc:!1})};var v=p.parse;p.parse=function(S){S.utc&&(this.$u=!0),this.$utils().u(S.$offset)||(this.$offset=S.$offset),v.call(this,S)};var y=p.init;p.init=function(){if(this.$u){var S=this.$d;this.$y=S.getUTCFullYear(),this.$M=S.getUTCMonth(),this.$D=S.getUTCDate(),this.$W=S.getUTCDay(),this.$H=S.getUTCHours(),this.$m=S.getUTCMinutes(),this.$s=S.getUTCSeconds(),this.$ms=S.getUTCMilliseconds()}else y.call(this)};var b=p.utcOffset;p.utcOffset=function(S,B){var W=this.$utils().u;if(W(S))return this.$u?0:W(this.$offset)?b.call(this):this.$offset;if(typeof S=="string"&&(S=function(U){U===void 0&&(U="");var V=U.match(i);if(!V)return null;var x=(""+V[0]).match(c)||["-",0,0],de=x[0],le=60*+x[1]+ +x[2];return le===0?0:de==="+"?le:-le}(S),S===null))return this;var Z=Math.abs(S)<=16?60*S:S,Y=this;if(B)return Y.$offset=Z,Y.$u=S===0,Y;if(S!==0){var X=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(Y=this.local().add(Z+X,o)).$offset=Z,Y.$x.$localOffset=X}else Y=this.utc();return Y};var M=p.format;p.format=function(S){var B=S||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return M.call(this,B)},p.valueOf=function(){var S=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*S},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var q=p.toDate;p.toDate=function(S){return S==="s"&&this.$offset?h(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():q.call(this)};var I=p.diff;p.diff=function(S,B,W){if(S&&this.$u===S.$u)return I.call(this,S,B,W);var Z=this.local(),Y=h(S).local();return I.call(Z,Y,B,W)}}})})(wc);var mf=wc.exports;const yf=ur(mf);var xc={exports:{}};(function(t,r){(function(o,i){t.exports=i()})(Un,function(){var o={year:0,month:1,day:2,hour:3,minute:4,second:5},i={};return function(c,l,d){var h,p=function(M,q,I){I===void 0&&(I={});var S=new Date(M),B=function(W,Z){Z===void 0&&(Z={});var Y=Z.timeZoneName||"short",X=W+"|"+Y,U=i[X];return U||(U=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:W,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:Y}),i[X]=U),U}(q,I);return B.formatToParts(S)},v=function(M,q){for(var I=p(M,q),S=[],B=0;B<I.length;B+=1){var W=I[B],Z=W.type,Y=W.value,X=o[Z];X>=0&&(S[X]=parseInt(Y,10))}var U=S[3],V=U===24?0:U,x=S[0]+"-"+S[1]+"-"+S[2]+" "+V+":"+S[4]+":"+S[5]+":000",de=+M;return(d.utc(x).valueOf()-(de-=de%1e3))/6e4},y=l.prototype;y.tz=function(M,q){M===void 0&&(M=h);var I,S=this.utcOffset(),B=this.toDate(),W=B.toLocaleString("en-US",{timeZone:M}),Z=Math.round((B-new Date(W))/1e3/60),Y=15*-Math.round(B.getTimezoneOffset()/15)-Z;if(!Number(Y))I=this.utcOffset(0,q);else if(I=d(W,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(Y,!0),q){var X=I.utcOffset();I=I.add(S-X,"minute")}return I.$x.$timezone=M,I},y.offsetName=function(M){var q=this.$x.$timezone||d.tz.guess(),I=p(this.valueOf(),q,{timeZoneName:M}).find(function(S){return S.type.toLowerCase()==="timezonename"});return I&&I.value};var b=y.startOf;y.startOf=function(M,q){if(!this.$x||!this.$x.$timezone)return b.call(this,M,q);var I=d(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return b.call(I,M,q).tz(this.$x.$timezone,!0)},d.tz=function(M,q,I){var S=I&&q,B=I||q||h,W=v(+d(),B);if(typeof M!="string")return d(M).tz(B);var Z=function(V,x,de){var le=V-60*x*1e3,fe=v(le,de);if(x===fe)return[le,x];var De=v(le-=60*(fe-x)*1e3,de);return fe===De?[le,fe]:[V-60*Math.min(fe,De)*1e3,Math.max(fe,De)]}(d.utc(M,S).valueOf(),W,B),Y=Z[0],X=Z[1],U=d(Y).utcOffset(X);return U.$x.$timezone=B,U},d.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},d.tz.setDefault=function(M){h=M}}})})(xc);var vf=xc.exports;const gf=ur(vf);var _c={exports:{}};(function(t,r){(function(o,i){t.exports=i()})(Un,function(){var o="month",i="quarter";return function(c,l){var d=l.prototype;d.quarter=function(v){return this.$utils().u(v)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(v-1))};var h=d.add;d.add=function(v,y){return v=Number(v),this.$utils().p(y)===i?this.add(3*v,o):h.bind(this)(v,y)};var p=d.startOf;d.startOf=function(v,y){var b=this.$utils(),M=!!b.u(y)||y;if(b.p(v)===i){var q=this.quarter()-1;return M?this.month(3*q).startOf(o).startOf("day"):this.month(3*q+2).endOf(o).endOf("day")}return p.bind(this)(v,y)}}})})(_c);var bf=_c.exports;const wf=ur(bf);var Ec={exports:{}};(function(t,r){(function(o,i){t.exports=i()})(Un,function(){return function(o,i,c){o=o||{};var l=i.prototype,d={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function h(v,y,b,M){return l.fromToBase(v,y,b,M)}c.en.relativeTime=d,l.fromToBase=function(v,y,b,M,q){for(var I,S,B,W=b.$locale().relativeTime||d,Z=o.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],Y=Z.length,X=0;X<Y;X+=1){var U=Z[X];U.d&&(I=M?c(v).diff(b,U.d,!0):b.diff(v,U.d,!0));var V=(o.rounding||Math.round)(Math.abs(I));if(B=I>0,V<=U.r||!U.r){V<=1&&X>0&&(U=Z[X-1]);var x=W[U.l];q&&(V=q(""+V)),S=typeof x=="string"?x.replace("%d",V):x(V,y,U.l,B);break}}if(y)return S;var de=B?W.future:W.past;return typeof de=="function"?de(S):de.replace("%s",S)},l.to=function(v,y){return h(v,y,this,!0)},l.from=function(v,y){return h(v,y,this)};var p=function(v){return v.$u?c.utc():c()};l.toNow=function(v){return this.to(p(this),v)},l.fromNow=function(v){return this.from(p(this),v)}}})})(Ec);var xf=Ec.exports;const _f=ur(xf);var Ef={exports:{}};(function(t,r){(function(o,i){t.exports=i(fu)})(Un,function(o){function i(d){return d&&typeof d=="object"&&"default"in d?d:{default:d}}var c=i(o),l={name:"zh-tw",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(d,h){return h==="W"?d+"":d+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(d,h){var p=100*d+h;return p<600?"":p<900?"":p<1100?"":p<1300?"":p<1800?"":""}};return c.default.locale(l,null,!0),l})})(Ef);at.extend(yf);at.extend(gf);at.extend(wf);at.extend(_f);at.locale("zh-tw");at.tz.setDefault();const Lr={KEYBOARD_TEXT_MEALS_HEIGHT:"190px",KEYBOARD_TEXT_MIN_HEIGHT:"250px",ORDER_CARD_WIDTH:"260px"},Cf="linear-gradient(to right, #33ceea 0%, #ffd194  51%, #33ceea  100%)",Sf="radial-gradient(circle, #ffd194 0%, #33ceea 100%);",Tf="0px",Of="1.5rem",kf="2rem",Rf=".2rem",Cc="1rem",Sc=".85rem",ds="1.1rem",Df="1.1rem",Pf="1.128rem",Af="1.4rem",fs="250px",hs="190px",Tc="284px",Mf="1.1rem";function Oc(t="all",r=1){return`${t} ${r}s cubic-bezier(0.075, 0.82, 0.165, 1)`}function If(t=0){return`calc(100vw - ${t}px);`}function ai(t=0){return`calc(100vh - ${t}px - ${Tf});`}function $f(t={}){const{width:r="200px",height:o="200px",innerWidth:i="150px",innerHeight:c="150px",rtColor:l="#F4D8DD",rbColor:d="#C9DDE7",lbColor:h="#F3EFE6",ltColor:p="#D5EAE5"}=t;return`
    width: ${r};
    height: ${o};
    display: flex;
    flex-direction: column;
    align-content: center;
    justify-content: center;
    position: relative;
    &::before {
      content: '';
      position: absolute;
      left: 0;
      width: ${r};
      height: ${o};
      border-radius: 50%;
      z-index: -1;
      background: radial-Gradient(
          circle at calc(50% + (50% - 0.625em) * 1)
            calc(50% + (50% - 0.625em) * 0),
          ${l} calc(0.625em - 1px),
          transparent 0.625em
        ),
        radial-Gradient(
          circle at calc(50% + (50% - 0.625em) * 0)
            calc(50% + (50% - 0.625em) * 1),
          ${d} calc(0.625em - 1px),
          transparent 0.625em
        ),
        radial-Gradient(
          circle at calc(50% + (50% - 0.625em) * -1)
            calc(50% + (50% - 0.625em) * 0),
          ${h} calc(0.625em - 1px),
          transparent 0.625em
        ),
        radial-Gradient(
          circle at calc(50% + (50% - 0.625em) * 0)
            calc(50% + (50% - 0.625em) * -1),
          ${p} calc(0.625em - 1px),
          transparent 0.625em
        ),
        conic-Gradient(
          ${l} 0% 90deg,
          ${d} 0% 180deg,
          ${h} 0% 270deg,
          ${p} 0% 360deg
        );
      background-origin: border-box;
      mask: radial-Gradient(
        closest-side,
        red calc(100% - 1.25em - 0.75em - 1px),
        transparent calc(100% - 1.25em - 0.75em) calc(100% - 1.25em),
        red calc(100% - 1.25em + 1px) calc(100% - 1px),
        transparent
      );
    }
    .ant-statistic {
      background-color: #fff;
      border-radius: 50%;
      margin: auto;
      display: flex;
      flex-direction: column;
      flex-wrap: wrap;
      width: ${i};
      height: ${c};
      justify-content: center;
    }
  `}const Lf=ce`
  * {
    margin: 0;
  }
  :root {
    font-family: -apple-system, BlinkMacSystemFont, Inter, 'Segoe UI', Roboto,
      'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji',
      'Segoe UI Emoji', 'Segoe UI Symbol';
    line-height: 1.5;
    font-weight: 400;

    color-scheme: light dark;
    color: #213547;
    background-color: #fff;
    font-size: 16px;

    font-synthesis: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .resta--hidden-scroll {
    overflow: hidden;
  }

  a {
    font-weight: 500;
    color: #646cff;
    text-decoration: inherit;

    &:hover {
      color: #535bf2;
    }
  }

  body {
    margin: 0;
    min-width: 320px;
    min-height: 100vh;
    /* background-color: #fff; */ // move it to root instead, otherwise the circle style of statistics will be gone
  }

  h1 {
    font-size: 3.2em;
    line-height: 1.1;
  }

  small {
    font-size: 0.8rem;
  }

  .ant-btn {
    &.ant-btn-primary {
      text-shadow: 0 0 5px #beb7b7;
    }

    &.ant-btn-default {
    }

    &.ant-btn-text {
      padding: 1.1rem;
      border-radius: 9999px;
      vertical-align: middle;

      &:not(:disabled):not(.ant-btn-disabled) {
        color: #404756;
        &:active,
        &:focus {
          color: #0a7ea4;
          background: #e6f7ff;
        }
      }
    }
  }

  .ant-picker-dropdown {
    .ant-picker-footer-extra:not(:last-child) {
      border-bottom: none;
    }
  }

  .ant-picker-ok,
  .ant-picker-now {
    .ant-btn-primary,
    .ant-picker-now-btn {
      padding: 1.1rem;
      border-radius: 9999px;
      vertical-align: middle;
      background: #ffffff;
      box-shadow: none;
      border: none;
      text-shadow: none;

      &:not(:disabled):not(.ant-btn-disabled) {
        color: #404756;
        &:hover {
          background: #23272f0d;
          box-shadow: none;
        }
        &:active,
        &:focus {
          color: #0a7ea4;
          background: #e6f7ff;
        }
      }
    }
  }

  .ant-picker-now {
    padding-block: 2px;
    .ant-picker-now-btn {
      padding: 0.7rem 1rem;
      vertical-align: middle;
    }
  }

  .ant-switch {
    transition: ${Oc()};

    width: 80px;
    font-size: 1rem;
    height: 30px;
    line-height: 30px;
    vertical-align: text-top;

    .ant-switch-handle {
      top: 5px;
    }

    .ant-switch-inner {
      > span {
        font-size: 1rem !important;
      }
      .ant-switch-inner-unchecked {
        margin-top: -30px;
      }
    }

    &.ant-switch-checked {
      background: ${Cf};
      background-size: 200% auto;
      &:hover:not(.ant-switch-disabled) {
        background: ${Sf};
      }
    }
    .ant-switch-inner {
      text-shadow: 0 0 10px #636060;
    }
  }

  .ant-drawer {
    & > .ant-drawer-content-wrapper {
      box-shadow:
        -6px 0 16px 0 transparent,
        -3px 0 6px -4px transparent,
        -9px 0 28px 8px rgba(0, 0, 0, 0.05);
    }

    .ant-drawer-mask {
      background: #ffffffca;
    }

    .ant-drawer-body {
      padding: 1rem;
    }

    .ant-drawer-header-title {
      flex-direction: row-reverse;
    }

    .ant-drawer-title {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
  }

  .ant-modal {
    .ant-modal-confirm-content {
      font-size: 1rem;
    }
  }

  .ant-modal-root {
    .ant-modal-mask {
      background: #ffffffca;
    }
  }

  .ant-divider {
    margin: 8px 0;
  }

  .ant-input-affix-wrapper .ant-input-clear-icon {
    font-size: 1rem;
  }

  .ant-select .ant-select-clear {
    font-size: 1rem;
    margin-top: -8px;
  }

  .ant-notification {
    .ant-notification-notice-wrapper {
      .ant-notification-notice {
        &-success {
          .ant-notification-notice-progress {
            &::-webkit-progress-value {
              background: #52c41a;
            }
          }
        }
        &-error {
          .ant-notification-notice-progress {
            &::-webkit-progress-value {
              background: #ff4d4f;
            }
          }
        }
        &-warning {
          .ant-notification-notice-progress {
            &::-webkit-progress-value {
              background: #faad14;
            }
          }
        }
      }

      .ant-notification-notice-message {
        font-size: 1.12rem !important;
        font-weight: 500;
        line-height: 1.2;
        margin-bottom: 1rem;
      }

      .ant-notification-notice-description {
        font-size: 1rem !important;
        font-weight: normal;
        color: #444;

        small {
          margin-top: 10px;
          display: block;
        }
      }
    }
    &.ant-notification-topRight {
      .ant-notification-notice-wrapper {
        top: -20px;
        right: 32px;
      }
    }
  }

  .ant-float-btn {
    z-index: 1001;
  }

  .ant-float-btn-group {
    height: min-content;
  }

  @media (prefers-color-scheme: light) {
    :root {
      color: #213547;
      /* background-color: #ffffff; */
    }
    a:hover {
      color: #747bff;
    }
    button {
      background-color: #f9f9f9;
    }
  }

  @media (prefers-color-scheme: dark) {
    :root {
      color: #213547;
      /* background-color: #ffffff; */
    }
  }

  /* PWA: It targets only the app used with a system icon in all mode */
  @media (display-mode: standalone),
    (display-mode: fullscreen),
    (display-mode: minimal-ui) {
    * {
      user-select: none;
    }
    // stop browser-refreshing when scrolling down to bottom
    body {
      overscroll-behavior-y: contain;
    }
  }
`,Bf=`linear-gradient(to right, #2bc0e4 0%, #eaecc6 51%, #2bc0e4 100%);
    background-size: 200% auto;
    border-radius: 10px;
  `,Nf={primaryColor:"#fff",colorPrimary:Bf,colorPrimaryHover:`'?';
    background-position: center;
    box-shadow: 0 0 20px #eee;
  `,colorPrimaryActive:`'?';
    background-position: center;
    box-shadow: 0 0 20px #eee;
  `,textHoverBg:"#23272f0d"},jf={Button:Nf},Ff="modulepreload",Kf=function(t,r){return new URL(t,r).href},ps={},wo=function(r,o,i){let c=Promise.resolve();if(o&&o.length>0){const d=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));c=Promise.allSettled(o.map(v=>{if(v=Kf(v,i),v in ps)return;ps[v]=!0;const y=v.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(!!i)for(let I=d.length-1;I>=0;I--){const S=d[I];if(S.href===v&&(!y||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${b}`))return;const q=document.createElement("link");if(q.rel=y?"stylesheet":Ff,y||(q.as="script"),q.crossOrigin="",q.href=v,p&&q.setAttribute("nonce",p),document.head.appendChild(q),y)return new Promise((I,S)=>{q.addEventListener("load",I),q.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return c.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return r().catch(l)})},zf=k.memo(()=>{ri();const t=Bd(),r=k.useRef();k.useRef();const o=k.useCallback(c=>{c.preventDefault();const{url:l}=c.currentTarget.dataset;t(l)},[t]),i=k.useCallback(()=>{window.location.reload()},[]);return pe(Mt,{children:[j("div",{id:"resta-header-observer",ref:r}),pe(Gn.Group,{trigger:"click",style:{right:10,top:10,zIndex:1001},icon:j(hu,{}),placement:"bottom",children:[j(Gn,{"data-url":"/",icon:j(pu,{}),onClick:o}),j(Gn,{"data-url":"/order-list",icon:j(mu,{}),onClick:o}),j(Gn,{"data-url":"/statistics",icon:j(yu,{}),onClick:o}),j(Gn,{"data-url":"/settings",icon:j(vu,{}),onClick:o}),j(Gn,{icon:j(As,{}),onClick:i})]})]})}),Uf=ce`
  /* width: 100vw; */
`,Yf=()=>pe(Mt,{children:[j(zf,{}),j("main",{css:Uf,children:j(Qd,{})})]});var kc={exports:{}};(function(t,r){(function(o,i){t.exports=i()})(Un,function(){var o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=s[u])})(e,n)},i=function(){return(i=Object.assign||function(e){for(var n,a=1,s=arguments.length;a<s;a++)for(var u in n=arguments[a])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e}).apply(this,arguments)};function c(e,n,a){for(var s,u=0,f=n.length;u<f;u++)!s&&u in n||((s=s||Array.prototype.slice.call(n,0,u))[u]=n[u]);return e.concat(s||Array.prototype.slice.call(n))}var l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Un,d=Object.keys,h=Array.isArray;function p(e,n){return typeof n!="object"||d(n).forEach(function(a){e[a]=n[a]}),e}typeof Promise>"u"||l.Promise||(l.Promise=Promise);var v=Object.getPrototypeOf,y={}.hasOwnProperty;function b(e,n){return y.call(e,n)}function M(e,n){typeof n=="function"&&(n=n(v(e))),(typeof Reflect>"u"?d:Reflect.ownKeys)(n).forEach(function(a){I(e,a,n[a])})}var q=Object.defineProperty;function I(e,n,a,s){q(e,n,p(a&&b(a,"get")&&typeof a.get=="function"?{get:a.get,set:a.set,configurable:!0}:{value:a,configurable:!0,writable:!0},s))}function S(e){return{from:function(n){return e.prototype=Object.create(n.prototype),I(e.prototype,"constructor",e),{extend:M.bind(null,e.prototype)}}}}var B=Object.getOwnPropertyDescriptor,W=[].slice;function Z(e,n,a){return W.call(e,n,a)}function Y(e,n){return n(e)}function X(e){if(!e)throw new Error("Assertion Failed")}function U(e){l.setImmediate?setImmediate(e):setTimeout(e,0)}function V(e,n){if(typeof n=="string"&&b(e,n))return e[n];if(!n)return e;if(typeof n!="string"){for(var a=[],s=0,u=n.length;s<u;++s){var f=V(e,n[s]);a.push(f)}return a}var m=n.indexOf(".");if(m!==-1){var g=e[n.substr(0,m)];return g==null?void 0:V(g,n.substr(m+1))}}function x(e,n,a){if(e&&n!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof n!="string"&&"length"in n){X(typeof a!="string"&&"length"in a);for(var s=0,u=n.length;s<u;++s)x(e,n[s],a[s])}else{var f,m,g=n.indexOf(".");g!==-1?(f=n.substr(0,g),(m=n.substr(g+1))===""?a===void 0?h(e)&&!isNaN(parseInt(f))?e.splice(f,1):delete e[f]:e[f]=a:x(g=!(g=e[f])||!b(e,f)?e[f]={}:g,m,a)):a===void 0?h(e)&&!isNaN(parseInt(n))?e.splice(n,1):delete e[n]:e[n]=a}}function de(e){var n,a={};for(n in e)b(e,n)&&(a[n]=e[n]);return a}var le=[].concat;function fe(e){return le.apply([],e)}var wn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fe([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(n){return n+e+"Array"})}))).filter(function(e){return l[e]}),De=new Set(wn.map(function(e){return l[e]})),ve=null;function me(e){return ve=new WeakMap,e=function n(a){if(!a||typeof a!="object")return a;var s=ve.get(a);if(s)return s;if(h(a)){s=[],ve.set(a,s);for(var u=0,f=a.length;u<f;++u)s.push(n(a[u]))}else if(De.has(a.constructor))s=a;else{var m,g=v(a);for(m in s=g===Object.prototype?{}:Object.create(g),ve.set(a,s),a)b(a,m)&&(s[m]=n(a[m]))}return s}(e),ve=null,e}var Se={}.toString;function Le(e){return Se.call(e).slice(8,-1)}var et=typeof Symbol<"u"?Symbol.iterator:"@@iterator",tt=typeof et=="symbol"?function(e){var n;return e!=null&&(n=e[et])&&n.apply(e)}:function(){return null};function Ae(e,n){return n=e.indexOf(n),0<=n&&e.splice(n,1),0<=n}var _t={};function Ze(e){var n,a,s,u;if(arguments.length===1){if(h(e))return e.slice();if(this===_t&&typeof e=="string")return[e];if(u=tt(e)){for(a=[];!(s=u.next()).done;)a.push(s.value);return a}if(e==null)return[e];if(typeof(n=e.length)!="number")return[e];for(a=new Array(n);n--;)a[n]=e[n];return a}for(n=arguments.length,a=new Array(n);n--;)a[n]=arguments[n];return a}var Et=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},nt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(nt),St={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Rt(e,n){this.name=e,this.message=n}function Nt(e,n){return e+". Errors: "+Object.keys(n).map(function(a){return n[a].toString()}).filter(function(a,s,u){return u.indexOf(a)===s}).join(`
`)}function Ct(e,n,a,s){this.failures=n,this.failedKeys=s,this.successCount=a,this.message=Nt(e,n)}function ge(e,n){this.name="BulkError",this.failures=Object.keys(n).map(function(a){return n[a]}),this.failuresByPos=n,this.message=Nt(e,this.failures)}S(Rt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(Ct).from(Rt),S(ge).from(Rt);var Fe=tn.reduce(function(e,n){return e[n]=n+"Error",e},{}),ze=Rt,ue=tn.reduce(function(e,n){var a=n+"Error";function s(u,f){this.name=a,u?typeof u=="string"?(this.message="".concat(u).concat(f?`
 `+f:""),this.inner=f||null):typeof u=="object"&&(this.message="".concat(u.name," ").concat(u.message),this.inner=u):(this.message=St[n]||a,this.inner=null)}return S(s).from(ze),e[n]=s,e},{});ue.Syntax=SyntaxError,ue.Type=TypeError,ue.Range=RangeError;var jt=nt.reduce(function(e,n){return e[n+"Error"]=ue[n],e},{}),ft=tn.reduce(function(e,n){return["Syntax","Type","Range"].indexOf(n)===-1&&(e[n+"Error"]=ue[n]),e},{});function xe(){}function Dt(e){return e}function gn(e,n){return e==null||e===Dt?n:function(a){return n(e(a))}}function Ft(e,n){return function(){e.apply(this,arguments),n.apply(this,arguments)}}function Pt(e,n){return e===xe?n:function(){var a=e.apply(this,arguments);a!==void 0&&(arguments[0]=a);var s=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var f=n.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Ft(s,this.onsuccess):s),u&&(this.onerror=this.onerror?Ft(u,this.onerror):u),f!==void 0?f:a}}function an(e,n){return e===xe?n:function(){e.apply(this,arguments);var a=this.onsuccess,s=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),a&&(this.onsuccess=this.onsuccess?Ft(a,this.onsuccess):a),s&&(this.onerror=this.onerror?Ft(s,this.onerror):s)}}function on(e,n){return e===xe?n:function(a){var s=e.apply(this,arguments);p(a,s);var u=this.onsuccess,f=this.onerror;return this.onsuccess=null,this.onerror=null,a=n.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?Ft(u,this.onsuccess):u),f&&(this.onerror=this.onerror?Ft(f,this.onerror):f),s===void 0?a===void 0?void 0:a:p(s,a)}}function sn(e,n){return e===xe?n:function(){return n.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Ht(e,n){return e===xe?n:function(){var a=e.apply(this,arguments);if(a&&typeof a.then=="function"){for(var s=this,u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];return a.then(function(){return n.apply(s,f)})}return n.apply(this,arguments)}}ft.ModifyError=Ct,ft.DexieError=Rt,ft.BulkError=ge;var he=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ye(e){he=e}var Ce={},Be=100,wn=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,v(e),e];var n=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[n,v(n),e]}(),nt=wn[0],tn=wn[1],wn=wn[2],tn=tn&&tn.then,Ee=nt&&nt.constructor,Ne=!!wn,We=function(e,n){bt.push([e,n]),ot&&(queueMicrotask(L),ot=!1)},Ve=!0,ot=!0,Ue=[],Qe=[],Kt=Dt,gt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xe,pgp:!1,env:{},finalize:xe},oe=gt,bt=[],mt=0,Je=[];function J(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var n=this._PSD=oe;if(typeof e!="function"){if(e!==Ce)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&cn(this,this._value))}this._state=null,this._value=null,++n.ref,function a(s,u){try{u(function(f){if(s._state===null){if(f===s)throw new TypeError("A promise cannot be resolved with itself.");var m=s._lib&&K();f&&typeof f.then=="function"?a(s,function(g,C){f instanceof J?f._then(g,C):f.then(g,C)}):(s._state=!0,s._value=f,Cn(s)),m&&G()}},cn.bind(null,s))}catch(f){cn(s,f)}}(this,e)}var zt={get:function(){var e=oe,n=pt;function a(s,u){var f=this,m=!e.global&&(e!==oe||n!==pt),g=m&&!Wt(),C=new J(function(_,D){$n(f,new en(Ln(s,e,m,g),Ln(u,e,m,g),_,D,e))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return a.prototype=Ce,a},set:function(e){I(this,"then",e&&e.prototype===Ce?zt:{get:function(){return e},set:zt.set})}};function en(e,n,a,s,u){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof n=="function"?n:null,this.resolve=a,this.reject=s,this.psd=u}function cn(e,n){var a,s;Qe.push(n),e._state===null&&(a=e._lib&&K(),n=Kt(n),e._state=!1,e._value=n,s=e,Ue.some(function(u){return u._value===s._value})||Ue.push(s),Cn(e),a&&G())}function Cn(e){var n=e._listeners;e._listeners=[];for(var a=0,s=n.length;a<s;++a)$n(e,n[a]);var u=e._PSD;--u.ref||u.finalize(),mt===0&&(++mt,We(function(){--mt==0&&se()},[]))}function $n(e,n){if(e._state!==null){var a=e._state?n.onFulfilled:n.onRejected;if(a===null)return(e._state?n.resolve:n.reject)(e._value);++n.psd.ref,++mt,We(R,[a,e,n])}else e._listeners.push(n)}function R(e,n,a){try{var s,u=n._value;!n._state&&Qe.length&&(Qe=[]),s=he&&n._consoleTask?n._consoleTask.run(function(){return e(u)}):e(u),n._state||Qe.indexOf(u)!==-1||function(f){for(var m=Ue.length;m;)if(Ue[--m]._value===f._value)return Ue.splice(m,1)}(n),a.resolve(s)}catch(f){a.reject(f)}finally{--mt==0&&se(),--a.psd.ref||a.psd.finalize()}}function L(){Tt(gt,function(){K()&&G()})}function K(){var e=Ve;return ot=Ve=!1,e}function G(){var e,n,a;do for(;0<bt.length;)for(e=bt,bt=[],a=e.length,n=0;n<a;++n){var s=e[n];s[0].apply(null,s[1])}while(0<bt.length);ot=Ve=!0}function se(){var e=Ue;Ue=[],e.forEach(function(s){s._PSD.onunhandled.call(null,s._value,s)});for(var n=Je.slice(0),a=n.length;a;)n[--a]()}function be(e){return new J(Ce,!1,e)}function re(e,n){var a=oe;return function(){var s=K(),u=oe;try{return Ut(a,!0),e.apply(this,arguments)}catch(f){n&&n(f)}finally{Ut(u,!1),s&&G()}}}M(J.prototype,{then:zt,_then:function(e,n){$n(this,new en(null,null,e,n,oe))},catch:function(e){if(arguments.length===1)return this.then(null,e);var n=e,a=arguments[1];return typeof n=="function"?this.then(null,function(s){return(s instanceof n?a:be)(s)}):this.then(null,function(s){return(s&&s.name===n?a:be)(s)})},finally:function(e){return this.then(function(n){return J.resolve(e()).then(function(){return n})},function(n){return J.resolve(e()).then(function(){return be(n)})})},timeout:function(e,n){var a=this;return e<1/0?new J(function(s,u){var f=setTimeout(function(){return u(new ue.Timeout(n))},e);a.then(s,u).finally(clearTimeout.bind(null,f))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&I(J.prototype,Symbol.toStringTag,"Dexie.Promise"),gt.env=bn(),M(J,{all:function(){var e=Ze.apply(null,arguments).map(Xt);return new J(function(n,a){e.length===0&&n([]);var s=e.length;e.forEach(function(u,f){return J.resolve(u).then(function(m){e[f]=m,--s||n(e)},a)})})},resolve:function(e){return e instanceof J?e:e&&typeof e.then=="function"?new J(function(n,a){e.then(n,a)}):new J(Ce,!0,e)},reject:be,race:function(){var e=Ze.apply(null,arguments).map(Xt);return new J(function(n,a){e.map(function(s){return J.resolve(s).then(n,a)})})},PSD:{get:function(){return oe},set:function(e){return oe=e}},totalEchoes:{get:function(){return pt}},newPSD:je,usePSD:Tt,scheduler:{get:function(){return We},set:function(e){We=e}},rejectionMapper:{get:function(){return Kt},set:function(e){Kt=e}},follow:function(e,n){return new J(function(a,s){return je(function(u,f){var m=oe;m.unhandleds=[],m.onunhandled=f,m.finalize=Ft(function(){var g,C=this;g=function(){C.unhandleds.length===0?u():f(C.unhandleds[0])},Je.push(function _(){g(),Je.splice(Je.indexOf(_),1)}),++mt,We(function(){--mt==0&&se()},[])},m.finalize),e()},n,a,s)})}}),Ee&&(Ee.allSettled&&I(J,"allSettled",function(){var e=Ze.apply(null,arguments).map(Xt);return new J(function(n){e.length===0&&n([]);var a=e.length,s=new Array(a);e.forEach(function(u,f){return J.resolve(u).then(function(m){return s[f]={status:"fulfilled",value:m}},function(m){return s[f]={status:"rejected",reason:m}}).then(function(){return--a||n(s)})})})}),Ee.any&&typeof AggregateError<"u"&&I(J,"any",function(){var e=Ze.apply(null,arguments).map(Xt);return new J(function(n,a){e.length===0&&a(new AggregateError([]));var s=e.length,u=new Array(s);e.forEach(function(f,m){return J.resolve(f).then(function(g){return n(g)},function(g){u[m]=g,--s||a(new AggregateError(u))})})})}));var ee={awaits:0,echoes:0,id:0},Te=0,we=[],ht=0,pt=0,_e=0;function je(e,n,a,s){var u=oe,f=Object.create(u);return f.parent=u,f.ref=0,f.global=!1,f.id=++_e,gt.env,f.env=Ne?{Promise:J,PromiseProp:{value:J,configurable:!0,writable:!0},all:J.all,race:J.race,allSettled:J.allSettled,any:J.any,resolve:J.resolve,reject:J.reject}:{},n&&p(f,n),++u.ref,f.finalize=function(){--this.parent.ref||this.parent.finalize()},s=Tt(f,e,a,s),f.ref===0&&f.finalize(),s}function it(){return ee.id||(ee.id=++Te),++ee.awaits,ee.echoes+=Be,ee.id}function Wt(){return!!ee.awaits&&(--ee.awaits==0&&(ee.id=0),ee.echoes=ee.awaits*Be,!0)}function Xt(e){return ee.echoes&&e&&e.constructor===Ee?(it(),e.then(function(n){return Wt(),n},function(n){return Wt(),rt(n)})):e}function Sn(){var e=we[we.length-1];we.pop(),Ut(e,!1)}function Ut(e,n){var a,s=oe;(n?!ee.echoes||ht++&&e===oe:!ht||--ht&&e===oe)||queueMicrotask(n?(function(u){++pt,ee.echoes&&--ee.echoes!=0||(ee.echoes=ee.awaits=ee.id=0),we.push(oe),Ut(u,!0)}).bind(null,e):Sn),e!==oe&&(oe=e,s===gt&&(gt.env=bn()),Ne&&(a=gt.env.Promise,n=e.env,(s.global||e.global)&&(Object.defineProperty(l,"Promise",n.PromiseProp),a.all=n.all,a.race=n.race,a.resolve=n.resolve,a.reject=n.reject,n.allSettled&&(a.allSettled=n.allSettled),n.any&&(a.any=n.any))))}function bn(){var e=l.Promise;return Ne?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(l,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Tt(e,n,a,s,u){var f=oe;try{return Ut(e,!0),n(a,s,u)}finally{Ut(f,!1)}}function Ln(e,n,a,s){return typeof e!="function"?e:function(){var u=oe;a&&it(),Ut(n,!0);try{return e.apply(this,arguments)}finally{Ut(u,!1),s&&queueMicrotask(Wt)}}}function Tn(e){Promise===Ee&&ee.echoes===0?ht===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+tn).indexOf("[native code]")===-1&&(it=Wt=xe);var rt=J.reject,ke="",st="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Yt="String expected.",ut=[],dn="__dbnames",qn="readonly",dr="readwrite";function Bn(e,n){return e?n?function(){return e.apply(this,arguments)&&n.apply(this,arguments)}:e:n}var li={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Yr(e){return typeof e!="string"||/\./.test(e)?function(n){return n}:function(n){return n[e]===void 0&&e in n&&delete(n=me(n))[e],n}}function di(){throw ue.Type()}function Ye(e,n){try{var a=fi(e),s=fi(n);if(a!==s)return a==="Array"?1:s==="Array"?-1:a==="binary"?1:s==="binary"?-1:a==="string"?1:s==="string"?-1:a==="Date"?1:s!=="Date"?NaN:-1;switch(a){case"number":case"Date":case"string":return n<e?1:e<n?-1:0;case"binary":return function(u,f){for(var m=u.length,g=f.length,C=m<g?m:g,_=0;_<C;++_)if(u[_]!==f[_])return u[_]<f[_]?-1:1;return m===g?0:m<g?-1:1}(hi(e),hi(n));case"Array":return function(u,f){for(var m=u.length,g=f.length,C=m<g?m:g,_=0;_<C;++_){var D=Ye(u[_],f[_]);if(D!==0)return D}return m===g?0:m<g?-1:1}(e,n)}}catch{}return NaN}function fi(e){var n=typeof e;return n!="object"?n:ArrayBuffer.isView(e)?"binary":(e=Le(e),e==="ArrayBuffer"?"binary":e)}function hi(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var pi=(ct.prototype._trans=function(e,n,a){var s=this._tx||oe.trans,u=this.name,f=he&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function m(_,D,w){if(!w.schema[u])throw new ue.NotFound("Table "+u+" not part of transaction");return n(w.idbtrans,w)}var g=K();try{var C=s&&s.db._novip===this.db._novip?s===oe.trans?s._promise(e,m,a):je(function(){return s._promise(e,m,a)},{trans:s,transless:oe.transless||oe}):function _(D,w,P,E){if(D.idbdb&&(D._state.openComplete||oe.letThrough||D._vip)){var O=D._createTransaction(w,P,D._dbSchema);try{O.create(),D._state.PR1398_maxLoop=3}catch(A){return A.name===Fe.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return _(D,w,P,E)})):rt(A)}return O._promise(w,function(A,T){return je(function(){return oe.trans=O,E(A,T,O)})}).then(function(A){if(w==="readwrite")try{O.idbtrans.commit()}catch{}return w==="readonly"?A:O._completion.then(function(){return A})})}if(D._state.openComplete)return rt(new ue.DatabaseClosed(D._state.dbOpenError));if(!D._state.isBeingOpened){if(!D._state.autoOpen)return rt(new ue.DatabaseClosed);D.open().catch(xe)}return D._state.dbReadyPromise.then(function(){return _(D,w,P,E)})}(this.db,e,[this.name],m);return f&&(C._consoleTask=f,C=C.catch(function(_){return console.trace(_),rt(_)})),C}finally{g&&G()}},ct.prototype.get=function(e,n){var a=this;return e&&e.constructor===Object?this.where(e).first(n):e==null?rt(new ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(s){return a.core.get({trans:s,key:e}).then(function(u){return a.hook.reading.fire(u)})}).then(n)},ct.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(h(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var n=d(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(C){if(C.compound&&n.every(function(D){return 0<=C.keyPath.indexOf(D)})){for(var _=0;_<n.length;++_)if(n.indexOf(C.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(C,_){return C.keyPath.length-_.keyPath.length})[0];if(a&&this.db._maxKey!==ke){var m=a.keyPath.slice(0,n.length);return this.where(m).equals(m.map(function(_){return e[_]}))}!a&&he&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(n.join("+"),"]"));var s=this.schema.idxByName,u=this.db._deps.indexedDB;function f(C,_){return u.cmp(C,_)===0}var g=n.reduce(function(P,_){var D=P[0],w=P[1],P=s[_],E=e[_];return[D||P,D||!P?Bn(w,P&&P.multi?function(O){return O=V(O,_),h(O)&&O.some(function(A){return f(E,A)})}:function(O){return f(E,V(O,_))}):w]},[null,null]),m=g[0],g=g[1];return m?this.where(m.name).equals(e[m.keyPath]).filter(g):a?this.filter(g):this.where(n).equals("")},ct.prototype.filter=function(e){return this.toCollection().and(e)},ct.prototype.count=function(e){return this.toCollection().count(e)},ct.prototype.offset=function(e){return this.toCollection().offset(e)},ct.prototype.limit=function(e){return this.toCollection().limit(e)},ct.prototype.each=function(e){return this.toCollection().each(e)},ct.prototype.toArray=function(e){return this.toCollection().toArray(e)},ct.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ct.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,h(e)?"[".concat(e.join("+"),"]"):e))},ct.prototype.reverse=function(){return this.toCollection().reverse()},ct.prototype.mapToClass=function(e){var n,a=this.db,s=this.name;function u(){return n!==null&&n.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof di&&(function(C,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function D(){this.constructor=C}o(C,_),C.prototype=_===null?Object.create(_):(D.prototype=_.prototype,new D)}(u,n=e),Object.defineProperty(u.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),u.prototype.table=function(){return s},e=u);for(var f=new Set,m=e.prototype;m;m=v(m))Object.getOwnPropertyNames(m).forEach(function(C){return f.add(C)});function g(C){if(!C)return C;var _,D=Object.create(e.prototype);for(_ in C)if(!f.has(_))try{D[_]=C[_]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=g,this.hook("reading",g),e},ct.prototype.defineClass=function(){return this.mapToClass(function(e){p(this,e)})},ct.prototype.add=function(e,n){var a=this,s=this.schema.primKey,u=s.auto,f=s.keyPath,m=e;return f&&u&&(m=Yr(f)(e)),this._trans("readwrite",function(g){return a.core.mutate({trans:g,type:"add",keys:n!=null?[n]:null,values:[m]})}).then(function(g){return g.numFailures?J.reject(g.failures[0]):g.lastResult}).then(function(g){if(f)try{x(e,f,g)}catch{}return g})},ct.prototype.update=function(e,n){return typeof e!="object"||h(e)?this.where(":id").equals(e).modify(n):(e=V(e,this.schema.primKey.keyPath),e===void 0?rt(new ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(n))},ct.prototype.put=function(e,n){var a=this,s=this.schema.primKey,u=s.auto,f=s.keyPath,m=e;return f&&u&&(m=Yr(f)(e)),this._trans("readwrite",function(g){return a.core.mutate({trans:g,type:"put",values:[m],keys:n!=null?[n]:null})}).then(function(g){return g.numFailures?J.reject(g.failures[0]):g.lastResult}).then(function(g){if(f)try{x(e,f,g)}catch{}return g})},ct.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(a){return n.core.mutate({trans:a,type:"delete",keys:[e]})}).then(function(a){return a.numFailures?J.reject(a.failures[0]):void 0})},ct.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:li})}).then(function(n){return n.numFailures?J.reject(n.failures[0]):void 0})},ct.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(a){return n.core.getMany({keys:e,trans:a}).then(function(s){return s.map(function(u){return n.hook.reading.fire(u)})})})},ct.prototype.bulkAdd=function(e,n,a){var s=this,u=Array.isArray(n)?n:void 0,f=(a=a||(u?void 0:n))?a.allKeys:void 0;return this._trans("readwrite",function(m){var _=s.schema.primKey,g=_.auto,_=_.keyPath;if(_&&u)throw new ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var C=e.length,_=_&&g?e.map(Yr(_)):e;return s.core.mutate({trans:m,type:"add",keys:u,values:_,wantResults:f}).then(function(O){var w=O.numFailures,P=O.results,E=O.lastResult,O=O.failures;if(w===0)return f?P:E;throw new ge("".concat(s.name,".bulkAdd(): ").concat(w," of ").concat(C," operations failed"),O)})})},ct.prototype.bulkPut=function(e,n,a){var s=this,u=Array.isArray(n)?n:void 0,f=(a=a||(u?void 0:n))?a.allKeys:void 0;return this._trans("readwrite",function(m){var _=s.schema.primKey,g=_.auto,_=_.keyPath;if(_&&u)throw new ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var C=e.length,_=_&&g?e.map(Yr(_)):e;return s.core.mutate({trans:m,type:"put",keys:u,values:_,wantResults:f}).then(function(O){var w=O.numFailures,P=O.results,E=O.lastResult,O=O.failures;if(w===0)return f?P:E;throw new ge("".concat(s.name,".bulkPut(): ").concat(w," of ").concat(C," operations failed"),O)})})},ct.prototype.bulkUpdate=function(e){var n=this,a=this.core,s=e.map(function(m){return m.key}),u=e.map(function(m){return m.changes}),f=[];return this._trans("readwrite",function(m){return a.getMany({trans:m,keys:s,cache:"clone"}).then(function(g){var C=[],_=[];e.forEach(function(w,P){var E=w.key,O=w.changes,A=g[P];if(A){for(var T=0,$=Object.keys(O);T<$.length;T++){var N=$[T],F=O[N];if(N===n.schema.primKey.keyPath){if(Ye(F,E)!==0)throw new ue.Constraint("Cannot update primary key in bulkUpdate()")}else x(A,N,F)}f.push(P),C.push(E),_.push(A)}});var D=C.length;return a.mutate({trans:m,type:"put",keys:C,values:_,updates:{keys:s,changeSpecs:u}}).then(function(w){var P=w.numFailures,E=w.failures;if(P===0)return D;for(var O=0,A=Object.keys(E);O<A.length;O++){var T,$=A[O],N=f[Number($)];N!=null&&(T=E[$],delete E[$],E[N]=T)}throw new ge("".concat(n.name,".bulkUpdate(): ").concat(P," of ").concat(D," operations failed"),E)})})})},ct.prototype.bulkDelete=function(e){var n=this,a=e.length;return this._trans("readwrite",function(s){return n.core.mutate({trans:s,type:"delete",keys:e})}).then(function(m){var u=m.numFailures,f=m.lastResult,m=m.failures;if(u===0)return f;throw new ge("".concat(n.name,".bulkDelete(): ").concat(u," of ").concat(a," operations failed"),m)})},ct);function ct(){}function fr(e){function n(m,g){if(g){for(var C=arguments.length,_=new Array(C-1);--C;)_[C-1]=arguments[C];return a[m].subscribe.apply(null,_),e}if(typeof m=="string")return a[m]}var a={};n.addEventType=f;for(var s=1,u=arguments.length;s<u;++s)f(arguments[s]);return n;function f(m,g,C){if(typeof m!="object"){var _;g=g||sn;var D={subscribers:[],fire:C=C||xe,subscribe:function(w){D.subscribers.indexOf(w)===-1&&(D.subscribers.push(w),D.fire=g(D.fire,w))},unsubscribe:function(w){D.subscribers=D.subscribers.filter(function(P){return P!==w}),D.fire=D.subscribers.reduce(g,C)}};return a[m]=n[m]=D}d(_=m).forEach(function(w){var P=_[w];if(h(P))f(w,_[w][0],_[w][1]);else{if(P!=="asap")throw new ue.InvalidArgument("Invalid event config");var E=f(w,Dt,function(){for(var O=arguments.length,A=new Array(O);O--;)A[O]=arguments[O];E.subscribers.forEach(function(T){U(function(){T.apply(null,A)})})})}})}}function hr(e,n){return S(n).from({prototype:e}),n}function Hn(e,n){return!(e.filter||e.algorithm||e.or)&&(n?e.justLimit:!e.replayFilter)}function Ua(e,n){e.filter=Bn(e.filter,n)}function Ya(e,n,a){var s=e.replayFilter;e.replayFilter=s?function(){return Bn(s(),n())}:n,e.justLimit=a&&!s}function qr(e,n){if(e.isPrimKey)return n.primaryKey;var a=n.getIndexByKeyPath(e.index);if(!a)throw new ue.Schema("KeyPath "+e.index+" on object store "+n.name+" is not indexed");return a}function mi(e,n,a){var s=qr(e,n.schema);return n.openCursor({trans:a,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:s,range:e.range}})}function Hr(e,n,a,s){var u=e.replayFilter?Bn(e.filter,e.replayFilter()):e.filter;if(e.or){var f={},m=function(g,C,_){var D,w;u&&!u(C,_,function(P){return C.stop(P)},function(P){return C.fail(P)})||((w=""+(D=C.primaryKey))=="[object ArrayBuffer]"&&(w=""+new Uint8Array(D)),b(f,w)||(f[w]=!0,n(g,C,_)))};return Promise.all([e.or._iterate(m,a),yi(mi(e,s,a),e.algorithm,m,!e.keysOnly&&e.valueMapper)])}return yi(mi(e,s,a),Bn(e.algorithm,u),n,!e.keysOnly&&e.valueMapper)}function yi(e,n,a,s){var u=re(s?function(f,m,g){return a(s(f),m,g)}:a);return e.then(function(f){if(f)return f.start(function(){var m=function(){return f.continue()};n&&!n(f,function(g){return m=g},function(g){f.stop(g),m=xe},function(g){f.fail(g),m=xe})||u(f.value,f,function(g){return m=g}),m()})})}var wn=Symbol(),pr=(vi.prototype.execute=function(e){if(this.add!==void 0){var n=this.add;if(h(n))return c(c([],h(e)?e:[],!0),n).sort();if(typeof n=="number")return(Number(e)||0)+n;if(typeof n=="bigint")try{return BigInt(e)+n}catch{return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(this.remove!==void 0){var a=this.remove;if(h(a))return h(e)?e.filter(function(s){return!a.includes(s)}).sort():[];if(typeof a=="number")return Number(e)-a;if(typeof a=="bigint")try{return BigInt(e)-a}catch{return BigInt(0)-a}throw new TypeError("Invalid subtrahend ".concat(a))}return n=(n=this.replacePrefix)===null||n===void 0?void 0:n[0],n&&typeof e=="string"&&e.startsWith(n)?this.replacePrefix[1]+e.substring(n.length):e},vi);function vi(e){Object.assign(this,e)}var Yc=(Ke.prototype._read=function(e,n){var a=this._ctx;return a.error?a.table._trans(null,rt.bind(null,a.error)):a.table._trans("readonly",e).then(n)},Ke.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,rt.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},Ke.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=Bn(n.algorithm,e)},Ke.prototype._iterate=function(e,n){return Hr(this._ctx,e,n,this._ctx.table.core)},Ke.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return e&&p(a,e),n._ctx=a,n},Ke.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ke.prototype.each=function(e){var n=this._ctx;return this._read(function(a){return Hr(n,e,a,n.table.core)})},Ke.prototype.count=function(e){var n=this;return this._read(function(a){var s=n._ctx,u=s.table.core;if(Hn(s,!0))return u.count({trans:a,query:{index:qr(s,u.schema),range:s.range}}).then(function(m){return Math.min(m,s.limit)});var f=0;return Hr(s,function(){return++f,!1},a,u).then(function(){return f})}).then(e)},Ke.prototype.sortBy=function(e,n){var a=e.split(".").reverse(),s=a[0],u=a.length-1;function f(C,_){return _?f(C[a[_]],_-1):C[s]}var m=this._ctx.dir==="next"?1:-1;function g(C,_){return C=f(C,u),_=f(_,u),C<_?-m:_<C?m:0}return this.toArray(function(C){return C.sort(g)}).then(n)},Ke.prototype.toArray=function(e){var n=this;return this._read(function(a){var s=n._ctx;if(s.dir==="next"&&Hn(s,!0)&&0<s.limit){var u=s.valueMapper,f=qr(s,s.table.core.schema);return s.table.core.query({trans:a,limit:s.limit,values:!0,query:{index:f,range:s.range}}).then(function(g){return g=g.result,u?g.map(u):g})}var m=[];return Hr(s,function(g){return m.push(g)},a,s.table.core).then(function(){return m})},e)},Ke.prototype.offset=function(e){var n=this._ctx;return e<=0||(n.offset+=e,Hn(n)?Ya(n,function(){var a=e;return function(s,u){return a===0||(a===1?--a:u(function(){s.advance(a),a=0}),!1)}}):Ya(n,function(){var a=e;return function(){return--a<0}})),this},Ke.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ya(this._ctx,function(){var n=e;return function(a,s,u){return--n<=0&&s(u),0<=n}},!0),this},Ke.prototype.until=function(e,n){return Ua(this._ctx,function(a,s,u){return!e(a.value)||(s(u),n)}),this},Ke.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},Ke.prototype.last=function(e){return this.reverse().first(e)},Ke.prototype.filter=function(e){var n;return Ua(this._ctx,function(a){return e(a.value)}),(n=this._ctx).isMatch=Bn(n.isMatch,e),this},Ke.prototype.and=function(e){return this.filter(e)},Ke.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Ke.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ke.prototype.desc=function(){return this.reverse()},Ke.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(a,s){e(s.key,s)})},Ke.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Ke.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(a,s){e(s.primaryKey,s)})},Ke.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var a=[];return this.each(function(s,u){a.push(u.key)}).then(function(){return a}).then(e)},Ke.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&Hn(n,!0)&&0<n.limit)return this._read(function(s){var u=qr(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:u,range:n.range}})}).then(function(s){return s.result}).then(e);n.keysOnly=!n.isMatch;var a=[];return this.each(function(s,u){a.push(u.primaryKey)}).then(function(){return a}).then(e)},Ke.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Ke.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},Ke.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Ke.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var n={};return Ua(this._ctx,function(u){var s=u.primaryKey.toString(),u=b(n,s);return n[s]=!0,!u}),this},Ke.prototype.modify=function(e){var n=this,a=this._ctx;return this._write(function(s){var u,f,m;m=typeof e=="function"?e:(u=d(e),f=u.length,function(T){for(var $=!1,N=0;N<f;++N){var F=u[N],z=e[F],H=V(T,F);z instanceof pr?(x(T,F,z.execute(H)),$=!0):H!==z&&(x(T,F,z),$=!0)}return $});function g(T,F){var N=F.failures,F=F.numFailures;O+=T-F;for(var z=0,H=d(N);z<H.length;z++){var ae=H[z];E.push(N[ae])}}var C=a.table.core,_=C.schema.primaryKey,D=_.outbound,w=_.extractKey,P=n.db._options.modifyChunkSize||200,E=[],O=0,A=[];return n.clone().primaryKeys().then(function(T){function $(F){var z=Math.min(P,T.length-F);return C.getMany({trans:s,keys:T.slice(F,F+z),cache:"immutable"}).then(function(H){for(var ae=[],Q=[],ne=D?[]:null,ie=[],te=0;te<z;++te){var Oe=H[te],Re={value:me(Oe),primKey:T[F+te]};m.call(Re,Re.value,Re)!==!1&&(Re.value==null?ie.push(T[F+te]):D||Ye(w(Oe),w(Re.value))===0?(Q.push(Re.value),D&&ne.push(T[F+te])):(ie.push(T[F+te]),ae.push(Re.value)))}return Promise.resolve(0<ae.length&&C.mutate({trans:s,type:"add",values:ae}).then(function($e){for(var Me in $e.failures)ie.splice(parseInt(Me),1);g(ae.length,$e)})).then(function(){return(0<Q.length||N&&typeof e=="object")&&C.mutate({trans:s,type:"put",keys:ne,values:Q,criteria:N,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<F}).then(function($e){return g(Q.length,$e)})}).then(function(){return(0<ie.length||N&&e===qa)&&C.mutate({trans:s,type:"delete",keys:ie,criteria:N,isAdditionalChunk:0<F}).then(function($e){return g(ie.length,$e)})}).then(function(){return T.length>F+z&&$(F+P)})})}var N=Hn(a)&&a.limit===1/0&&(typeof e!="function"||e===qa)&&{index:a.index,range:a.range};return $(0).then(function(){if(0<E.length)throw new Ct("Error modifying one or more objects",E,O,A);return T.length})})})},Ke.prototype.delete=function(){var e=this._ctx,n=e.range;return Hn(e)&&(e.isPrimKey||n.type===3)?this._write(function(a){var s=e.table.core.schema.primaryKey,u=n;return e.table.core.count({trans:a,query:{index:s,range:u}}).then(function(f){return e.table.core.mutate({trans:a,type:"deleteRange",range:u}).then(function(m){var g=m.failures;if(m.lastResult,m.results,m=m.numFailures,m)throw new Ct("Could not delete some values",Object.keys(g).map(function(C){return g[C]}),f-m);return f-m})})}):this.modify(qa)},Ke);function Ke(){}var qa=function(e,n){return n.value=null};function qc(e,n){return e<n?-1:e===n?0:1}function Hc(e,n){return n<e?-1:e===n?0:1}function Zt(e,n,a){return e=e instanceof bi?new e.Collection(e):e,e._ctx.error=new(a||TypeError)(n),e}function Wn(e){return new e.Collection(e,function(){return gi("")}).limit(0)}function Wr(e,n,a,s){var u,f,m,g,C,_,D,w=a.length;if(!a.every(function(O){return typeof O=="string"}))return Zt(e,Yt);function P(O){u=O==="next"?function(T){return T.toUpperCase()}:function(T){return T.toLowerCase()},f=O==="next"?function(T){return T.toLowerCase()}:function(T){return T.toUpperCase()},m=O==="next"?qc:Hc;var A=a.map(function(T){return{lower:f(T),upper:u(T)}}).sort(function(T,$){return m(T.lower,$.lower)});g=A.map(function(T){return T.upper}),C=A.map(function(T){return T.lower}),D=(_=O)==="next"?"":s}P("next"),e=new e.Collection(e,function(){return On(g[0],C[w-1]+s)}),e._ondirectionchange=function(O){P(O)};var E=0;return e._addAlgorithm(function(O,A,T){var $=O.key;if(typeof $!="string")return!1;var N=f($);if(n(N,C,E))return!0;for(var F=null,z=E;z<w;++z){var H=function(ae,Q,ne,ie,te,Oe){for(var Re=Math.min(ae.length,ie.length),$e=-1,Me=0;Me<Re;++Me){var un=Q[Me];if(un!==ie[Me])return te(ae[Me],ne[Me])<0?ae.substr(0,Me)+ne[Me]+ne.substr(Me+1):te(ae[Me],ie[Me])<0?ae.substr(0,Me)+ie[Me]+ne.substr(Me+1):0<=$e?ae.substr(0,$e)+Q[$e]+ne.substr($e+1):null;te(ae[Me],un)<0&&($e=Me)}return Re<ie.length&&Oe==="next"?ae+ne.substr(ae.length):Re<ae.length&&Oe==="prev"?ae.substr(0,ne.length):$e<0?null:ae.substr(0,$e)+ie[$e]+ne.substr($e+1)}($,N,g[z],C[z],m,_);H===null&&F===null?E=z+1:(F===null||0<m(F,H))&&(F=H)}return A(F!==null?function(){O.continue(F+D)}:T),!1}),e}function On(e,n,a,s){return{type:2,lower:e,upper:n,lowerOpen:a,upperOpen:s}}function gi(e){return{type:1,lower:e,upper:e}}var bi=(Object.defineProperty(Ot.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ot.prototype.between=function(e,n,a,s){a=a!==!1,s=s===!0;try{return 0<this._cmp(e,n)||this._cmp(e,n)===0&&(a||s)&&(!a||!s)?Wn(this):new this.Collection(this,function(){return On(e,n,!a,!s)})}catch{return Zt(this,st)}},Ot.prototype.equals=function(e){return e==null?Zt(this,st):new this.Collection(this,function(){return gi(e)})},Ot.prototype.above=function(e){return e==null?Zt(this,st):new this.Collection(this,function(){return On(e,void 0,!0)})},Ot.prototype.aboveOrEqual=function(e){return e==null?Zt(this,st):new this.Collection(this,function(){return On(e,void 0,!1)})},Ot.prototype.below=function(e){return e==null?Zt(this,st):new this.Collection(this,function(){return On(void 0,e,!1,!0)})},Ot.prototype.belowOrEqual=function(e){return e==null?Zt(this,st):new this.Collection(this,function(){return On(void 0,e)})},Ot.prototype.startsWith=function(e){return typeof e!="string"?Zt(this,Yt):this.between(e,e+ke,!0,!0)},Ot.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):Wr(this,function(n,a){return n.indexOf(a[0])===0},[e],ke)},Ot.prototype.equalsIgnoreCase=function(e){return Wr(this,function(n,a){return n===a[0]},[e],"")},Ot.prototype.anyOfIgnoreCase=function(){var e=Ze.apply(_t,arguments);return e.length===0?Wn(this):Wr(this,function(n,a){return a.indexOf(n)!==-1},e,"")},Ot.prototype.startsWithAnyOfIgnoreCase=function(){var e=Ze.apply(_t,arguments);return e.length===0?Wn(this):Wr(this,function(n,a){return a.some(function(s){return n.indexOf(s)===0})},e,ke)},Ot.prototype.anyOf=function(){var e=this,n=Ze.apply(_t,arguments),a=this._cmp;try{n.sort(a)}catch{return Zt(this,st)}if(n.length===0)return Wn(this);var s=new this.Collection(this,function(){return On(n[0],n[n.length-1])});s._ondirectionchange=function(f){a=f==="next"?e._ascending:e._descending,n.sort(a)};var u=0;return s._addAlgorithm(function(f,m,g){for(var C=f.key;0<a(C,n[u]);)if(++u===n.length)return m(g),!1;return a(C,n[u])===0||(m(function(){f.continue(n[u])}),!1)}),s},Ot.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ot.prototype.noneOf=function(){var e=Ze.apply(_t,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Zt(this,st)}var n=e.reduce(function(a,s){return a?a.concat([[a[a.length-1][1],s]]):[[-1/0,s]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},Ot.prototype.inAnyRange=function($,n){var a=this,s=this._cmp,u=this._ascending,f=this._descending,m=this._min,g=this._max;if($.length===0)return Wn(this);if(!$.every(function(N){return N[0]!==void 0&&N[1]!==void 0&&u(N[0],N[1])<=0}))return Zt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ue.InvalidArgument);var C=!n||n.includeLowers!==!1,_=n&&n.includeUppers===!0,D,w=u;function P(N,F){return w(N[0],F[0])}try{(D=$.reduce(function(N,F){for(var z=0,H=N.length;z<H;++z){var ae=N[z];if(s(F[0],ae[1])<0&&0<s(F[1],ae[0])){ae[0]=m(ae[0],F[0]),ae[1]=g(ae[1],F[1]);break}}return z===H&&N.push(F),N},[])).sort(P)}catch{return Zt(this,st)}var E=0,O=_?function(N){return 0<u(N,D[E][1])}:function(N){return 0<=u(N,D[E][1])},A=C?function(N){return 0<f(N,D[E][0])}:function(N){return 0<=f(N,D[E][0])},T=O,$=new this.Collection(this,function(){return On(D[0][0],D[D.length-1][1],!C,!_)});return $._ondirectionchange=function(N){w=N==="next"?(T=O,u):(T=A,f),D.sort(P)},$._addAlgorithm(function(N,F,z){for(var H,ae=N.key;T(ae);)if(++E===D.length)return F(z),!1;return!O(H=ae)&&!A(H)||(a._cmp(ae,D[E][1])===0||a._cmp(ae,D[E][0])===0||F(function(){w===u?N.continue(D[E][0]):N.continue(D[E][1])}),!1)}),$},Ot.prototype.startsWithAnyOf=function(){var e=Ze.apply(_t,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?Wn(this):this.inAnyRange(e.map(function(n){return[n,n+ke]})):Zt(this,"startsWithAnyOf() only works with strings")},Ot);function Ot(){}function fn(e){return re(function(n){return mr(n),e(n.target.error),!1})}function mr(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var yr="storagemutated",Ha="x-storagemutated-1",kn=fr(null,yr),Wc=(hn.prototype._lock=function(){return X(!oe.global),++this._reculock,this._reculock!==1||oe.global||(oe.lockOwnerFor=this),this},hn.prototype._unlock=function(){if(X(!oe.global),--this._reculock==0)for(oe.global||(oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Tt(e[1],e[0])}catch{}}return this},hn.prototype._locked=function(){return this._reculock&&oe.lockOwnerFor!==this},hn.prototype.create=function(e){var n=this;if(!this.mode)return this;var a=this.db.idbdb,s=this.db._state.dbOpenError;if(X(!this.idbtrans),!e&&!a)switch(s&&s.name){case"DatabaseClosedError":throw new ue.DatabaseClosed(s);case"MissingAPIError":throw new ue.MissingAPI(s.message,s);default:throw new ue.OpenFailed(s)}if(!this.active)throw new ue.TransactionInactive;return X(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||a).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=re(function(u){mr(u),n._reject(e.error)}),e.onabort=re(function(u){mr(u),n.active&&n._reject(new ue.Abort(e.error)),n.active=!1,n.on("abort").fire(u)}),e.oncomplete=re(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&kn.storagemutated.fire(e.mutatedParts)}),this},hn.prototype._promise=function(e,n,a){var s=this;if(e==="readwrite"&&this.mode!=="readwrite")return rt(new ue.ReadOnly("Transaction is readonly"));if(!this.active)return rt(new ue.TransactionInactive);if(this._locked())return new J(function(f,m){s._blockedFuncs.push([function(){s._promise(e,n,a).then(f,m)},oe])});if(a)return je(function(){var f=new J(function(m,g){s._lock();var C=n(m,g,s);C&&C.then&&C.then(m,g)});return f.finally(function(){return s._unlock()}),f._lib=!0,f});var u=new J(function(f,m){var g=n(f,m,s);g&&g.then&&g.then(f,m)});return u._lib=!0,u},hn.prototype._root=function(){return this.parent?this.parent._root():this},hn.prototype.waitFor=function(e){var n,a=this._root(),s=J.resolve(e);a._waitingFor?a._waitingFor=a._waitingFor.then(function(){return s}):(a._waitingFor=s,a._waitingQueue=[],n=a.idbtrans.objectStore(a.storeNames[0]),function f(){for(++a._spinCount;a._waitingQueue.length;)a._waitingQueue.shift()();a._waitingFor&&(n.get(-1/0).onsuccess=f)}());var u=a._waitingFor;return new J(function(f,m){s.then(function(g){return a._waitingQueue.push(re(f.bind(null,g)))},function(g){return a._waitingQueue.push(re(m.bind(null,g)))}).finally(function(){a._waitingFor===u&&(a._waitingFor=null)})})},hn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ue.Abort))},hn.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(b(n,e))return n[e];var a=this.schema[e];if(!a)throw new ue.NotFound("Table "+e+" not part of transaction");return a=new this.db.Table(e,a,this),a.core=this.db.core.table(e),n[e]=a},hn);function hn(){}function Wa(e,n,a,s,u,f,m){return{name:e,keyPath:n,unique:a,multi:s,auto:u,compound:f,src:(a&&!m?"&":"")+(s?"*":"")+(u?"++":"")+wi(n)}}function wi(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Va(e,n,a){return{name:e,primKey:n,indexes:a,mappedClass:null,idxByName:(s=function(u){return[u.name,u]},a.reduce(function(u,f,m){return m=s(f,m),m&&(u[m[0]]=m[1]),u},{}))};var s}var vr=function(e){try{return e.only([[]]),vr=function(){return[[]]},[[]]}catch{return vr=function(){return ke},ke}};function Ga(e){return e==null?function(){}:typeof e=="string"?(n=e).split(".").length===1?function(a){return a[n]}:function(a){return V(a,n)}:function(a){return V(a,e)};var n}function xi(e){return[].slice.call(e)}var Vc=0;function gr(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function Gc(e,n,C){function s(T){if(T.type===3)return null;if(T.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=T.lower,O=T.upper,A=T.lowerOpen,T=T.upperOpen;return E===void 0?O===void 0?null:n.upperBound(O,!!T):O===void 0?n.lowerBound(E,!!A):n.bound(E,O,!!A,!!T)}function u(P){var E,O=P.name;return{name:O,schema:P,mutate:function(A){var T=A.trans,$=A.type,N=A.keys,F=A.values,z=A.range;return new Promise(function(H,ae){H=re(H);var Q=T.objectStore(O),ne=Q.keyPath==null,ie=$==="put"||$==="add";if(!ie&&$!=="delete"&&$!=="deleteRange")throw new Error("Invalid operation type: "+$);var te,Oe=(N||F||{length:1}).length;if(N&&F&&N.length!==F.length)throw new Error("Given keys array must have same length as given values array.");if(Oe===0)return H({numFailures:0,failures:{},results:[],lastResult:void 0});function Re(qt){++un,mr(qt)}var $e=[],Me=[],un=0;if($==="deleteRange"){if(z.type===4)return H({numFailures:un,failures:Me,results:[],lastResult:void 0});z.type===3?$e.push(te=Q.clear()):$e.push(te=Q.delete(s(z)))}else{var ne=ie?ne?[F,N]:[F,null]:[N,null],Ie=ne[0],$t=ne[1];if(ie)for(var Lt=0;Lt<Oe;++Lt)$e.push(te=$t&&$t[Lt]!==void 0?Q[$](Ie[Lt],$t[Lt]):Q[$](Ie[Lt])),te.onerror=Re;else for(Lt=0;Lt<Oe;++Lt)$e.push(te=Q[$](Ie[Lt])),te.onerror=Re}function ia(qt){qt=qt.target.result,$e.forEach(function(Fn,mo){return Fn.error!=null&&(Me[mo]=Fn.error)}),H({numFailures:un,failures:Me,results:$==="delete"?N:$e.map(function(Fn){return Fn.result}),lastResult:qt})}te.onerror=function(qt){Re(qt),ia(qt)},te.onsuccess=ia})},getMany:function(A){var T=A.trans,$=A.keys;return new Promise(function(N,F){N=re(N);for(var z,H=T.objectStore(O),ae=$.length,Q=new Array(ae),ne=0,ie=0,te=function($e){$e=$e.target,Q[$e._pos]=$e.result,++ie===ne&&N(Q)},Oe=fn(F),Re=0;Re<ae;++Re)$[Re]!=null&&((z=H.get($[Re]))._pos=Re,z.onsuccess=te,z.onerror=Oe,++ne);ne===0&&N(Q)})},get:function(A){var T=A.trans,$=A.key;return new Promise(function(N,F){N=re(N);var z=T.objectStore(O).get($);z.onsuccess=function(H){return N(H.target.result)},z.onerror=fn(F)})},query:(E=_,function(A){return new Promise(function(T,$){T=re(T);var N,F,z,ne=A.trans,H=A.values,ae=A.limit,te=A.query,Q=ae===1/0?void 0:ae,ie=te.index,te=te.range,ne=ne.objectStore(O),ie=ie.isPrimaryKey?ne:ne.index(ie.name),te=s(te);if(ae===0)return T({result:[]});E?((Q=H?ie.getAll(te,Q):ie.getAllKeys(te,Q)).onsuccess=function(Oe){return T({result:Oe.target.result})},Q.onerror=fn($)):(N=0,F=!H&&"openKeyCursor"in ie?ie.openKeyCursor(te):ie.openCursor(te),z=[],F.onsuccess=function(Oe){var Re=F.result;return Re?(z.push(H?Re.value:Re.primaryKey),++N===ae?T({result:z}):void Re.continue()):T({result:z})},F.onerror=fn($))})}),openCursor:function(A){var T=A.trans,$=A.values,N=A.query,F=A.reverse,z=A.unique;return new Promise(function(H,ae){H=re(H);var ie=N.index,Q=N.range,ne=T.objectStore(O),ne=ie.isPrimaryKey?ne:ne.index(ie.name),ie=F?z?"prevunique":"prev":z?"nextunique":"next",te=!$&&"openKeyCursor"in ne?ne.openKeyCursor(s(Q),ie):ne.openCursor(s(Q),ie);te.onerror=fn(ae),te.onsuccess=re(function(Oe){var Re,$e,Me,un,Ie=te.result;Ie?(Ie.___id=++Vc,Ie.done=!1,Re=Ie.continue.bind(Ie),$e=($e=Ie.continuePrimaryKey)&&$e.bind(Ie),Me=Ie.advance.bind(Ie),un=function(){throw new Error("Cursor not stopped")},Ie.trans=T,Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=function(){throw new Error("Cursor not started")},Ie.fail=re(ae),Ie.next=function(){var $t=this,Lt=1;return this.start(function(){return Lt--?$t.continue():$t.stop()}).then(function(){return $t})},Ie.start=function($t){function Lt(){if(te.result)try{$t()}catch(qt){Ie.fail(qt)}else Ie.done=!0,Ie.start=function(){throw new Error("Cursor behind last entry")},Ie.stop()}var ia=new Promise(function(qt,Fn){qt=re(qt),te.onerror=fn(Fn),Ie.fail=Fn,Ie.stop=function(mo){Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=un,qt(mo)}});return te.onsuccess=re(function(qt){te.onsuccess=Lt,Lt()}),Ie.continue=Re,Ie.continuePrimaryKey=$e,Ie.advance=Me,Lt(),ia},H(Ie)):H(null)},ae)})},count:function(A){var T=A.query,$=A.trans,N=T.index,F=T.range;return new Promise(function(z,H){var ae=$.objectStore(O),Q=N.isPrimaryKey?ae:ae.index(N.name),ae=s(F),Q=ae?Q.count(ae):Q.count();Q.onsuccess=re(function(ne){return z(ne.target.result)}),Q.onerror=fn(H)})}}}var f,m,g,D=(m=C,g=xi((f=e).objectStoreNames),{schema:{name:f.name,tables:g.map(function(P){return m.objectStore(P)}).map(function(P){var E=P.keyPath,T=P.autoIncrement,O=h(E),A={},T={name:P.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:O,keyPath:E,autoIncrement:T,unique:!0,extractKey:Ga(E)},indexes:xi(P.indexNames).map(function($){return P.index($)}).map(function(z){var N=z.name,F=z.unique,H=z.multiEntry,z=z.keyPath,H={name:N,compound:h(z),keyPath:z,unique:F,multiEntry:H,extractKey:Ga(z)};return A[gr(z)]=H}),getIndexByKeyPath:function($){return A[gr($)]}};return A[":id"]=T.primaryKey,E!=null&&(A[gr(E)]=T.primaryKey),T})},hasGetAll:0<g.length&&"getAll"in m.objectStore(g[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),C=D.schema,_=D.hasGetAll,D=C.tables.map(u),w={};return D.forEach(function(P){return w[P.name]=P}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(P){if(!w[P])throw new Error("Table '".concat(P,"' not found"));return w[P]},MIN_KEY:-1/0,MAX_KEY:vr(n),schema:C}}function Xc(e,n,a,s){var u=a.IDBKeyRange;return a.indexedDB,{dbcore:(s=Gc(n,u,s),e.dbcore.reduce(function(f,m){return m=m.create,i(i({},f),m(f))},s))}}function Vr(e,s){var a=s.db,s=Xc(e._middlewares,a,e._deps,s);e.core=s.dbcore,e.tables.forEach(function(u){var f=u.name;e.core.schema.tables.some(function(m){return m.name===f})&&(u.core=e.core.table(f),e[f]instanceof e.Table&&(e[f].core=u.core))})}function Gr(e,n,a,s){a.forEach(function(u){var f=s[u];n.forEach(function(m){var g=function C(_,D){return B(_,D)||(_=v(_))&&C(_,D)}(m,u);(!g||"value"in g&&g.value===void 0)&&(m===e.Transaction.prototype||m instanceof e.Transaction?I(m,u,{get:function(){return this.table(u)},set:function(C){q(this,u,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):m[u]=new e.Table(u,f))})})}function Xa(e,n){n.forEach(function(a){for(var s in a)a[s]instanceof e.Table&&delete a[s]})}function Zc(e,n){return e._cfg.version-n._cfg.version}function Qc(e,n,a,s){var u=e._dbSchema;a.objectStoreNames.contains("$meta")&&!u.$meta&&(u.$meta=Va("$meta",Ei("")[0],[]),e._storeNames.push("$meta"));var f=e._createTransaction("readwrite",e._storeNames,u);f.create(a),f._completion.catch(s);var m=f._reject.bind(f),g=oe.transless||oe;je(function(){return oe.trans=f,oe.transless=g,n!==0?(Vr(e,a),_=n,((C=f).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(D){return D??_}):J.resolve(_)).then(function(D){return P=D,E=f,O=a,A=[],D=(w=e)._versions,T=w._dbSchema=Zr(0,w.idbdb,O),(D=D.filter(function($){return $._cfg.version>=P})).length!==0?(D.forEach(function($){A.push(function(){var N=T,F=$._cfg.dbschema;Qr(w,N,O),Qr(w,F,O),T=w._dbSchema=F;var z=Za(N,F);z.add.forEach(function(ie){Qa(O,ie[0],ie[1].primKey,ie[1].indexes)}),z.change.forEach(function(ie){if(ie.recreate)throw new ue.Upgrade("Not yet support for changing primary key");var te=O.objectStore(ie.name);ie.add.forEach(function(Oe){return Xr(te,Oe)}),ie.change.forEach(function(Oe){te.deleteIndex(Oe.name),Xr(te,Oe)}),ie.del.forEach(function(Oe){return te.deleteIndex(Oe)})});var H=$._cfg.contentUpgrade;if(H&&$._cfg.version>P){Vr(w,O),E._memoizedTables={};var ae=de(F);z.del.forEach(function(ie){ae[ie]=N[ie]}),Xa(w,[w.Transaction.prototype]),Gr(w,[w.Transaction.prototype],d(ae),ae),E.schema=ae;var Q,ne=Et(H);return ne&&it(),z=J.follow(function(){var ie;(Q=H(E))&&ne&&(ie=Wt.bind(null,null),Q.then(ie,ie))}),Q&&typeof Q.then=="function"?J.resolve(Q):z.then(function(){return Q})}}),A.push(function(N){var F,z,H=$._cfg.dbschema;F=H,z=N,[].slice.call(z.db.objectStoreNames).forEach(function(ae){return F[ae]==null&&z.db.deleteObjectStore(ae)}),Xa(w,[w.Transaction.prototype]),Gr(w,[w.Transaction.prototype],w._storeNames,w._dbSchema),E.schema=w._dbSchema}),A.push(function(N){w.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(w.idbdb.version/10)===$._cfg.version?(w.idbdb.deleteObjectStore("$meta"),delete w._dbSchema.$meta,w._storeNames=w._storeNames.filter(function(F){return F!=="$meta"})):N.objectStore("$meta").put($._cfg.version,"version"))})}),function $(){return A.length?J.resolve(A.shift()(E.idbtrans)).then($):J.resolve()}().then(function(){_i(T,O)})):J.resolve();var w,P,E,O,A,T}).catch(m)):(d(u).forEach(function(D){Qa(a,D,u[D].primKey,u[D].indexes)}),Vr(e,a),void J.follow(function(){return e.on.populate.fire(f)}).catch(m));var C,_})}function Jc(e,n){_i(e._dbSchema,n),n.db.version%10!=0||n.objectStoreNames.contains("$meta")||n.db.createObjectStore("$meta").add(Math.ceil(n.db.version/10-1),"version");var a=Zr(0,e.idbdb,n);Qr(e,e._dbSchema,n);for(var s=0,u=Za(a,e._dbSchema).change;s<u.length;s++){var f=function(m){if(m.change.length||m.recreate)return console.warn("Unable to patch indexes of table ".concat(m.name," because it has changes on the type of index or primary key.")),{value:void 0};var g=n.objectStore(m.name);m.add.forEach(function(C){he&&console.debug("Dexie upgrade patch: Creating missing index ".concat(m.name,".").concat(C.src)),Xr(g,C)})}(u[s]);if(typeof f=="object")return f.value}}function Za(e,n){var a,s={del:[],add:[],change:[]};for(a in e)n[a]||s.del.push(a);for(a in n){var u=e[a],f=n[a];if(u){var m={name:a,def:f,recreate:!1,del:[],add:[],change:[]};if(""+(u.primKey.keyPath||"")!=""+(f.primKey.keyPath||"")||u.primKey.auto!==f.primKey.auto)m.recreate=!0,s.change.push(m);else{var g=u.idxByName,C=f.idxByName,_=void 0;for(_ in g)C[_]||m.del.push(_);for(_ in C){var D=g[_],w=C[_];D?D.src!==w.src&&m.change.push(w):m.add.push(w)}(0<m.del.length||0<m.add.length||0<m.change.length)&&s.change.push(m)}}else s.add.push([a,f])}return s}function Qa(e,n,a,s){var u=e.db.createObjectStore(n,a.keyPath?{keyPath:a.keyPath,autoIncrement:a.auto}:{autoIncrement:a.auto});return s.forEach(function(f){return Xr(u,f)}),u}function _i(e,n){d(e).forEach(function(a){n.db.objectStoreNames.contains(a)||(he&&console.debug("Dexie: Creating missing table",a),Qa(n,a,e[a].primKey,e[a].indexes))})}function Xr(e,n){e.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function Zr(e,n,a){var s={};return Z(n.objectStoreNames,0).forEach(function(u){for(var f=a.objectStore(u),m=Wa(wi(_=f.keyPath),_||"",!0,!1,!!f.autoIncrement,_&&typeof _!="string",!0),g=[],C=0;C<f.indexNames.length;++C){var D=f.index(f.indexNames[C]),_=D.keyPath,D=Wa(D.name,_,!!D.unique,!!D.multiEntry,!1,_&&typeof _!="string",!1);g.push(D)}s[u]=Va(u,m,g)}),s}function Qr(e,n,a){for(var s=a.db.objectStoreNames,u=0;u<s.length;++u){var f=s[u],m=a.objectStore(f);e._hasGetAll="getAll"in m;for(var g=0;g<m.indexNames.length;++g){var C=m.indexNames[g],_=m.index(C).keyPath,D=typeof _=="string"?_:"["+Z(_).join("+")+"]";!n[f]||(_=n[f].idxByName[D])&&(_.name=C,delete n[f].idxByName[D],n[f].idxByName[C]=_)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&l.WorkerGlobalScope&&l instanceof l.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function Ei(e){return e.split(",").map(function(n,a){var s=(n=n.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(s)?s.match(/^\[(.*)\]$/)[1].split("+"):s;return Wa(s,u||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),h(u),a===0)})}var eu=(Jr.prototype._parseStoresSpec=function(e,n){d(e).forEach(function(a){if(e[a]!==null){var s=Ei(e[a]),u=s.shift();if(u.unique=!0,u.multi)throw new ue.Schema("Primary key cannot be multi-valued");s.forEach(function(f){if(f.auto)throw new ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!f.keyPath)throw new ue.Schema("Index must have a name and cannot be an empty string")}),n[a]=Va(a,u,s)}})},Jr.prototype.stores=function(a){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,a):a;var a=n._versions,s={},u={};return a.forEach(function(f){p(s,f._cfg.storesSource),u=f._cfg.dbschema={},f._parseStoresSpec(s,u)}),n._dbSchema=u,Xa(n,[n._allTables,n,n.Transaction.prototype]),Gr(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],d(u),u),n._storeNames=d(u),this},Jr.prototype.upgrade=function(e){return this._cfg.contentUpgrade=Ht(this._cfg.contentUpgrade||xe,e),this},Jr);function Jr(){}function Ja(e,n){var a=e._dbNamesDB;return a||(a=e._dbNamesDB=new xn(dn,{addons:[],indexedDB:e,IDBKeyRange:n})).version(1).stores({dbnames:"name"}),a.table("dbnames")}function eo(e){return e&&typeof e.databases=="function"}function to(e){return je(function(){return oe.letThrough=!0,e()})}function no(e){return!("from"in e)}var It=function(e,n){if(!this){var a=new It;return e&&"d"in e&&p(a,e),a}p(this,arguments.length?{d:1,from:e,to:1<arguments.length?n:e}:{d:0})};function br(e,n,a){var s=Ye(n,a);if(!isNaN(s)){if(0<s)throw RangeError();if(no(e))return p(e,{from:n,to:a,d:1});var u=e.l,s=e.r;if(Ye(a,e.from)<0)return u?br(u,n,a):e.l={from:n,to:a,d:1,l:null,r:null},Ci(e);if(0<Ye(n,e.to))return s?br(s,n,a):e.r={from:n,to:a,d:1,l:null,r:null},Ci(e);Ye(n,e.from)<0&&(e.from=n,e.l=null,e.d=s?s.d+1:1),0<Ye(a,e.to)&&(e.to=a,e.r=null,e.d=e.l?e.l.d+1:1),a=!e.r,u&&!e.l&&wr(e,u),s&&a&&wr(e,s)}}function wr(e,n){no(n)||function a(s,C){var f=C.from,m=C.to,g=C.l,C=C.r;br(s,f,m),g&&a(s,g),C&&a(s,C)}(e,n)}function ea(e,n){var a=ro(n),s=a.next();if(s.done)return!1;for(var u=s.value,f=ro(e),m=f.next(u.from),g=m.value;!s.done&&!m.done;){if(Ye(g.from,u.to)<=0&&0<=Ye(g.to,u.from))return!0;Ye(u.from,g.from)<0?u=(s=a.next(g.from)).value:g=(m=f.next(u.from)).value}return!1}function ro(e){var n=no(e)?null:{s:0,n:e};return{next:function(a){for(var s=0<arguments.length;n;)switch(n.s){case 0:if(n.s=1,s)for(;n.n.l&&Ye(a,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!s||Ye(a,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function Ci(e){var n,a,s=(((n=e.r)===null||n===void 0?void 0:n.d)||0)-(((a=e.l)===null||a===void 0?void 0:a.d)||0),u=1<s?"r":s<-1?"l":"";u&&(n=u=="r"?"l":"r",a=i({},e),s=e[u],e.from=s.from,e.to=s.to,e[u]=s[u],a[u]=s[n],(e[n]=a).d=Si(a)),e.d=Si(e)}function Si(a){var n=a.r,a=a.l;return(n?a?Math.max(n.d,a.d):n.d:a?a.d:0)+1}function ta(e,n){return d(n).forEach(function(a){e[a]?wr(e[a],n[a]):e[a]=function s(u){var f,m,g={};for(f in u)b(u,f)&&(m=u[f],g[f]=!m||typeof m!="object"||De.has(m.constructor)?m:s(m));return g}(n[a])}),e}function ao(e,n){return e.all||n.all||Object.keys(e).some(function(a){return n[a]&&ea(n[a],e[a])})}M(It.prototype,((tn={add:function(e){return wr(this,e),this},addKey:function(e){return br(this,e,e),this},addKeys:function(e){var n=this;return e.forEach(function(a){return br(n,a,a)}),this}})[et]=function(){return ro(this)},tn));var Nn={},oo={},io=!1;function na(e){ta(oo,e),io||(io=!0,setTimeout(function(){io=!1,so(oo,!(oo={}))},0))}function so(e,n){n===void 0&&(n=!1);var a=new Set;if(e.all)for(var s=0,u=Object.values(Nn);s<u.length;s++)Ti(m=u[s],e,a,n);else for(var f in e){var m,g=/^idb\:\/\/(.*)\/(.*)\//.exec(f);g&&(f=g[1],g=g[2],(m=Nn["idb://".concat(f,"/").concat(g)])&&Ti(m,e,a,n))}a.forEach(function(C){return C()})}function Ti(e,n,a,s){for(var u=[],f=0,m=Object.entries(e.queries.query);f<m.length;f++){for(var g=m[f],C=g[0],_=[],D=0,w=g[1];D<w.length;D++){var P=w[D];ao(n,P.obsSet)?P.subscribers.forEach(function(T){return a.add(T)}):s&&_.push(P)}s&&u.push([C,_])}if(s)for(var E=0,O=u;E<O.length;E++){var A=O[E],C=A[0],_=A[1];e.queries.query[C]=_}}function tu(e){var n=e._state,a=e._deps.indexedDB;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then(function(){return n.dbOpenError?rt(n.dbOpenError):e});n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var s=n.openCanceller,u=Math.round(10*e.verno),f=!1;function m(){if(n.openCanceller!==s)throw new ue.DatabaseClosed("db.open() was cancelled")}function g(){return new J(function(P,E){if(m(),!a)throw new ue.MissingAPI;var O=e.name,A=n.autoSchema||!u?a.open(O):a.open(O,u);if(!A)throw new ue.MissingAPI;A.onerror=fn(E),A.onblocked=re(e._fireOnBlocked),A.onupgradeneeded=re(function(T){var $;D=A.transaction,n.autoSchema&&!e._options.allowEmptyDB?(A.onerror=mr,D.abort(),A.result.close(),($=a.deleteDatabase(O)).onsuccess=$.onerror=re(function(){E(new ue.NoSuchDatabase("Database ".concat(O," doesnt exist")))})):(D.onerror=fn(E),T=T.oldVersion>Math.pow(2,62)?0:T.oldVersion,w=T<1,e.idbdb=A.result,f&&Jc(e,D),Qc(e,T/10,D,E))},E),A.onsuccess=re(function(){D=null;var T,$,N,F,z,H=e.idbdb=A.result,ae=Z(H.objectStoreNames);if(0<ae.length)try{var Q=H.transaction((F=ae).length===1?F[0]:F,"readonly");if(n.autoSchema)$=H,N=Q,(T=e).verno=$.version/10,N=T._dbSchema=Zr(0,$,N),T._storeNames=Z($.objectStoreNames,0),Gr(T,[T._allTables],d(N),N);else if(Qr(e,e._dbSchema,Q),((z=Za(Zr(0,(z=e).idbdb,Q),z._dbSchema)).add.length||z.change.some(function(ne){return ne.add.length||ne.change.length}))&&!f)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),H.close(),u=H.version+1,f=!0,P(g());Vr(e,Q)}catch{}ut.push(e),H.onversionchange=re(function(ne){n.vcFired=!0,e.on("versionchange").fire(ne)}),H.onclose=re(function(ne){e.on("close").fire(ne)}),w&&(z=e._deps,Q=O,H=z.indexedDB,z=z.IDBKeyRange,eo(H)||Q===dn||Ja(H,z).put({name:Q}).catch(xe)),P()},E)}).catch(function(P){switch(P==null?void 0:P.name){case"UnknownError":if(0<n.PR1398_maxLoop)return n.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),g();break;case"VersionError":if(0<u)return u=0,g()}return J.reject(P)})}var C,_=n.dbReadyResolve,D=null,w=!1;return J.race([s,(typeof navigator>"u"?J.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(P){function E(){return indexedDB.databases().finally(P)}C=setInterval(E,100),E()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(g)]).then(function(){return m(),n.onReadyBeingFired=[],J.resolve(to(function(){return e.on.ready.fire(e.vip)})).then(function P(){if(0<n.onReadyBeingFired.length){var E=n.onReadyBeingFired.reduce(Ht,xe);return n.onReadyBeingFired=[],J.resolve(to(function(){return E(e.vip)})).then(P)}})}).finally(function(){n.openCanceller===s&&(n.onReadyBeingFired=null,n.isBeingOpened=!1)}).catch(function(P){n.dbOpenError=P;try{D&&D.abort()}catch{}return s===n.openCanceller&&e._close(),rt(P)}).finally(function(){n.openComplete=!0,_()}).then(function(){var P;return w&&(P={},e.tables.forEach(function(E){E.schema.indexes.forEach(function(O){O.name&&(P["idb://".concat(e.name,"/").concat(E.name,"/").concat(O.name)]=new It(-1/0,[[[]]]))}),P["idb://".concat(e.name,"/").concat(E.name,"/")]=P["idb://".concat(e.name,"/").concat(E.name,"/:dels")]=new It(-1/0,[[[]]])}),kn(yr).fire(P),so(P,!0)),e})}function co(e){function n(f){return e.next(f)}var a=u(n),s=u(function(f){return e.throw(f)});function u(f){return function(C){var g=f(C),C=g.value;return g.done?C:C&&typeof C.then=="function"?C.then(a,s):h(C)?Promise.all(C).then(a,s):a(C)}}return u(n)()}function ra(e,n,a){for(var s=h(e)?e.slice():[e],u=0;u<a;++u)s.push(n);return s}var nu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return i(i({},e),{table:function(n){var a=e.table(n),s=a.schema,u={},f=[];function m(w,P,E){var O=gr(w),A=u[O]=u[O]||[],T=w==null?0:typeof w=="string"?1:w.length,$=0<P,$=i(i({},E),{name:$?"".concat(O,"(virtual-from:").concat(E.name,")"):E.name,lowLevelIndex:E,isVirtual:$,keyTail:P,keyLength:T,extractKey:Ga(w),unique:!$&&E.unique});return A.push($),$.isPrimaryKey||f.push($),1<T&&m(T===2?w[0]:w.slice(0,T-1),P+1,E),A.sort(function(N,F){return N.keyTail-F.keyTail}),$}n=m(s.primaryKey.keyPath,0,s.primaryKey),u[":id"]=[n];for(var g=0,C=s.indexes;g<C.length;g++){var _=C[g];m(_.keyPath,0,_)}function D(w){var P,E=w.query.index;return E.isVirtual?i(i({},w),{query:{index:E.lowLevelIndex,range:(P=w.query.range,E=E.keyTail,{type:P.type===1?2:P.type,lower:ra(P.lower,P.lowerOpen?e.MAX_KEY:e.MIN_KEY,E),lowerOpen:!0,upper:ra(P.upper,P.upperOpen?e.MIN_KEY:e.MAX_KEY,E),upperOpen:!0})}}):w}return i(i({},a),{schema:i(i({},s),{primaryKey:n,indexes:f,getIndexByKeyPath:function(w){return(w=u[gr(w)])&&w[0]}}),count:function(w){return a.count(D(w))},query:function(w){return a.query(D(w))},openCursor:function(w){var P=w.query.index,E=P.keyTail,O=P.isVirtual,A=P.keyLength;return O?a.openCursor(D(w)).then(function($){return $&&T($)}):a.openCursor(w);function T($){return Object.create($,{continue:{value:function(N){N!=null?$.continue(ra(N,w.reverse?e.MAX_KEY:e.MIN_KEY,E)):w.unique?$.continue($.key.slice(0,A).concat(w.reverse?e.MIN_KEY:e.MAX_KEY,E)):$.continue()}},continuePrimaryKey:{value:function(N,F){$.continuePrimaryKey(ra(N,e.MAX_KEY,E),F)}},primaryKey:{get:function(){return $.primaryKey}},key:{get:function(){var N=$.key;return A===1?N[0]:N.slice(0,A)}},value:{get:function(){return $.value}}})}}})}})}};function uo(e,n,a,s){return a=a||{},s=s||"",d(e).forEach(function(u){var f,m,g;b(n,u)?(f=e[u],m=n[u],typeof f=="object"&&typeof m=="object"&&f&&m?(g=Le(f))!==Le(m)?a[s+u]=n[u]:g==="Object"?uo(f,m,a,s+u+"."):f!==m&&(a[s+u]=n[u]):f!==m&&(a[s+u]=n[u])):a[s+u]=void 0}),d(n).forEach(function(u){b(e,u)||(a[s+u]=n[u])}),a}function lo(e,n){return n.type==="delete"?n.keys:n.keys||n.values.map(e.extractKey)}var ru={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return i(i({},e),{table:function(n){var a=e.table(n),s=a.schema.primaryKey;return i(i({},a),{mutate:function(u){var f=oe.trans,m=f.table(n).hook,g=m.deleting,C=m.creating,_=m.updating;switch(u.type){case"add":if(C.fire===xe)break;return f._promise("readwrite",function(){return D(u)},!0);case"put":if(C.fire===xe&&_.fire===xe)break;return f._promise("readwrite",function(){return D(u)},!0);case"delete":if(g.fire===xe)break;return f._promise("readwrite",function(){return D(u)},!0);case"deleteRange":if(g.fire===xe)break;return f._promise("readwrite",function(){return function w(P,E,O){return a.query({trans:P,values:!1,query:{index:s,range:E},limit:O}).then(function(A){var T=A.result;return D({type:"delete",keys:T,trans:P}).then(function($){return 0<$.numFailures?Promise.reject($.failures[0]):T.length<O?{failures:[],numFailures:0,lastResult:void 0}:w(P,i(i({},E),{lower:T[T.length-1],lowerOpen:!0}),O)})})}(u.trans,u.range,1e4)},!0)}return a.mutate(u);function D(w){var P,E,O,A=oe.trans,T=w.keys||lo(s,w);if(!T)throw new Error("Keys missing");return(w=w.type==="add"||w.type==="put"?i(i({},w),{keys:T}):i({},w)).type!=="delete"&&(w.values=c([],w.values)),w.keys&&(w.keys=c([],w.keys)),P=a,O=T,((E=w).type==="add"?Promise.resolve([]):P.getMany({trans:E.trans,keys:O,cache:"immutable"})).then(function($){var N=T.map(function(F,z){var H,ae,Q,ne=$[z],ie={onerror:null,onsuccess:null};return w.type==="delete"?g.fire.call(ie,F,ne,A):w.type==="add"||ne===void 0?(H=C.fire.call(ie,F,w.values[z],A),F==null&&H!=null&&(w.keys[z]=F=H,s.outbound||x(w.values[z],s.keyPath,F))):(H=uo(ne,w.values[z]),(ae=_.fire.call(ie,H,F,ne,A))&&(Q=w.values[z],Object.keys(ae).forEach(function(te){b(Q,te)?Q[te]=ae[te]:x(Q,te,ae[te])}))),ie});return a.mutate(w).then(function(F){for(var z=F.failures,H=F.results,ae=F.numFailures,F=F.lastResult,Q=0;Q<T.length;++Q){var ne=(H||T)[Q],ie=N[Q];ne==null?ie.onerror&&ie.onerror(z[Q]):ie.onsuccess&&ie.onsuccess(w.type==="put"&&$[Q]?w.values[Q]:ne)}return{failures:z,results:H,numFailures:ae,lastResult:F}}).catch(function(F){return N.forEach(function(z){return z.onerror&&z.onerror(F)}),Promise.reject(F)})})}}})}})}};function Oi(e,n,a){try{if(!n||n.keys.length<e.length)return null;for(var s=[],u=0,f=0;u<n.keys.length&&f<e.length;++u)Ye(n.keys[u],e[f])===0&&(s.push(a?me(n.values[u]):n.values[u]),++f);return s.length===e.length?s:null}catch{return null}}var au={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var a=e.table(n);return i(i({},a),{getMany:function(s){if(!s.cache)return a.getMany(s);var u=Oi(s.keys,s.trans._cache,s.cache==="clone");return u?J.resolve(u):a.getMany(s).then(function(f){return s.trans._cache={keys:s.keys,values:s.cache==="clone"?me(f):f},f})},mutate:function(s){return s.type!=="add"&&(s.trans._cache=null),a.mutate(s)}})}}}};function ki(e,n){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!n.schema.primaryKey.outbound}function Ri(e,n){switch(e){case"query":return n.values&&!n.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ou={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,a=new It(e.MIN_KEY,e.MAX_KEY);return i(i({},e),{transaction:function(s,u,f){if(oe.subscr&&u!=="readonly")throw new ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(oe.querier));return e.transaction(s,u,f)},table:function(s){var u=e.table(s),f=u.schema,m=f.primaryKey,w=f.indexes,g=m.extractKey,C=m.outbound,_=m.autoIncrement&&w.filter(function(E){return E.compound&&E.keyPath.includes(m.keyPath)}),D=i(i({},u),{mutate:function(E){function O(te){return te="idb://".concat(n,"/").concat(s,"/").concat(te),F[te]||(F[te]=new It)}var A,T,$,N=E.trans,F=E.mutatedParts||(E.mutatedParts={}),z=O(""),H=O(":dels"),ae=E.type,ie=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[lo(m,E).filter(function(te){return te}),E.values]:[],Q=ie[0],ne=ie[1],ie=E.trans._cache;return h(Q)?(z.addKeys(Q),(ie=ae==="delete"||Q.length===ne.length?Oi(Q,ie):null)||H.addKeys(Q),(ie||ne)&&(A=O,T=ie,$=ne,f.indexes.forEach(function(te){var Oe=A(te.name||"");function Re(Me){return Me!=null?te.extractKey(Me):null}function $e(Me){return te.multiEntry&&h(Me)?Me.forEach(function(un){return Oe.addKey(un)}):Oe.addKey(Me)}(T||$).forEach(function(Me,$t){var Ie=T&&Re(T[$t]),$t=$&&Re($[$t]);Ye(Ie,$t)!==0&&(Ie!=null&&$e(Ie),$t!=null&&$e($t))})}))):Q?(ne={from:Q.lower,to:Q.upper},H.add(ne),z.add(ne)):(z.add(a),H.add(a),f.indexes.forEach(function(te){return O(te.name).add(a)})),u.mutate(E).then(function(te){return!Q||E.type!=="add"&&E.type!=="put"||(z.addKeys(te.results),_&&_.forEach(function(Oe){var Re=E.values.map(function(Me){return Oe.extractKey(Me)}),$e=Oe.keyPath.findIndex(function(Me){return Me===m.keyPath});te.results.forEach(function(Me){return Re[$e]=Me}),O(Oe.name).addKeys(Re)})),N.mutatedParts=ta(N.mutatedParts||{},F),te})}}),w=function(O){var A=O.query,O=A.index,A=A.range;return[O,new It((O=A.lower)!==null&&O!==void 0?O:e.MIN_KEY,(A=A.upper)!==null&&A!==void 0?A:e.MAX_KEY)]},P={get:function(E){return[m,new It(E.key)]},getMany:function(E){return[m,new It().addKeys(E.keys)]},count:w,query:w,openCursor:w};return d(P).forEach(function(E){D[E]=function(O){var A=oe.subscr,T=!!A,$=ki(oe,u)&&Ri(E,O)?O.obsSet={}:A;if(T){var N=function(ne){return ne="idb://".concat(n,"/").concat(s,"/").concat(ne),$[ne]||($[ne]=new It)},F=N(""),z=N(":dels"),A=P[E](O),T=A[0],A=A[1];if((E==="query"&&T.isPrimaryKey&&!O.values?z:N(T.name||"")).add(A),!T.isPrimaryKey){if(E!=="count"){var H=E==="query"&&C&&O.values&&u.query(i(i({},O),{values:!1}));return u[E].apply(this,arguments).then(function(ne){if(E==="query"){if(C&&O.values)return H.then(function(Re){return Re=Re.result,F.addKeys(Re),ne});var ie=O.values?ne.result.map(g):ne.result;(O.values?F:z).addKeys(ie)}else if(E==="openCursor"){var te=ne,Oe=O.values;return te&&Object.create(te,{key:{get:function(){return z.addKey(te.primaryKey),te.key}},primaryKey:{get:function(){var Re=te.primaryKey;return z.addKey(Re),Re}},value:{get:function(){return Oe&&F.addKey(te.primaryKey),te.value}}})}return ne})}z.add(a)}}return u[E].apply(this,arguments)}}),D}})}};function Di(e,n,a){if(a.numFailures===0)return n;if(n.type==="deleteRange")return null;var s=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return a.numFailures===s?null:(n=i({},n),h(n.keys)&&(n.keys=n.keys.filter(function(u,f){return!(f in a.failures)})),"values"in n&&h(n.values)&&(n.values=n.values.filter(function(u,f){return!(f in a.failures)})),n)}function fo(e,n){return a=e,((s=n).lower===void 0||(s.lowerOpen?0<Ye(a,s.lower):0<=Ye(a,s.lower)))&&(e=e,(n=n).upper===void 0||(n.upperOpen?Ye(e,n.upper)<0:Ye(e,n.upper)<=0));var a,s}function Pi(e,n,P,s,u,f){if(!P||P.length===0)return e;var m=n.query.index,g=m.multiEntry,C=n.query.range,_=s.schema.primaryKey.extractKey,D=m.extractKey,w=(m.lowLevelIndex||m).extractKey,P=P.reduce(function(E,O){var A=E,T=O.type==="add"||O.type==="put"?O.values.filter(function(z){return z=D(z),g&&h(z)?z.some(function(H){return fo(H,C)}):fo(z,C)}).map(function(z){return z=me(z),f&&Object.freeze(z),z}):[];switch(O.type){case"add":A=E.concat(n.values?T:T.map(function(H){return _(H)}));break;case"put":var $=new It().addKeys(O.values.map(function(H){return _(H)})),A=E.filter(function(H){return H=n.values?_(H):H,!ea(new It(H),$)}).concat(n.values?T:T.map(function(H){return _(H)}));break;case"delete":var N=new It().addKeys(O.keys);A=E.filter(function(H){return H=n.values?_(H):H,!ea(new It(H),N)});break;case"deleteRange":var F=O.range;A=E.filter(function(H){return!fo(_(H),F)})}return A},e);return P===e?e:(P.sort(function(E,O){return Ye(w(E),w(O))||Ye(_(E),_(O))}),n.limit&&n.limit<1/0&&(P.length>n.limit?P.length=n.limit:e.length===n.limit&&P.length<n.limit&&(u.dirty=!0)),f?Object.freeze(P):P)}function Ai(e,n){return Ye(e.lower,n.lower)===0&&Ye(e.upper,n.upper)===0&&!!e.lowerOpen==!!n.lowerOpen&&!!e.upperOpen==!!n.upperOpen}function iu(e,n){return function(a,s,u,f){if(a===void 0)return s!==void 0?-1:0;if(s===void 0)return 1;if((s=Ye(a,s))===0){if(u&&f)return 0;if(u)return 1;if(f)return-1}return s}(e.lower,n.lower,e.lowerOpen,n.lowerOpen)<=0&&0<=function(a,s,u,f){if(a===void 0)return s!==void 0?1:0;if(s===void 0)return-1;if((s=Ye(a,s))===0){if(u&&f)return 0;if(u)return-1;if(f)return 1}return s}(e.upper,n.upper,e.upperOpen,n.upperOpen)}function su(e,n,a,s){e.subscribers.add(a),s.addEventListener("abort",function(){var u,f;e.subscribers.delete(a),e.subscribers.size===0&&(u=e,f=n,setTimeout(function(){u.subscribers.size===0&&Ae(f,u)},3e3))})}var cu={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return i(i({},e),{transaction:function(a,s,u){var f,m,g=e.transaction(a,s,u);return s==="readwrite"&&(m=(f=new AbortController).signal,u=function(C){return function(){if(f.abort(),s==="readwrite"){for(var _=new Set,D=0,w=a;D<w.length;D++){var P=w[D],E=Nn["idb://".concat(n,"/").concat(P)];if(E){var O=e.table(P),A=E.optimisticOps.filter(function(Oe){return Oe.trans===g});if(g._explicit&&C&&g.mutatedParts)for(var T=0,$=Object.values(E.queries.query);T<$.length;T++)for(var N=0,F=(ae=$[T]).slice();N<F.length;N++)ao((Q=F[N]).obsSet,g.mutatedParts)&&(Ae(ae,Q),Q.subscribers.forEach(function(Oe){return _.add(Oe)}));else if(0<A.length){E.optimisticOps=E.optimisticOps.filter(function(Oe){return Oe.trans!==g});for(var z=0,H=Object.values(E.queries.query);z<H.length;z++)for(var ae,Q,ne,ie=0,te=(ae=H[z]).slice();ie<te.length;ie++)(Q=te[ie]).res!=null&&g.mutatedParts&&(C&&!Q.dirty?(ne=Object.isFrozen(Q.res),ne=Pi(Q.res,Q.req,A,O,Q,ne),Q.dirty?(Ae(ae,Q),Q.subscribers.forEach(function(Oe){return _.add(Oe)})):ne!==Q.res&&(Q.res=ne,Q.promise=J.resolve({result:ne}))):(Q.dirty&&Ae(ae,Q),Q.subscribers.forEach(function(Oe){return _.add(Oe)})))}}}_.forEach(function(Oe){return Oe()})}}},g.addEventListener("abort",u(!1),{signal:m}),g.addEventListener("error",u(!1),{signal:m}),g.addEventListener("complete",u(!0),{signal:m})),g},table:function(a){var s=e.table(a),u=s.schema.primaryKey;return i(i({},s),{mutate:function(f){var m=oe.trans;if(u.outbound||m.db._options.cache==="disabled"||m.explicit)return s.mutate(f);var g=Nn["idb://".concat(n,"/").concat(a)];return g?(m=s.mutate(f),f.type!=="add"&&f.type!=="put"||!(50<=f.values.length||lo(u,f).some(function(C){return C==null}))?(g.optimisticOps.push(f),f.mutatedParts&&na(f.mutatedParts),m.then(function(C){0<C.numFailures&&(Ae(g.optimisticOps,f),(C=Di(0,f,C))&&g.optimisticOps.push(C),f.mutatedParts&&na(f.mutatedParts))}),m.catch(function(){Ae(g.optimisticOps,f),f.mutatedParts&&na(f.mutatedParts)})):m.then(function(C){var _=Di(0,i(i({},f),{values:f.values.map(function(E,w){var P,E=(P=u.keyPath)!==null&&P!==void 0&&P.includes(".")?me(E):i({},E);return x(E,u.keyPath,C.results[w]),E})}),C);g.optimisticOps.push(_),queueMicrotask(function(){return f.mutatedParts&&na(f.mutatedParts)})}),m):s.mutate(f)},query:function(f){if(!ki(oe,s)||!Ri("query",f))return s.query(f);var m=((_=oe.trans)===null||_===void 0?void 0:_.db._options.cache)==="immutable",w=oe,g=w.requery,C=w.signal,_=function(O,A,T,$){var N=Nn["idb://".concat(O,"/").concat(A)];if(!N)return[];if(!(A=N.queries[T]))return[null,!1,N,null];var F=A[($.query?$.query.index.name:null)||""];if(!F)return[null,!1,N,null];switch(T){case"query":var z=F.find(function(H){return H.req.limit===$.limit&&H.req.values===$.values&&Ai(H.req.query.range,$.query.range)});return z?[z,!0,N,F]:[F.find(function(H){return("limit"in H.req?H.req.limit:1/0)>=$.limit&&(!$.values||H.req.values)&&iu(H.req.query.range,$.query.range)}),!1,N,F];case"count":return z=F.find(function(H){return Ai(H.req.query.range,$.query.range)}),[z,!!z,N,F]}}(n,a,"query",f),D=_[0],w=_[1],P=_[2],E=_[3];return D&&w?D.obsSet=f.obsSet:(w=s.query(f).then(function(O){var A=O.result;if(D&&(D.res=A),m){for(var T=0,$=A.length;T<$;++T)Object.freeze(A[T]);Object.freeze(A)}else O.result=me(A);return O}).catch(function(O){return E&&D&&Ae(E,D),Promise.reject(O)}),D={obsSet:f.obsSet,promise:w,subscribers:new Set,type:"query",req:f,dirty:!1},E?E.push(D):(E=[D],(P=P||(Nn["idb://".concat(n,"/").concat(a)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[f.query.index.name||""]=E)),su(D,E,g,C),D.promise.then(function(O){return{result:Pi(O.result,f,P==null?void 0:P.optimisticOps,s,D,m)}})}})}})}};function aa(e,n){return new Proxy(e,{get:function(a,s,u){return s==="db"?n:Reflect.get(a,s,u)}})}var xn=(yt.prototype.version=function(e){if(isNaN(e)||e<.1)throw new ue.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,a=n.filter(function(s){return s._cfg.version===e})[0];return a||(a=new this.Version(e),n.push(a),n.sort(Zc),a.stores({}),this._state.autoSchema=!1,a)},yt.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||oe.letThrough||this._vip)?e():new J(function(a,s){if(n._state.openComplete)return s(new ue.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return void s(new ue.DatabaseClosed);n.open().catch(xe)}n._state.dbReadyPromise.then(a,s)}).then(e)},yt.prototype.use=function(e){var n=e.stack,a=e.create,s=e.level,u=e.name;return u&&this.unuse({stack:n,name:u}),e=this._middlewares[n]||(this._middlewares[n]=[]),e.push({stack:n,create:a,level:s??10,name:u}),e.sort(function(f,m){return f.level-m.level}),this},yt.prototype.unuse=function(e){var n=e.stack,a=e.name,s=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(u){return s?u.create!==s:!!a&&u.name!==a})),this},yt.prototype.open=function(){var e=this;return Tt(gt,function(){return tu(e)})},yt.prototype._close=function(){var e=this._state,n=ut.indexOf(this);if(0<=n&&ut.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new J(function(a){e.dbReadyResolve=a}),e.openCanceller=new J(function(a,s){e.cancelOpen=s}))},yt.prototype.close=function(a){var n=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,a=this._state;n?(a.isBeingOpened&&a.cancelOpen(new ue.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new ue.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},yt.prototype.delete=function(e){var n=this;e===void 0&&(e={disableAutoOpen:!0});var a=0<arguments.length&&typeof arguments[0]!="object",s=this._state;return new J(function(u,f){function m(){n.close(e);var g=n._deps.indexedDB.deleteDatabase(n.name);g.onsuccess=re(function(){var C,_,D;C=n._deps,_=n.name,D=C.indexedDB,C=C.IDBKeyRange,eo(D)||_===dn||Ja(D,C).delete(_).catch(xe),u()}),g.onerror=fn(f),g.onblocked=n._fireOnBlocked}if(a)throw new ue.InvalidArgument("Invalid closeOptions argument to db.delete()");s.isBeingOpened?s.dbReadyPromise.then(m):m()})},yt.prototype.backendDB=function(){return this.idbdb},yt.prototype.isOpen=function(){return this.idbdb!==null},yt.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},yt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},yt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(yt.prototype,"tables",{get:function(){var e=this;return d(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),yt.prototype.transaction=function(){var e=(function(n,a,s){var u=arguments.length;if(u<2)throw new ue.InvalidArgument("Too few arguments");for(var f=new Array(u-1);--u;)f[u-1]=arguments[u];return s=f.pop(),[n,fe(f),s]}).apply(this,arguments);return this._transaction.apply(this,e)},yt.prototype._transaction=function(e,n,a){var s=this,u=oe.trans;u&&u.db===this&&e.indexOf("!")===-1||(u=null);var f,m,g=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(m=n.map(function(_){if(_=_ instanceof s.Table?_.name:_,typeof _!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return _}),e=="r"||e===qn)f=qn;else{if(e!="rw"&&e!=dr)throw new ue.InvalidArgument("Invalid transaction mode: "+e);f=dr}if(u){if(u.mode===qn&&f===dr){if(!g)throw new ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");u=null}u&&m.forEach(function(_){if(u&&u.storeNames.indexOf(_)===-1){if(!g)throw new ue.SubTransaction("Table "+_+" not included in parent transaction.");u=null}}),g&&u&&!u.active&&(u=null)}}catch(_){return u?u._promise(null,function(D,w){w(_)}):rt(_)}var C=(function _(D,w,P,E,O){return J.resolve().then(function(){var A=oe.transless||oe,T=D._createTransaction(w,P,D._dbSchema,E);if(T.explicit=!0,A={trans:T,transless:A},E)T.idbtrans=E.idbtrans;else try{T.create(),T.idbtrans._explicit=!0,D._state.PR1398_maxLoop=3}catch(F){return F.name===Fe.InvalidState&&D.isOpen()&&0<--D._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),D.close({disableAutoOpen:!1}),D.open().then(function(){return _(D,w,P,null,O)})):rt(F)}var $,N=Et(O);return N&&it(),A=J.follow(function(){var F;($=O.call(T,T))&&(N?(F=Wt.bind(null,null),$.then(F,F)):typeof $.next=="function"&&typeof $.throw=="function"&&($=co($)))},A),($&&typeof $.then=="function"?J.resolve($).then(function(F){return T.active?F:rt(new ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):A.then(function(){return $})).then(function(F){return E&&T._resolve(),T._completion.then(function(){return F})}).catch(function(F){return T._reject(F),rt(F)})})}).bind(null,this,f,m,u,a);return u?u._promise(f,C,"lock"):oe.trans?Tt(oe.transless,function(){return s._whenReady(C)}):this._whenReady(C)},yt.prototype.table=function(e){if(!b(this._allTables,e))throw new ue.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},yt);function yt(e,n){var a=this;this._middlewares={},this.verno=0;var s=yt.dependencies;this._options=n=i({addons:yt.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},s=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u,f,m,g,C,_={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xe,dbReadyPromise:null,cancelOpen:xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};_.dbReadyPromise=new J(function(w){_.dbReadyResolve=w}),_.openCanceller=new J(function(w,P){_.cancelOpen=P}),this._state=_,this.name=e,this.on=fr(this,"populate","blocked","versionchange","close",{ready:[Ht,xe]}),this.on.ready.subscribe=Y(this.on.ready.subscribe,function(w){return function(P,E){yt.vip(function(){var O,A=a._state;A.openComplete?(A.dbOpenError||J.resolve().then(P),E&&w(P)):A.onReadyBeingFired?(A.onReadyBeingFired.push(P),E&&w(P)):(w(P),O=a,E||w(function T(){O.on.ready.unsubscribe(P),O.on.ready.unsubscribe(T)}))})}}),this.Collection=(u=this,hr(Yc.prototype,function($,T){this.db=u;var E=li,O=null;if(T)try{E=T()}catch(N){O=N}var A=$._ctx,T=A.table,$=T.hook.reading.fire;this._ctx={table:T,index:A.index,isPrimKey:!A.index||T.schema.primKey.keyPath&&A.index===T.schema.primKey.name,range:E,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:O,or:A.or,valueMapper:$!==Dt?$:null}})),this.Table=(f=this,hr(pi.prototype,function(w,P,E){this.db=f,this._tx=E,this.name=w,this.schema=P,this.hook=f._allTables[w]?f._allTables[w].hook:fr(null,{creating:[Pt,xe],reading:[gn,Dt],updating:[on,xe],deleting:[an,xe]})})),this.Transaction=(m=this,hr(Wc.prototype,function(w,P,E,O,A){var T=this;this.db=m,this.mode=w,this.storeNames=P,this.schema=E,this.chromeTransactionDurability=O,this.idbtrans=null,this.on=fr(this,"complete","error","abort"),this.parent=A||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new J(function($,N){T._resolve=$,T._reject=N}),this._completion.then(function(){T.active=!1,T.on.complete.fire()},function($){var N=T.active;return T.active=!1,T.on.error.fire($),T.parent?T.parent._reject($):N&&T.idbtrans&&T.idbtrans.abort(),rt($)})})),this.Version=(g=this,hr(eu.prototype,function(w){this.db=g,this._cfg={version:w,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,hr(bi.prototype,function(w,P,E){if(this.db=C,this._ctx={table:w,index:P===":id"?null:P,or:E},this._cmp=this._ascending=Ye,this._descending=function(O,A){return Ye(A,O)},this._max=function(O,A){return 0<Ye(O,A)?O:A},this._min=function(O,A){return Ye(O,A)<0?O:A},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new ue.MissingAPI})),this.on("versionchange",function(w){0<w.newVersion?console.warn("Another connection wants to upgrade database '".concat(a.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(a.name,"'. Closing db now to resume the delete request.")),a.close({disableAutoOpen:!1})}),this.on("blocked",function(w){!w.newVersion||w.newVersion<w.oldVersion?console.warn("Dexie.delete('".concat(a.name,"') was blocked")):console.warn("Upgrade '".concat(a.name,"' blocked by other connection holding version ").concat(w.oldVersion/10))}),this._maxKey=vr(n.IDBKeyRange),this._createTransaction=function(w,P,E,O){return new a.Transaction(w,P,E,a._options.chromeTransactionDurability,O)},this._fireOnBlocked=function(w){a.on("blocked").fire(w),ut.filter(function(P){return P.name===a.name&&P!==a&&!P._state.vcFired}).map(function(P){return P.on("versionchange").fire(w)})},this.use(au),this.use(cu),this.use(ou),this.use(nu),this.use(ru);var D=new Proxy(this,{get:function(w,P,E){if(P==="_vip")return!0;if(P==="table")return function(A){return aa(a.table(A),D)};var O=Reflect.get(w,P,E);return O instanceof pi?aa(O,D):P==="tables"?O.map(function(A){return aa(A,D)}):P==="_createTransaction"?function(){return aa(O.apply(this,arguments),D)}:O}});this.vip=D,s.forEach(function(w){return w(a)})}var oa,tn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",uu=(ho.prototype.subscribe=function(e,n,a){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:a})},ho.prototype[tn]=function(){return this},ho);function ho(e){this._subscribe=e}try{oa={indexedDB:l.indexedDB||l.mozIndexedDB||l.webkitIndexedDB||l.msIndexedDB,IDBKeyRange:l.IDBKeyRange||l.webkitIDBKeyRange}}catch{oa={indexedDB:null,IDBKeyRange:null}}function Mi(e){var n,a=!1,s=new uu(function(u){var f=Et(e),m,g=!1,C={},_={},D={get closed(){return g},unsubscribe:function(){g||(g=!0,m&&m.abort(),w&&kn.storagemutated.unsubscribe(E))}};u.start&&u.start(D);var w=!1,P=function(){return Tn(O)},E=function(A){ta(C,A),ao(_,C)&&P()},O=function(){var A,T,$;!g&&oa.indexedDB&&(C={},A={},m&&m.abort(),m=new AbortController,$=function(N){var F=K();try{f&&it();var z=je(e,N);return z=f?z.finally(Wt):z}finally{F&&G()}}(T={subscr:A,signal:m.signal,requery:P,querier:e,trans:null}),Promise.resolve($).then(function(N){a=!0,n=N,g||T.signal.aborted||(C={},function(F){for(var z in F)if(b(F,z))return;return 1}(_=A)||w||(kn(yr,E),w=!0),Tn(function(){return!g&&u.next&&u.next(N)}))},function(N){a=!1,["DatabaseClosedError","AbortError"].includes(N==null?void 0:N.name)||g||Tn(function(){g||u.error&&u.error(N)})}))};return setTimeout(P,0),D});return s.hasValue=function(){return a},s.getValue=function(){return n},s}var jn=xn;function po(e){var n=Rn;try{Rn=!0,kn.storagemutated.fire(e),so(e,!0)}finally{Rn=n}}M(jn,i(i({},ft),{delete:function(e){return new jn(e,{addons:[]}).delete()},exists:function(e){return new jn(e,{addons:[]}).open().then(function(n){return n.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return n=jn.dependencies,a=n.indexedDB,n=n.IDBKeyRange,(eo(a)?Promise.resolve(a.databases()).then(function(s){return s.map(function(u){return u.name}).filter(function(u){return u!==dn})}):Ja(a,n).toCollection().primaryKeys()).then(e)}catch{return rt(new ue.MissingAPI)}var n,a},defineClass:function(){return function(e){p(this,e)}},ignoreTransaction:function(e){return oe.trans?Tt(oe.transless,e):e()},vip:to,async:function(e){return function(){try{var n=co(e.apply(this,arguments));return n&&typeof n.then=="function"?n:J.resolve(n)}catch(a){return rt(a)}}},spawn:function(e,n,a){try{var s=co(e.apply(a,n||[]));return s&&typeof s.then=="function"?s:J.resolve(s)}catch(u){return rt(u)}},currentTransaction:{get:function(){return oe.trans||null}},waitFor:function(e,n){return n=J.resolve(typeof e=="function"?jn.ignoreTransaction(e):e).timeout(n||6e4),oe.trans?oe.trans.waitFor(n):n},Promise:J,debug:{get:function(){return he},set:function(e){ye(e)}},derive:S,extend:p,props:M,override:Y,Events:fr,on:kn,liveQuery:Mi,extendObservabilitySet:ta,getByKeyPath:V,setByKeyPath:x,delByKeyPath:function(e,n){typeof n=="string"?x(e,n,void 0):"length"in n&&[].map.call(n,function(a){x(e,a,void 0)})},shallowClone:de,deepClone:me,getObjectDiff:uo,cmp:Ye,asap:U,minKey:-1/0,addons:[],connections:ut,errnames:Fe,dependencies:oa,cache:Nn,semVer:"4.0.7",version:"4.0.7".split(".").map(function(e){return parseInt(e)}).reduce(function(e,n,a){return e+n/Math.pow(10,2*a)})})),jn.maxKey=vr(jn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(kn(yr,function(e){Rn||(e=new CustomEvent(Ha,{detail:e}),Rn=!0,dispatchEvent(e),Rn=!1)}),addEventListener(Ha,function(e){e=e.detail,Rn||po(e)}));var Vn,Rn=!1,Ii=function(){};return typeof BroadcastChannel<"u"&&((Ii=function(){(Vn=new BroadcastChannel(Ha)).onmessage=function(e){return e.data&&po(e.data)}})(),typeof Vn.unref=="function"&&Vn.unref(),kn(yr,function(e){Rn||Vn.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!xn.disableBfCache&&e.persisted){he&&console.debug("Dexie: handling persisted pagehide"),Vn!=null&&Vn.close();for(var n=0,a=ut;n<a.length;n++)a[n].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!xn.disableBfCache&&e.persisted&&(he&&console.debug("Dexie: handling persisted pageshow"),Ii(),po({all:new It(-1/0,[[]])}))})),J.rejectionMapper=function(e,n){return!e||e instanceof Rt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!jt[e.name]?e:(n=new jt[e.name](n||e.message,e),"stack"in e&&I(n,"stack",{get:function(){return this.inner.stack}}),n)},ye(he),i(xn,Object.freeze({__proto__:null,Dexie:xn,liveQuery:Mi,Entity:di,cmp:Ye,PropModSymbol:wn,PropModification:pr,replacePrefix:function(e,n){return new pr({replacePrefix:[e,n]})},add:function(e){return new pr({add:e})},remove:function(e){return new pr({remove:e})},default:xn,RangeSet:It,mergeRanges:wr,rangesOverlap:ea}),{default:xn}),xn})})(kc);var qf=kc.exports;const jo=ur(qf),ms=Symbol.for("Dexie"),wa=globalThis[ms]||(globalThis[ms]=jo);if(jo.semVer!==wa.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${jo.semVer} and ${wa.semVer}`);const{liveQuery:Hf,mergeRanges:Gp,rangesOverlap:Xp,RangeSet:Zp,cmp:Qp,Entity:Jp,PropModSymbol:em,PropModification:tm,replacePrefix:nm,add:rm,remove:am}=wa;function Wf(t,r,o){var i,c;typeof t=="function"?(i=r||[],c=o):(i=[],c=r);var l=xr.useRef({hasResult:!1,result:c,error:null}),d=xr.useReducer(function(v){return v+1},0);d[0];var h=d[1],p=xr.useMemo(function(){var v=typeof t=="function"?t():t;if(!v||typeof v.subscribe!="function")throw t===v?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!l.current.hasResult&&typeof window<"u"&&(typeof v.hasValue!="function"||v.hasValue()))if(typeof v.getValue=="function")l.current.result=v.getValue(),l.current.hasResult=!0;else{var y=v.subscribe(function(b){l.current.result=b,l.current.hasResult=!0});typeof y=="function"?y():y.unsubscribe()}return v},i);if(xr.useDebugValue(l.current.result),xr.useEffect(function(){var v=p.subscribe(function(y){var b=l.current;(b.error!==null||b.result!==y)&&(b.error=null,b.result=y,b.hasResult=!0,h())},function(y){var b=l.current;b.error!==y&&(b.error=y,h())});return typeof v=="function"?v:v.unsubscribe.bind(v)},i),l.current.error)throw l.current.error;return l.current.result}function kr(t,r,o){return Wf(function(){return Hf(t)},r||[],o)}const ua={MAIN_DISH_TYPE:"main-dish",NO_NEED_SOUP_KEYWORDS:["","",""],AUTO_SHOW_ORDER_LIST:!0,SHOW_SOUPS_NUMBER:!0,KEYBOARD_SUBMIT_BTN_TEXT:""},Vf=[[{label:"7",meta:"7"},{label:"8",meta:"8"},{label:"9",meta:"9"},{label:"",meta:"+15|"}],[{label:"4",meta:"4"},{label:"5",meta:"5"},{label:"6",meta:"6"},{label:"",meta:"+15|"}],[{label:"1",meta:"1"},{label:"2",meta:"2"},{label:"3",meta:"3"},{label:"",meta:"*",icon:"CloseOutlined"}],[{label:".",meta:"."},{label:"0",meta:"0"},{label:"",meta:"+",icon:"PlusOutlined"},{label:"",meta:"Backspace",icon:"SwapLeftOutlined"}]],pn=[{type:"main-dish",label:" ",color:"green",typeID:"1"},{type:"-la-carte",label:" ",color:"brown",typeID:"2"},{type:"others",label:" |",color:"indigo",typeID:"3"}],Rc=[{type:pn[0].type,label:pn[0].label,color:pn[0].color,items:[{name:"",price:140,priority:1},{name:"",price:130,priority:2},{name:"",price:130,priority:3},{name:"",price:110,priority:4},{name:"",price:115,priority:5},{name:"",price:115,priority:6},{name:"",price:115,priority:7},{name:"",price:110,priority:8},{name:"",price:110,priority:9},{name:"",price:100,priority:10},{name:"",price:100,priority:11},{name:"",price:80,priority:12},{name:"",price:60,priority:13},{name:"",price:45,priority:14},{name:"",price:160,priority:15},{name:"",price:15,priority:16,hideOnMode:"both"},{name:"",price:15,priority:17,hideOnMode:"both"}]},{type:pn[1].type,label:pn[1].label,color:pn[1].color,items:[{name:"",price:100,priority:1},{name:"",price:90,priority:2},{name:"",price:90,priority:3},{name:"",price:65,priority:4},{name:"",price:75,priority:5},{name:"",price:75,priority:6},{name:"",price:75,priority:7},{name:"",price:70,priority:8},{name:"",price:70,priority:9},{name:"",price:55,priority:10},{name:"",price:55,priority:11},{name:"",price:30,priority:12},{name:"",price:15,priority:13},{name:"()",price:30,priority:14},{name:"",price:10,priority:15},{name:"()",price:5,priority:16}]},{type:pn[2].type,label:pn[2].label,color:pn[2].color,items:[{name:"",price:250,priority:1},{name:"",price:220,priority:2},{name:"",price:220,priority:3},{name:"",price:250,priority:4},{name:"",price:220,priority:4},{name:"4",price:900,priority:5},{name:"",price:20,priority:6},{name:"x3",price:50,priority:7},{name:"",price:25,priority:8},{name:"",price:25,priority:9},{name:"",price:23,priority:10},{name:"Zero",price:25,priority:11},{name:"",price:25,priority:12},{name:"",price:40,priority:13},{name:"",price:10,priority:14}]}],oi=[{name:"",priority:1,type:"meal"},{name:"",priority:2,type:"meal"},{name:"",priority:3,type:"meal"},{name:"",priority:4,type:"meal"},{name:"",priority:5,type:"meal"},{name:"",color:"purple",priority:6,type:"order"},{name:"",color:"blue",priority:7,type:"order"},{name:"",color:"gold",priority:8,type:"order"},{name:"",color:"red",priority:9,type:"order"}];oi.reduce((t,{name:r,color:o})=>(t[r]=o,t),{});const Gf=[...oi.map(({name:t})=>({label:t,value:t})),{label:"",value:""},{label:"",value:""}],_n={red:"#db476c",blue:"#546ca3",brown:"#9e5e2f",purple:"#82379e",gold:"#e19338"},Xf="https://tianwen7252.github.io/manifest.json",er={get({startTime:t,endTime:r,reverse:o=!0,index:i="createdAt",sortKey:c="createdAt",searchText:l=null,offset:d=0,limit:h=0,search:p}){let v=Ge.orders.where(i).between(t,r);return o&&(v=v.reverse()),l!=null&&l.length&&(v=v.filter(({data:y,total:b,memo:M})=>l.some(q=>(q=q.trim(),b===+q||M.some(I=>I.includes(q))||y.some(I=>{const{res:S,value:B}=I;return(S==null?void 0:S.includes(q))||B===q}))))),p&&(v=p(v)),d&&(v=v.offset(d)),h&&(v=v.limit(h)),v.sortBy(c)},async add(t,r){return r||(r=at().utc().valueOf()),t.createdAt=r,await Ge.transaction("rw",[Ge.orders,Ge.dailyData],async()=>{const i=await Ge.orders.add(t);return await er.updateDailyData("add",t),i})},async set(t,r,o){o||(o=at().utc().valueOf()),r.updatedAt=o;const i=Ge.orders.update(t,r);return await er.updateDailyData("edit",r),i},async delete(t,r){const o=Ge.orders.delete(t);return await er.updateDailyData("delete",r),o},async updateDailyData(t,r){const{createdAt:o}=r,i=at(o).startOf("day"),c=i.format("YYYY/MM/DD");let l,d=0;const[h]=await tr.get({date:c});switch(h?(l=h.id,d=h.total):l=await tr.add(c,0,i.valueOf()),t){case"add":{tr.set(l,d+r.total);break}default:{const p=i.endOf("day"),y=(await er.get({startTime:i.valueOf(),endTime:p.valueOf(),reverse:!1})).reduce((b,M)=>b+M.total,0);tr.set(l,y)}}},count({startTime:t,endTime:r,index:o="createdAt"}){return Ge.orders.where(o).between(t,r).count()}},tr={get({date:t,startTime:r,endTime:o,reverse:i=!0,index:c="createdAt",sortKey:l=c}){let d;return t?d=Ge.dailyData.where("date").equals(t):d=Ge.dailyData.where(c).between(r,o),i&&(d=d.reverse()),d.sortBy(l)},add(t,r,o,i="admin"){return o||(o=at().utc().valueOf()),Ge.dailyData.add({date:t,total:r,originalTotal:r,createdAt:o,updatedAt:o,editor:i})},set(t,r,o="admin"){return Ge.dailyData.update(t,{total:r,originalTotal:r,editor:o})},revise(t,r,o,i="admin"){return o||(o=at().utc().valueOf()),Ge.dailyData.update(t,{total:r,updatedAt:o,editor:i})}},Zf={async get(t,r){const o=await er.get({startTime:t,endTime:r,reverse:!1}),i=await tr.get({startTime:t,endTime:r,reverse:!1});return{records:o,dailyDataInfo:i}}},Br={async get(){return Ge.commondityType.toArray()},async add(t){return t.createdAt=at().utc().valueOf(),Ge.commondityType.add(t)},async set(t,r){return r.updatedAt=at().utc().valueOf(),Ge.commondityType.update(t,r)},async clear(){return Ge.commondityType.clear()}},In={async get(t="1"){return t?Ge.commondity.where("onMarket").equals(t).toArray():Ge.commondity.toArray()},async getMapData(t){const r=await In.get(t),o={};return r==null||r.forEach(i=>{const{id:c,typeID:l,priority:d,onMarket:h}=i;o[l]=o[l]??[],h==="1"&&o[l].push({key:`${c}-${d}`,...i})}),o},async add(t,r="admin"){return Ge.commondity.add({...t,createdAt:at().utc().valueOf(),editor:r})},async set(t,r){return r.updatedAt=at().utc().valueOf(),Ge.commondity.update(t,r)},async clear(){return Ge.commondity.clear()}},xa={async get(){return Ge.orderTypes.toArray()},async add(t,r="admin"){return Ge.orderTypes.add({...t,createdAt:at().utc().valueOf(),editor:r})},async set(t,r){return r.updatedAt=at().utc().valueOf(),Ge.orderTypes.update(t,r)},async delete(t){return Ge.orderTypes.delete(t)},async clear(){return Ge.orderTypes.clear()}};function Qf(t=!0){ii(t),Dc(t),si(t)}function ii(t=!0){t&&Br.clear(),pn.forEach(r=>{Br.add(r)})}function Dc(t=!0){t&&In.clear(),Rc.forEach((r,o)=>{const{items:i}=r;i.forEach(c=>{In.add({...c,typeID:String(o+1),onMarket:"1"})})})}function si(t=!0){t&&xa.clear(),oi.forEach(r=>{xa.add(r)})}const Jf=Object.freeze(Object.defineProperty({__proto__:null,MANIFEST_URL:Xf,commondity:In,commondityTypes:Br,dailyData:tr,orderTypes:xa,orders:er,reset:Qf,resetCommonditType:ii,resetCommondity:Dc,resetOrderType:si,statistics:Zf},Symbol.toStringTag,{value:"Module"})),ys=7,om="2025-3-3 12:00:00",eh="commondity",th="TianwenDB",nh=7,Ge=new wa(th),rh=Ge.version(nh);rh.stores({orders:"++id, createdAt",dailyData:"++id, date, createdAt, total",commondityType:"++id, type",commondity:"++id, name, typeID, onMarket",orderTypes:"++id, name"});function ah(){oh()}async function oh(){const t=localStorage.getItem("SYNC_NUMBER"),r=zo(t)||ys>+t,o=r&&eh;if(((await Br.get()).length===0||o==="commondityType")&&ii(r),(await In.get()).length===0||o==="commondity"){const h=(await Br.get()).reduce((p,v)=>(p[v.type]=v.typeID,p),{});r&&In.clear(),Rc.forEach(p=>{const{type:v,items:y}=p;y.forEach(b=>{In.add({...b,typeID:h[v],onMarket:"1"})})})}((await xa.get()).length===0||o==="orderTypes")&&si(r),r&&localStorage.setItem("SYNC_NUMBER",ys.toString())}ah();const Qn={KEYBOARD_ON_ACTION:"keyboard.onAction",KEYBOARD_ON_CANCEL_EDIT:"keyboard.onCancelEdit",ORDER_AFTER_ACTION:"order.afterAction",on(t,r){return document.addEventListener(Qn._getName(t),r),Qn.off.bind(Qn,t,r)},off(t,r){document.removeEventListener(Qn._getName(t),r)},fire(t,r){const o=new CustomEvent(Qn._getName(t),{detail:r});document.dispatchEvent(o)},_getName(t){return`Resta.${t}`}},ci="YYYY/MM/DD dddd",ih="YYYY/MM/DD",Fo="MM/DD HH:m:s A",sh="YYYY/MM/DD HH:mm",ch="MM-DD (dd)",uh=7,ya=1e3*1e3,lh=ya*1e3;function ar(t){return(+t).toLocaleString("zh-TW",{style:"currency",currency:"TWD",maximumFractionDigits:0,minimumFractionDigits:0})}function dh(t){return ar(t).substring(1)}function fh(t,r=!1){return`${t-(t>12?12:0)}${r?"":t>11?" PM":" AM"}${r?` - ${fh(t+1)}`:""}`}const hh=navigator.userAgent.toLowerCase(),ph=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(hh);function _a(t){const r=t?+t:1;return r<1&&r>0?1:r}let xo,_o;function Pc(t=null,r=!1,o=!1){const i=[],c={},l={};let d={},h={};const p=(v,y,b)=>{y.forEach((M,q)=>{const{name:I,menu:S,price:B=b,showRelevancy:W,textIcon:Z}=M;if(r&&(M.priority=q,W&&i.push(M)),l[I]=[B,v],Array.isArray(S))p(v,S,B);else{const Y=c[B]=c[B]??[];Y.some(X=>X.name===I)||Y.push({name:I,textIcon:Z,type:v})}})};return Iu(t,(v,y)=>{let b="";switch(y){case"1":b="main-dish";break;case"2":b="-la-carte";break;case"3":b="others";break}p(b,v)}),r&&i.forEach(v=>{var b,M;const{price:y}=v;v.menu=((M=(b=c[y])==null?void 0:b.map)==null?void 0:M.call(b,(q,I)=>({...q,price:y,priority:I})))??[]}),o&&(xo&&_o?(d=xo,h=_o):(Object.keys(c).forEach(v=>{c[v].forEach(y=>{const{type:b}=y,M=d[b]=d[b]??{};M[v]=M[v]??[],M[v].push(y),(h[b]=h[b]??[]).push(y.name)})}),d["-la-carte"][15]=[...d["-la-carte"][15]??[],...d["main-dish"][15]],delete d["main-dish"][15],h["-la-carte"].push(""),h["-la-carte"].push(""),h["main-dish"]=h["main-dish"].filter(v=>v!==""&&v!==""),xo=d,_o=h)),{data:t,priceMap:c,commodityMap:l,priceMapGroup:d,resMapGroup:h}}async function im(t="GB"){var h;let r=0,o="---",i=0,c="---",l=0,d="---";if((h=navigator==null?void 0:navigator.storage)!=null&&h.estimate){const p=await navigator.storage.estimate(),v=t==="GB"?lh:ya;r=p.usage/v,r<1?(r=p.usage/ya,o=`${r.toFixed(2)} MB`):o=`${r.toFixed(2)} GB`,i=p.usage/p.quota*100,c=`${i<.01?0:i.toFixed(2)}%`,l=(p.quota-p.usage)/v,l<1?(l=(p.quota-p.usage)/ya,d=`${l.toFixed(2)} MB`):d=`${l.toFixed(2)} GB`}return{useage:o,percentageUsed:c,remaining:d}}let Eo;const mh={db:Ge,API:Jf,appEvent:Qn,isTablet:ph,DATE_FORMAT:ci,DATE_FORMAT_DATE:ih,DATE_FORMAT_TIME:Fo,DATE_FORMAT_DATETIME_UI:sh,async getAllCommoditiesInfo(){if(!Eo){const t=await In.getMapData();Eo=Pc(t,!1,!0)}return Eo}},Ac={...mh,gAPIToken:null,setGAPIToken:()=>{}},zr=k.createContext(Ac),Mc=["+","*"],yh=Mc.join(""),{evaluate:vh}=Nu({evaluateDependencies:ju,unaryPlusDependencies:Fu});function Ic(t){return vh(t)}function la(t){const{length:r}=t,o=$u(t,yh),i=r===0?0:Ic(o);let c=t==="."?"0.":t;return Mc.includes(t[0])||c.startsWith("0")?c=c.slice(1):c=c.replaceAll(/(\++){2,}|(\*{2,})|(\*\+)|(\+\*)/g,l=>{switch(l){case"++":case"**":return l[0];case"+*":case"*+":return l.at(-1);default:return l}}),{input:t,total:i,transformedInput:c}}function vs(t){let r="";return t.forEach(({value:o,operator:i=""})=>{r+=i+o}),{text:r,total:Ic(r)||0}}function gh(t){const{priceMap:r,commodityMap:o}=k.useMemo(()=>Pc(t),[t]),i=k.useRef(""),c=k.useRef(!1),[l,d]=k.useState(""),[h,p]=k.useState([]),[v,y]=k.useState(0),b=k.useRef(h);i.current=l,b.current=h;const M=k.useCallback(Y=>{const X=b.current,U=X.at(-1);return U&&(!U.operator||U.operator&&U.value?X.push({value:"",operator:Y}):U.operator=Y,c.current=Y==="*"),X},[]),q=k.useCallback((Y,X)=>{const U=o[X];if(U){const[,V]=U;Y.res=X,Y.type=V}else Y.res="",Y.type="";return Y},[o]),I=k.useCallback((Y,X,U=!1)=>{const V=b.current;if(U&&X){const x=V.indexOf(X);if(x!==-1){const de=x-1;V.splice(de>0?de:0,X.amount?3:2);const{text:le,total:fe}=vs(V);d(le),y(fe)}}else if(X=X??V.at(-1),X){const[,x]=Y.split("|");q(X,x)}p([...V])},[q]),S=k.useCallback((Y,X)=>{let U=b.current,V=U.at(-1),x;switch(Y){case"+":case"*":{const{transformedInput:de}=la(i.current+Y);d(de),p([...M(Y)]);break}case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{Y==="."&&(i.current===""||V.value==="")&&(Y="0.");const{total:de,transformedInput:le}=la(i.current+Y);if(d(le),y(de),(U.length===0||(V==null?void 0:V.operator)==="+")&&(V={value:""},U.push(V)),V.value+=Y,c.current){const fe=U.at(-2);fe&&(fe.amount=V.value)}x=[...U];break}case"Backspace":{const{total:de,transformedInput:le}=la(i.current.slice(0,-1));if(d(le),y(de),V)if(V.value==="")U.pop();else if(V.value=V.value.slice(0,-1),V.operator==="*"){const fe=U.at(-2);fe.amount=V.value}else V.value===""&&U.pop();x=[...U];break}case"Escape":{d(""),y(0),p([]),b.current=[],c.current=!1;break}default:if(Y.startsWith("+")){const{total:de,transformedInput:le}=la(i.current+Y);d(le),y(de);const fe=M("+"),De={value:Y.slice(1),res:X};fe.push(q(De,X)),x=[...fe];break}}return x&&(b.current=U=x,p(x)),{data:U}},[M,q]),B=k.useCallback(Y=>{document.querySelector(".ant-modal-mask")||S(Y.key)},[S]),W=k.useCallback(()=>{S("Escape")},[S]),Z=k.useCallback((Y,X)=>{const{text:U}=vs(Y);d(U),y(X),p(Y)},[]);return k.useEffect(()=>(document.addEventListener("keyup",B),()=>{document.removeEventListener("keyup",B)}),[B]),{data:h,text:l,total:v,priceMap:r,input:S,updateItemRes:I,update:Z,clear:W}}function gs(t,r){if(t.inserted[r.name]===void 0)return t.insert("",r,t.sheet,!0)}function bs(t,r,o){var i=[],c=Go(t,i,o);return i.length<2?o:c+r(i)}var bh=function(r){var o=qs(r);o.sheet.speedy=function(h){this.isSpeedy=h},o.compat=!0;var i=function(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];var b=rr(v,o.registered,void 0);return Xo(o,b,!1),o.key+"-"+b.name},c=function(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];var b=rr(v,o.registered),M="animation-"+b.name;return gs(o,{name:b.name,styles:"@keyframes "+M+"{"+b.styles+"}"}),M},l=function(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];var b=rr(v,o.registered);gs(o,b)},d=function(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];return bs(o.registered,i,wh(v))};return{css:i,cx:d,injectGlobal:l,keyframes:c,hydrate:function(p){p.forEach(function(v){o.inserted[v]=!0})},flush:function(){o.registered={},o.inserted={},o.sheet.flush()},sheet:o.sheet,cache:o,getRegisteredStyles:Go.bind(null,o.registered),merge:bs.bind(null,o.registered,i)}},wh=function t(r){for(var o="",i=0;i<r.length;i++){var c=r[i];if(c!=null){var l=void 0;switch(typeof c){case"boolean":break;case"object":{if(Array.isArray(c))l=t(c);else{l="";for(var d in c)c[d]&&d&&(l&&(l+=" "),l+=d)}break}default:l=c}l&&(o&&(o+=" "),o+=l)}}return o},xh=bh({key:"css"}),_h=xh.css;const $c="10px",Eh=ce`
  position: relative;
  overflow: hidden;
  --resta-original-total-room: 0px;
`,Ch=ce`
  --resta-original-total-room: 38px;
`,Sh=ce`
  width: min-content;
  /* width: 40vw; */
  min-width: 60vw;
  min-height: ${ai(22)};
  padding: 10px 20px;
  font-size: ${Of};
  letter-spacing: ${Rf};

  .ant-divider {
    margin: 8px 0;
  }
`,Th=ce`
  .ant-tabs {
    margin-top: 0;

    .ant-tabs-tab-btn {
      font-size: ${Df};
    }
  }
  .resta-keyboard-btn-area {
    .ant-btn {
      width: 5rem;
    }

    .ant-btn,
    .anticon {
      font-size: ${Af};
    }
  }
`,Oh=ce`
  margin-bottom: 20px;
  word-wrap: break-word;
  min-height: ${fs};

  @media only screen and (min-device-width: 1080px) and (orientation: landscape) {
    min-height: ${Lr.KEYBOARD_TEXT_MIN_HEIGHT};
  }
  @media only screen and (min-device-width: 1280px) and (orientation: landscape) {
    min-height: ${fs};
  }
`,kh=ce`
  margin-bottom: -20px;
  margin-top: -10px;

  .resta-keyboard-left {
    min-width: 70vw;
    min-height: ${ai(112)};
  }

  /* @media only screen and (max-device-width: 1180px) and (orientation: landscape) {
    // transform: scale(0.93);
    // margin-left: -40px;
    // margin-top: -45px;
    margin-bottom: -20px;
    margin-top: -10px;
  } */
  .resta-keyboard-textArea {
    @media only screen and (min-device-width: 1080px) and (orientation: landscape) {
      min-height: calc(${Lr.KEYBOARD_TEXT_MEALS_HEIGHT} + 20px);
      max-height: calc(${Lr.KEYBOARD_TEXT_MEALS_HEIGHT} + 20px);
    }
    @media only screen and (min-device-width: 1280px) and (orientation: landscape) {
      max-height: none;
    }
  }
`,Rh=ce`
  max-height: calc(
    ${hs} - var(--resta-original-total-room)
  );

  @media only screen and (min-device-width: 1080px) and (orientation: landscape) {
    max-height: calc(
      ${Lr.KEYBOARD_TEXT_MEALS_HEIGHT} - var(--resta-original-total-room)
    );
  }
  @media only screen and (min-device-width: 1280px) and (orientation: landscape) {
    max-height: calc(
      ${hs} - var(--resta-original-total-room)
    );
  }

  overflow-y: auto;

  .ant-tag {
    font-size: 1rem;
    vertical-align: text-bottom;
    line-height: inherit;
    margin-inline-end: 4px;
    cursor: pointer;
    background: #fff;
    border: 1px solid #2222229c;
    color: #2222229c;
  }

  .ant-tag-close-icon {
    /* vertical-align: middle; */
    font-size: 1rem;
    color: #2222229c;
  }
`,ws=ce`
  margin-top: 1rem;
  font-weight: 500;
  font-size: ${kf};
`,Dh=ce`
  color: #aaa;
  text-decoration: line-through;
`,Ph=ce`
  margin-top: 0;
`,Ah=ce`
  font-size: 1rem;
  vertical-align: middle;
`,Mh=ce``,Ih=ce`
  color: #fff;
  padding: 2px 4px;
  border-radius: 4px;
  letter-spacing: 0;
  font-size: 1rem;
  margin-right: 8px;

  &.resta-keyboard-change-1000 {
    background: #3f6ab0;
  }
  &.resta-keyboard-change-500 {
    background: #ae917d;
  }
  &.resta-keyboard-change-100 {
    background: #f38590;
  }
`,$h=ce`
  position: relative;
  padding-top: 8px;

  .ant-btn {
    font-size: 1.2rem;
  }
`,Lh=ce`
  font-size: 1.5rem;
  width: min-content;
`,Bh=ce`
  flex: auto;
  justify-content: end;
`,Nh=ce`
  width: min-content;
  gap: 20px;

  // for ipad 11 air
  @media only screen and (min-device-width: 1180px) and (max-height: 796px) and (orientation: landscape) {
    gap: 70px;
  }

  .ant-flex {
    margin-bottom: ${$c};
    align-content: space-between;
  }

  .ant-btn {
    width: 4.2rem;
    height: 4.2rem;
    white-space: normal;
    word-break: break-word;
    padding: 0;
    /* transform: scale(0.9); */

    > span:not(.ant-btn-icon) {
      padding: 5px;
    }
  }

  .ant-btn,
  .anticon {
    font-size: ${Pf};
  }
`,jh=ce`
  &.ant-btn {
    width: 5rem;
    height: 30px;
    padding: 0px;
    display: block;
    line-height: inherit;
    font-size: 1rem;
    border-radius: 4px;

    .ant-btn-icon {
      vertical-align: middle;
      margin-right: 4px;
      margin-top: -2px;
    }
  }
`,Fh=ce`
  margin-top: calc(-${ds} - 50px);

  .ant-tabs-nav {
    margin-left: 10px;
    margin-bottom: 1.5rem;
  }

  .ant-tabs-tab + .ant-tabs-tab {
    margin: 0 0 0 2rem;
    // for iPad 10
    @media only screen and (max-device-width: 1080px) and (orientation: landscape) {
      margin: 0 0 0 1rem;
    }
  }

  .ant-tabs-tab-btn {
    font-size: ${ds};
  }
`,Kh=ce`
  font-size: 12px;
  flex-wrap: wrap;
  flex-direction: column;
  min-height: 300px;
  max-height: 350px;
  align-content: space-between;
  row-gap: ${$c};
`,xs=_h`
  color: red;

  .ant-dropdown-menu .ant-dropdown-menu-item {
    font-size: 1rem;
  }
`,_s=ce`
  display: block;
  padding: 2px;
  position: absolute;
  top: -22px;
  color: #777;
  font-size: 0.8rem;
  background: #fff;
`,zh=ce`
  font-size: 1rem;
  padding: 5px 0;
  position: relative;

  &:before {
    content: '';
    left: 0;
    ${_s}
  }

  &:after {
    content: '';
    right: 0;
    ${_s}
  }

  .ant-tag {
    font-size: ${Cc};
    vertical-align: middle;
    border: 1px solid #ddd;
    margin-right: 0;
    padding: 2px 6px;
    letter-spacing: 2px;
    margin-left: 2px;

    */ &.ant-tag-checkable:not(.ant-tag-checkable-checked):hover {
      color: #333;
    }

    &.ant-tag-checkable-checked {
      background-color: #333;

      &::after {
        position: absolute;
        content: '';
        top: -18px;
        left: 40%;
        z-index: 1;
        /* right: 50%; */
      }
    }
  }
`,Uh=ce`
  width: 100%;
  justify-content: space-between;
`,Yh=ce`
  border-right: 1px solid rgba(5, 5, 5, 0.06);
  border-image: linear-gradient(to bottom, #fff, #999, #fff) 1 100%;
  margin: 0 2px;
  height: 26px;
`,qh=ce`
  height: 3.5rem;
  font-size: 1.2rem;
  font-weight: bold;
  transition: ${Oc()};
  background-size: 200% auto;
  border-radius: 10px;
`,Hh=ce`
  background: linear-gradient(to right, rgb(201, 255, 191), rgb(255, 175, 189));
`,Wh=ce`
  margin-top: 20px;
  .ant-form-item-row .ant-form-item-label > label {
    font-size: 1rem;
  }
`,za=(t,r=t)=>ce`
    border-color: ${t};
    color: ${r};
  `,Vh=za("#426e0680","#426e06"),Gh=za("#7e632280","#7e6322"),Xh=za("#673e7678","#673e76"),Zh=za("#3e667675","#3e6676"),Qh={green:Vh,brown:Gh,purple:Xh,indigo:Zh},Ur=(t,r="#fff")=>ce`
    &.ant-tag.ant-tag-checkable-checked {
      background-color: ${t};
      color: ${r};
    }
  `,Jh=Ur(_n.brown),ep=Ur(_n.purple),tp=Ur(_n.blue),np=Ur(_n.gold),rp=Ur(_n.red),ap={brown:Jh,purple:ep,blue:tp,gold:np,red:rp},op={SwapLeftOutlined:j(wu,{}),PlusOutlined:j(xu,{}),DeleteOutlined:j(Ko,{}),CloseOutlined:j(_u,{})},Es=[1e3,500,100];function ip(t){const r=t.toString(),{length:o}=r,i=+r[0],c=[];return o<=4&&o>1?(Es.forEach((l,d)=>{if(l>t)c.push([l,l,l-t]);else if(t>l){const h=l*(i+1);h>t&&(h<Es[d-1]||d===0)&&c.push([l,h,h-t])}}),c):null}const sp=k.memo(t=>{var Ht;const{API:r,appEvent:o,isTablet:i}=k.useContext(zr),c=kr(async()=>(await r.commondityTypes.get()).map(ye=>({key:ye.id,...ye})),[],[]),l=kr(async()=>await r.commondity.getMapData(),[],{}),d=kr(async()=>await r.orderTypes.get(),[],[]),{data:h,total:p,priceMap:v,input:y,updateItemRes:b,update:M,clear:q}=gh(l),{editMode:I=!1,record:S,drawerMode:B=!1,callOrderAPI:W,submitCallback:Z}=t,[Y,X]=k.useState(t.mode||"both"),[U,V]=k.useState([]),[x,de]=k.useState(ua.KEYBOARD_SUBMIT_BTN_TEXT),[le,fe]=k.useState(I),[De,ve]=k.useState(!1),[me,Se]=k.useState(null),[Le,et]=k.useState(""),[tt,Ae]=k.useState(!1),_t=k.useRef(S),Ze=k.useMemo(()=>{let he=0;return h.forEach(({res:ye,type:Ce,amount:Be=""})=>{!ua.NO_NEED_SOUP_KEYWORDS.some(Ee=>ye==null?void 0:ye.includes(Ee))&&(Ce===ua.MAIN_DISH_TYPE||ye==="")&&(he+=_a(Be))}),he},[h]),Et=k.useMemo(()=>U.includes(""),[U]),St=k.useCallback(he=>{const[ye,Ce]=he.split("|");return y(ye,Ce).data},[y]),Rt=k.useCallback(he=>{X(he)},[X]),Nt=k.useCallback(he=>{const{meta:ye=""}=he.currentTarget.dataset;St(ye)},[St]),Ct=k.useCallback(he=>{const{key:ye}=he;i?b(ye):St(ye)},[i,St,b]),ge=k.useCallback((he,ye=!1,Ce)=>{const{key:Be}=Ce;b(Be,he,ye)},[b]),Fe=k.useCallback((he,ye)=>{const Ce=U.indexOf(he);ye?Ce===-1&&U.push(he):U.splice(Ce,1),V([...U])},[U]),ze=k.useCallback(()=>{ve(!0)},[]),ue=k.useCallback(()=>{me===null||me===p?(Se(null),Ae(!1)):(U.includes("")||V([...U,""]),Ae(!0)),ve(!1)},[me,p,U]),jt=k.useCallback(()=>{Ae(!1),Se(null),et(""),U.includes("")&&V([...Lu(U,"")]),ve(!1)},[U]),ft=k.useCallback(()=>{jt(),V([]),B||(de(ua.KEYBOARD_SUBMIT_BTN_TEXT),fe(!1),o.fire(o.ORDER_AFTER_ACTION)),_t.current=null,q()},[B,o,q,jt]),xe=k.useCallback(async()=>{const he=tt?me:p;if(he>0){let ye="add";const Ce={data:h,total:he,originalTotal:tt?p:void 0,editedMemo:Le,soups:Ze,memo:!Ze||Et?U:[...U,`${Ze}`]};if(le){const Be=_t.current;ye="edit",Be&&W({...Be,...Ce},ye)}else await W(Ce,ye);Z==null||Z(ye),ft()}},[h,p,Ze,le,Et,U,tt,me,Le,W,Z,ft]);k.useEffect(()=>{const he=o.on(o.KEYBOARD_ON_ACTION,Ce=>{const{record:Be,action:nt}=Ce.detail;switch(nt){case"edit":{const{data:Ee,memo:Ne,number:We,editedMemo:Ve}=Be;let{total:ot,originalTotal:Ue}=Be;_t.current=Be,zo(Ue)||(Se(ot),et(Ve),Ae(!0),ot=Ue),M(Ee,ot),V(Ne.filter(Qe=>!Qe.includes(""))),de(` - [${We}]`),fe(!0);break}case"delete":{W(Be,"delete");break}}}),ye=o.on(o.KEYBOARD_ON_CANCEL_EDIT,ft);return()=>{he(),ye()}},[o,M,W,ft]);const Dt=k.useMemo(()=>Vf.map((he,ye)=>j(wt,{gap:"middle",children:he.map((Ce,Be)=>{const{label:nt,meta:Ee,icon:Ne}=Ce;return j(_r,{shape:"circle",size:"large","data-meta":Ee,icon:op[Ne],onClick:Nt,children:nt},Be)})},ye)),[Nt]),gn=k.useMemo(()=>c.map(he=>{const{type:ye,label:Ce,typeID:Be,color:nt}=he,Ne=(l[Be]??[]).map((We,Ve)=>{const{name:ot,price:Ue,menu:Qe,visible:Kt,showRelevancy:gt,hideOnMode:oe}=We;if(Kt===!1||oe===Y)return null;const bt=gt&&Qe?`+${Ue}|${Qe[0].name}`:`+${Ue}|${ot}`,mt=j(_r,{size:"large","data-meta":bt,css:Qh[nt],onClick:Nt,children:ot},`${Ve}-${bt}`);return Qe?j($i,{overlayClassName:xs,arrow:{pointAtCenter:!0},placement:"bottom",menu:{onClick:Ct,items:Qe.map(({name:Je,price:J,textIcon:zt})=>({key:`+${J}|${Je}`,label:zt?pe(Vt,{children:[zt,Je]}):Je}))},children:mt},bt):mt});return{label:Ce,key:ye,children:j(wt,{css:Kh,gap:"middle",vertical:!0,wrap:!0,children:Ne})}}),[Y,c,l,Nt,Ct]),Ft=k.useMemo(()=>h.map((he,ye)=>{var Ne,We;const{value:Ce,operator:Be,res:nt}=he;let Ee;return Be?Ee=pe("span",{children:[Be,Ce]}):Ee=nt?pe("span",{children:[Ce,"(",j($i,{overlayClassName:xs,arrow:{pointAtCenter:!0},placement:"bottom",menu:{items:(We=(Ne=v[Ce])==null?void 0:Ne.map)==null?void 0:We.call(Ne,({name:Ve})=>({key:`+${Ce}|${Ve}`,label:Ve})),onClick:ge.bind(null,he,!1)},children:j(Do,{bordered:!1,closeIcon:!0,onClose:ge.bind(null,he,!0),children:nt})},`${ye}-${Ce}`),")"]}):Ce,j(Vt,{children:Ee},`${ye}-${Ce}-${Date.now()}`)}),[h,v,ge]);k.useEffect(()=>{const he=document.getElementById("resta-keyboard-meals");he.scrollTop=he.scrollHeight},[Ft]);const[Pt,an]=k.useMemo(()=>{const he=[],ye=[];return d.forEach(Ce=>{const{name:Be,color:nt,type:Ee}=Ce,Ne=j(Do.CheckableTag,{css:ap[nt],checked:U.includes(Be),onChange:We=>Fe(Be,We),children:Be},Be);Ee==="meal"?he.push(Ne):ye.push(Ne)}),[he,ye]},[d,U,Fe]),on=k.useMemo(()=>{var ye;const he=tt?me:p;return he!==0&&((ye=ip(he))==null?void 0:ye.map(([Ce,Be,nt])=>pe("span",{css:Ih,className:`resta-keyboard-change-${Ce}`,children:["$",Be,"  $",nt]},Ce)))},[tt,p,me]),sn=k.useMemo(()=>pe(Mt,{children:[j("span",{css:Ah,children:Ze>0&&!Et&&`(${Ze})`}),on&&j("span",{css:Mh,children:on})]}),[Ze,Et,on]);return pe("div",{css:[Eh,B&&kh,tt&&Ch],children:[pe(wt,{css:[Sh,Y==="commondity"&&Th],className:"resta-keyboard-left",vertical:!0,children:[pe(wt,{css:Oh,className:"resta-keyboard-textArea",vertical:!0,children:[j("div",{id:"resta-keyboard-meals",css:Rh,children:Ft}),j("div",{css:ws,children:pe(Vt,{size:"large",children:[pe("span",{css:tt&&Dh,children:[p&&`= ${ar(p)}`,p!==0&&j(_r,{type:"text",icon:j(Ms,{}),onClick:ze})]}),!tt&&sn]})}),tt&&j("div",{css:[ws,Ph],children:pe(Vt,{size:"large",children:[j("span",{children:`= ${ar(me)}`}),sn]})})]}),pe(wt,{css:Bh,gap:"middle",vertical:!0,children:[pe(Vt,{size:"middle",children:[j(Su,{css:Lh,options:[{value:"both",icon:j(Eu,{})},{value:"commondity",icon:j(Cu,{})}],onChange:Rt}),j(_r,{danger:!0,type:"primary",size:"large",css:jh,icon:j(Ko,{}),onClick:ft,children:""})]}),pe(wt,{css:Nh,gap:"middle",className:"resta-keyboard-btn-area",children:[Y==="both"&&j("div",{css:$h,children:Dt}),j(Is,{css:Fh,tabPosition:Y==="commondity"?"left":"top",defaultActiveKey:(Ht=c==null?void 0:c[0])==null?void 0:Ht.type,items:gn})]})]}),j(Rr,{}),j(wt,{css:zh,gap:"small",wrap:!0,align:"center",children:pe(Vt,{css:Uh,split:j("span",{css:Yh}),children:[j(Vt,{children:Pt}),j(Vt,{children:an})]})}),j(Rr,{}),j(wt,{vertical:!0,children:j(_r,{css:[qh,le&&Hh],size:"large",type:"primary",disabled:B&&(h==null?void 0:h.length)===0,onClick:xe,children:x})})]}),j($s,{title:"",open:De,okText:"",cancelText:" ()",closable:!1,maskClosable:!1,onOk:ue,onCancel:jt,children:j(wt,{vertical:!0,children:pe(sa,{labelCol:{span:4},wrapperCol:{span:18},css:Wh,children:[j(sa.Item,{label:"",children:ar(p)}),j(sa.Item,{label:"",children:j(gu,{type:"number",prefix:"$",value:me===null?p:me,min:0,style:{minWidth:"60%"},addonAfter:`($${dh(me===null?p:me)})`,onChange:k.useCallback(he=>Se(he),[])})}),j(sa.Item,{label:"",children:j(bu,{type:"text",placeholder:"",value:Le,onChange:k.useCallback(he=>et(he.target.value),[])})})]})})})]})});var Lc={exports:{}};(function(t){var r=Object.assign||function(i){for(var c,l=1;l<arguments.length;l++)for(var d in c=arguments[l],c)Object.prototype.hasOwnProperty.call(c,d)&&(i[d]=c[d]);return i},o=function(i,c){if(i){typeof window<"u"&&function(){function I(S,B){B=B||{bubbles:!1,cancelable:!1,detail:void 0};var W=document.createEvent("CustomEvent");return W.initCustomEvent(S,B.bubbles,B.cancelable,B.detail),W}return typeof window.CustomEvent!="function"&&(I.prototype=window.Event.prototype,void(window.CustomEvent=I))}(),c||(c={}),c=r({},{minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0,touch:!0,mouse:!0},c);var l=[],d=!1,h=function(){d=!0},p=function(I){d=!1,y(I)},v=function(I){d&&(I.changedTouches=[{clientX:I.clientX,clientY:I.clientY}],b(I))};c.mouse&&(i.addEventListener("mousedown",h),i.addEventListener("mouseup",p),i.addEventListener("mousemove",v));var y=function(I){var S=Math.abs,B=Math.max,W=Math.min;if(l.length){for(var Z=typeof TouchEvent=="function"&&I instanceof TouchEvent,Y=[],X=[],U={top:!1,right:!1,bottom:!1,left:!1},V=0;V<l.length;V++)Y.push(l[V].x),X.push(l[V].y);var x=Y[0],de=Y[Y.length-1],le=X[0],fe=X[X.length-1],De={x:[x,de],y:[le,fe]};if(1<l.length){var ve={detail:r({touch:Z,target:I.target},De)},me=new CustomEvent("swiperelease",ve);i.dispatchEvent(me)}var Se=Y[0]-Y[Y.length-1],Le="none";Le=0<Se?"left":"right";var et,tt=W.apply(Math,Y),Ae=B.apply(Math,Y);if(S(Se)>=c.minHorizontal&&(Le=="left"?(et=S(tt-Y[Y.length-1]),et<=c.deltaHorizontal&&(U.left=!0)):Le=="right"&&(et=S(Ae-Y[Y.length-1]),et<=c.deltaHorizontal&&(U.right=!0))),Se=X[0]-X[X.length-1],Le="none",Le=0<Se?"top":"bottom",tt=W.apply(Math,X),Ae=B.apply(Math,X),S(Se)>=c.minVertical&&(Le=="top"?(et=S(tt-X[X.length-1]),et<=c.deltaVertical&&(U.top=!0)):Le=="bottom"&&(et=S(Ae-X[X.length-1]),et<=c.deltaVertical&&(U.bottom=!0))),l=[],U.top||U.right||U.bottom||U.left){c.lockAxis&&((U.left||U.right)&&S(x-de)>S(le-fe)?U.top=U.bottom=!1:(U.top||U.bottom)&&S(x-de)<S(le-fe)&&(U.left=U.right=!1));var _t={detail:r({directions:U,touch:Z,target:I.target},De)},Ze=new CustomEvent("swipe",_t);i.dispatchEvent(Ze)}else{var Et=new CustomEvent("swipecancel",{detail:r({touch:Z,target:I.target},De)});i.dispatchEvent(Et)}}},b=function(I){var S=I.changedTouches[0];if(l.push({x:S.clientX,y:S.clientY}),1<l.length){var B=l[0].x,W=l[l.length-1].x,Z=l[0].y,Y=l[l.length-1].y,X={detail:{x:[B,W],y:[Z,Y],touch:typeof TouchEvent=="function"&&I instanceof TouchEvent,target:I.target}},U=new CustomEvent("swiping",X),V=c.preventScroll===!0||typeof c.preventScroll=="function"&&c.preventScroll(U);V&&I.preventDefault(),i.dispatchEvent(U)}},M=!1;try{var q=Object.defineProperty({},"passive",{get:function(){M={passive:!c.preventScroll}}});window.addEventListener("testPassive",null,q),window.removeEventListener("testPassive",null,q)}catch{}return c.touch&&(i.addEventListener("touchmove",b,M),i.addEventListener("touchend",y)),{off:function(){i.removeEventListener("touchmove",b,M),i.removeEventListener("touchend",y),i.removeEventListener("mousedown",h),i.removeEventListener("mouseup",p),i.removeEventListener("mousemove",v)}}}};t.exports=o,t.exports.default=o})(Lc);var cp=Lc.exports;const up=ur(cp),Cs=42*2-1,Bc="linear-gradient(to top, #dbd5a7, #b0dab9)",lp="linear-gradient(to bottom, #fb578e, #f7bb97)",dp=ce`
  --resta-order-card-width: ${Tc};
  font-size: ${Mf};
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  border: 1px solid #55555587;
  width: var(--resta-order-card-width);
  min-width: var(--resta-order-card-width);

  // for iPad 10
  @media only screen and (max-device-width: 1080px) and (orientation: landscape) {
    --resta-order-card-width: ${Lr.ORDER_CARD_WIDTH};
  }

  /* @media only screen and (min-device-width: 1080px) and (orientation: landscape) {
    --resta-order-card-width: 260px;
  }
  @media only screen and (min-device-width: 1280px) and (orientation: landscape) {
    --resta-order-card-width: 284px;
  } */
`,Nc=ce`
  height: 100%;
  &,
  .anticon {
    transition: transform 1s cubic-bezier(0.075, 0.82, 0.165, 1);
  }
  label: __order-frame; // @emotion only
`,jc=ce`
  background: #fff;
  min-width: var(--resta-order-card-width);
  label: __order-main; // @emotion only

  .ant-tag {
    font-size: ${Cc};
    margin-inline-end: 0;
  }
`,ui=ce`
  min-width: 40px;
  min-height: 30px;
  line-height: 30px;
  background: #444;
  color: #fff;
  text-align: center;
  border-radius: 0 0 8px 0;
  label: __order-number; // @emotion only
`,fp=ce`
  .css-${Nc.name}, [class$='__order-frame'] {
    background: ${Bc};
    transform: translateX(-${Cs}px);
  }

  .css-${jc.name}, [class$='__order-main'] {
    border-radius: 0 8px 8px 0;
    box-shadow: 0px 0px 10px #00000085;
    z-index: 1;
  }

  /* .css-${ui.name}, [class$='__order-number'] {
    left: ${Cs}px;
  } */
`,hp=ce`
  display: flex;
  justify-content: space-between;
`,Fc=ce`
  visibility: hidden;
  label: __order-action-btn; // @emotion only
  transition: all 0.5s ease-out;

  .anticon {
    cursor: pointer;
    margin: 8px;

    &:hover,
    &:active {
      transform: scale(1.5);
    }
  }
`,pp=ce`
  font-size: 1.2rem;
`,mp=ce`
  height: 100%;
  &:hover {
    .css-${Fc.name}, [class$='__order-action-btn'] {
      visibility: visible;
    }
  }
`,yp=ce`
  padding: 10px;
  flex: 1;
`,vp=ce`
  padding: 10px;
  align-self: flex-end;
`,gp=ce`
  margin-inline-start: 4px;
  margin-inline-end: 4px;
`,bp=ce`
  font-weight: 500;
  text-align: right;
`,wp=ce`
  font-size: ${Sc};
  text-align: right;
`,da=ce`
  font-size: ${Sc};
  width: 100%;
  justify-content: flex-end;
`,xp=ce`
  color: #619b6d;
`,_p=ce`
  color: white;
  cursor: pointer;
`,Kc=`
  padding: 10px 1rem;
  justify-content: center;
  align-items: center;
  display: flex;
  width: 10px;
  &:hover, &:active {
    .anticon {
      transform: scale(1.5);
    }
  }
`,Ss=ce`
  ${Kc}
  background: ${Bc};
`,Ep=ce`
  ${Kc}
  background: ${lp};
`,fa=t=>ce`
    background: ${t};
    background: linear-gradient(
      to bottom,
      color-mix(in srgb, ${t} 10%, #fff),
      #fff
    );

    .css-${ui.name}, [class$='__order-number'] {
      background: ${t};
    }
  `,Cp={gold:fa(_n.gold),blue:fa(_n.blue),purple:fa(_n.purple),red:fa(_n.red)},Sp=()=>{},Co=k.memo(t=>{const{record:r,number:o,editable:i=!0,callOrderAPI:c=Sp}=t,[l,d]=k.useState(!1),[h,p]=k.useState(!1),{API:v,appEvent:y,isTablet:b}=k.useContext(zr),M=k.useRef(),{data:q,total:I,originalTotal:S,memo:B,editedMemo:W,createdAt:Z,updatedAt:Y}=r,X=at.tz(Z),U=Y&&at.tz(Y),V=kr(async()=>await v.orderTypes.get(),[],[]),x=k.useMemo(()=>{let ve="";return Array.isArray(B)&&B.some(me=>{const Se=V.find(Le=>Le.name===me);return Se&&(ve=Se.color),Se}),ve},[B,V]),de=k.useCallback(()=>{d(ve=>!ve)},[]),le=k.useCallback(ve=>{if(i){const{directions:me}=ve.detail;me.left?d(!0):me.right&&d(!1)}},[i]),fe=k.useCallback(ve=>{ve==="edit"&&p(!0),y.fire(y.KEYBOARD_ON_ACTION,{record:r,action:ve,callOrderAPI:c})},[r,c,y]),De=k.useCallback(()=>{y.fire(y.KEYBOARD_ON_CANCEL_EDIT),p(!1)},[y]);return k.useEffect(()=>{const ve=M.current,me=up(ve);ve.addEventListener("swipe",le);const Se=y.on(y.ORDER_AFTER_ACTION,()=>{p(!1),d(!1)});return()=>{ve.removeEventListener("swipe",le),me.off(),Se()}},[y,le]),j("div",{css:[dp,l&&fp],className:"resta-order-card",ref:M,children:pe(wt,{css:Nc,children:[j("div",{css:[jc,Cp[x]],children:pe(wt,{css:mp,vertical:!0,children:[pe(wt,{css:hp,children:[j("div",{css:ui,children:o}),!b&&j("span",{css:Fc,onClick:de,children:l?j(Tu,{}):j(Ou,{css:pp})})]}),pe("div",{css:yp,children:[q.map((ve,me)=>{const{value:Se,operator:Le,res:et}=ve;let tt;return Le?tt=pe("span",{children:[j("span",{css:gp,children:Le}),Se]}):tt=et?pe("span",{children:[Se," (",et,")"]}):Se,j(Vt,{children:tt},`${me}-${Se}`)}),(B==null?void 0:B.length)>0&&pe(Mt,{children:[j(Rr,{}),j(Vt,{wrap:!0,children:B.map(ve=>j(Do,{children:ve},ve))})]}),j(Rr,{})]}),pe("div",{css:vp,children:[pe("div",{css:bp,children:[" ",ar(I)]}),!zo(S)&&pe("div",{css:wp,children:[" ","(: ",ar(S),")"]}),W&&j(Vt,{css:da,children:W}),pe(Vt,{css:da,children:[": ",r.number]}),pe(Vt,{css:da,children:[X.format(Fo),pe("span",{children:["(",X.fromNow(),")"]})]}),U&&pe(Vt,{css:[da,xp],children:[": ",U.format(Fo),pe("span",{children:["(",U.fromNow(),")"]})]})]})]})}),i&&pe(wt,{css:_p,children:[h?j("div",{css:Ss,onClick:De,children:j(As,{})}):j("div",{css:Ss,onClick:fe.bind(null,"edit"),children:j(Ms,{})}),j("div",{css:Ep,onClick:fe.bind(null,"delete"),children:j(Ko,{})})]})]})})}),zc=13,Uc=30,sr=["AM",""],cr=["PM",""],Ea=["TODAY",""],So={[sr[0]]:sr[1],[cr[0]]:cr[1],[Ea[0]]:Ea[1]},Tp=[{title:sr[1],key:sr[0],startTime:"09:00",color:"#fdf4d5"},{title:cr[1],key:cr[0],startTime:`${zc}:${Uc}`,color:"#EBF3F7"}];function Ts(t,r,o="en"){return t*60+r>=zc*60+Uc?o==="en"?cr[0]:cr[1]:o==="en"?sr[0]:sr[1]}const Op=[...Tp].reverse(),sm=ce`
  position: relative;
  padding: 20px;
  /* width: ${If(40)}; */
  min-height: ${ai(40)};
  label: __main;

  [class*='__orderlist_summary'] {
    padding: 20px;
    border-radius: 20px;
    margin-right: 200px; // for anchor last item
    position: relative;

    .ant-statistic-title {
      font-size: 1rem;
    }
  }

  .resta-orderlist-search-drawer {
    .ant-drawer-content-wrapper {
      position: sticky;
      top: 60px;

      .ant-drawer-body {
        overflow-y: auto;
        > div {
          height: calc(100vh - 170px);
        }
      }
    }
  }
`,cm=ce`
  padding: 10px 20px;
  h2 {
    color: #bbb;
  }
`,um=ce`
  [class*='__orderlist_summary'] {
    padding-bottom: 0;
    width: 70%;
    margin-left: auto;

    .ant-statistic-title {
      border-bottom: 1px solid #d3cdcd;
      padding-bottom: 4px;
    }
  }
`,To=ce`
  ${$f({rtColor:"#b6cad8",rbColor:"#ebdcc0",lbColor:"#e7e2d5",ltColor:"#c0cfb9"})}
`,kp=ce`
  overflow-x: hidden;
  overflow-y: auto;
  width: 100%;

  .ant-select,
  .ant-input-affix-wrapper {
    margin-bottom: 1rem;
  }

  .ant-tabs {
    &.ant-tabs-right {
      > .ant-tabs-content-holder {
        border-right: none;
      }
      > .ant-tabs-nav .ant-tabs-tab {
        padding: 4px 12px;
        font-size: 1rem;
      }
      .ant-tabs-content > .ant-tabs-tabpane {
        min-height: 300px;
        max-height: 600px;
        min-width: 292px;
        overflow-y: auto;
      }
    }
    > .ant-tabs-nav {
      top: 2px;
      right: -66px;
      position: absolute;
    }
  }

  // for anchor
  /* .ant-flex:empty {
    height: 1px;
    padding: 0;
    margin: 0;
    visibility: hidden;
  } */
`,lm=ce`
  position: relative;
`,dm=ce`
  .ant-drawer-content {
    overflow: hidden;
    height: auto;
  }

  .ant-drawer-close {
    margin-right: 50px;
  }
`,fm=ce`
  padding-bottom: 350px; // for anchor last item and scroll-top buttn

  /* @media only screen and (min-device-width: 1080px) and (orientation: landscape) {
    padding-bottom: 280px;
  }
  @media only screen and (min-device-width: 1280px) and (orientation: landscape) {
    padding-bottom: 350px;
  } */
`,hm=ce`
  filter: blur(0.3rem);

  .ant-anchor-wrapper {
    display: none;
  }
`,Rp=ce`
  > [class*='__orderlist_summary'] {
    width: 70%;
    background: #00000007;
    margin: 0;
  }
`,Dp=ce`
  border-radius: 20px;
  padding: 20px;
  margin: 20px 0;
  position: relative;

  &::after {
    content: attr(data-title);
    position: absolute;
    top: 0;
    right: 0;
    font-size: 1rem;
    padding: 1rem;
    background: #ffffff70;
    border-radius: 0 20px 0 20px;
    color: #666;
  }
`,Pp=ce`
  width: 100%;
  justify-content: center;
`,Ap=ce`
  position: relative;
  margin-right: 60px;
  min-width: 286px;

  h1 {
    font-size: 2.2rem;
    margin: 40px 0;
  }

  .resta-orders-content {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
`,Os=ce`
  text-align: center;
  label: __orderlist_summary; // @emotion only

  .ant-statistic-title {
    font-size: 1rem;
  }
`,Mp=ce`
  width: 100%;
  margin-right: 140px;
`,Ip=ce`
  position: fixed;
  inset-inline-end: 0;
  margin-inline-end: calc(20px - 100vw + 100%);
  margin-top: 10px;
`,pm=ce`
  font-size: 1.2rem;
  padding: 1.2rem;
  border: 1px solid #eee;
`,mm=ce`
  float: left;
  margin: 3px 0;
`,ks={add:"",edit:"",delete:""},$p=["","",""],Zn=["","","","",""];function Lp(t,r){const o=at.tz(r),i=o.format("YYYY-MM-DD");t[i]=t[i]??{periods:Op.map(({title:l,startTime:d,key:h,color:p})=>{const[v,y]=d.split(":");return{title:l,key:h,id:`resta-anchor-${i}-${h}`,createdAt:o.hour(+v).minute(+y).valueOf(),elements:[],elementsProps:[],color:p,total:0,numberCount:0}}),datetime:r,dateWithWeek:o.format(ci),AM:{soldCount:0,recordCount:0,total:0},PM:{soldCount:0,recordCount:0,total:0},today:{soldCount:0,recordCount:0,total:0}};const c=t[i];return{dateData:c,periods:c.periods}}function Bp(t,r=!0){return Object.keys(t).sort((o,i)=>r?i.localeCompare(o):o.localeCompare(i))}function Rs(t){const r=new Map;let o=!1;for(const{res:i,amount:c,type:l,value:d}of t.data){if(!i)continue;const h=r.get(i);(h==null?void 0:h.type)===l?(o=!0,h.amount+=_a(c)):r.set(i,{amount:_a(c),type:l,value:d})}if(o&&r.size){const i=Array.from(r).flatMap(([c,{amount:l,type:d,value:h}])=>[{res:c,type:d,value:h,...l>1?{amount:String(l)}:{}},...l>1?[{value:String(l),operator:"*"}]:[],{value:"",operator:"+"}]).slice(0,-1);t.data=i}}const Ds="today";function Np({datetime:t,searchData:r,dateOrder:o=!0,searchUI:i=!0,reverse:c=!0,orderPageMode:l=!1,vertical:d=l,emptyDescription:h,offset:p=0,limit:v=uh,handleRecords:y,search:b}){t=t??Ds;const M=at.tz(),q=M.format(ci),{API:I}=k.useContext(zr),[S,B]=ku.useNotification(),[W,Z]=$s.useModal(),[Y,X]=k.useMemo(()=>t===Ds?[M.startOf("day").valueOf(),M.endOf("day").valueOf()]:t,[t,q]),U=k.useCallback(()=>{const ge=at.tz();return Ts(ge.hour(),ge.minute())},[q]),[V,x]=k.useState(U),[de,le]=k.useState([]),fe=k.useCallback(Bu(ge=>{le(ge)},500),[]),De=k.useCallback(async()=>{const ge=at.tz(),[Fe,ze]=[ge.startOf("day").valueOf(),ge.endOf("day").valueOf()];return await I.orders.count({startTime:Fe,endTime:ze})},[I]),ve=k.useRef(),me=k.useCallback((ge=!1)=>j(wt,{css:Pp,children:j(Ru,{description:ge?"":h,style:{marginTop:100}})}),[h]),Se=k.useCallback(({type:ge,message:Fe="",description:ze,errorDescription:ue,errorMsg:jt})=>{S[ge]({message:Fe,description:ue?pe(Mt,{children:[j("p",{children:ue}),j("p",{children:pe("small",{children:[" - ",jt??"Unknown"]})})]}):ze,showProgress:!0,pauseOnHover:ge!=="success",duration:ge==="success"?3:20})},[S]),Le=k.useCallback(async(ge,Fe)=>{try{switch(Fe){case"add":{Rs(ge),ge.number=await De()+1;const ze=await I.orders.add(ge);return Se({message:"",type:"success",description:"!"}),ze}case"edit":{Rs(ge);const ze=await I.orders.set(ge.id,ge);return Se({message:"",type:"success",description:`[${ge.number}]!`}),ze}case"delete":return new Promise(ze=>{W.confirm({title:"",content:pe(Mt,{children:[pe("p",{children:["[",ge.number,"]?"]}),j(Rr,{})]}),okType:"danger",okText:"",cancelText:"",onOk:ue=>{I.orders.delete(ge.id,ge),Se({type:"success",description:`[${ge.number}]!`}),ue(),ze(ge.id)},onCancel:()=>{ze(null)},footer:(ue,{OkBtn:jt,CancelBtn:ft})=>pe(Mt,{children:[j(jt,{}),j(ft,{})]})})})}}catch(ze){Se({type:"error",message:"",errorDescription:Fe==="add"?ks[Fe]:`${ks[Fe]} - [${ge.number}]`,errorMsg:ze==null?void 0:ze.message})}finally{if(Fe==="add"){const ze=U();ze!==V&&x(ze)}}return null},[I,W,V,U,Se]),et=kr(async()=>{const ge=await I.orders.get({startTime:Y,endTime:X,reverse:c,searchText:r??de,search:b}),Fe=(y==null?void 0:y(ge))??ge;let ze=0,ue=0,jt=0,ft=[],xe=null,Dt=null,gn=null,Ft=null;const Pt={},an=Fe==null?void 0:Fe.length;if(an||de.length){const on=!!(an===0&&de.length);Fe==null||Fe.forEach(Ee=>{const{data:Ne,total:We,createdAt:Ve}=Ee,{dateData:ot,periods:Ue}=Lp(Pt,Ve);ze+=We,++ot.today.recordCount;let Qe=0;Ne.forEach(({res:Je,amount:J})=>{if(Je){const zt=_a(J);Qe+=zt,ot.today.soldCount+=zt}});const Kt=at.tz(Ve),gt=Ts(Kt.hour(),Kt.minute()),oe=ot[gt];++oe.recordCount,oe.total+=We,oe.soldCount+=Qe,ue+=Qe;const bt=Je=>{++Je.numberCount;const{elements:J,elementsProps:zt,numberCount:en}=Je;Je.total+=We;const cn=`${Ve}-${en}`;l?zt.push({record:Ee,key:cn,number:en,callOrderAPI:Le}):J.push(j(Co,{record:Ee,number:en,callOrderAPI:Le},cn))};if(!Ue.some(Je=>{const{createdAt:J}=Je;return Ve>=J?(bt(Je),!0):!1})){const Je=Ue.at(-1);bt(Je)}}),ft=Bp(Pt,o),jt=ft.length,v&&(ft=ft.slice(p,p+v));const sn={};let Ht=null;if(l){if(Ht=Pt[Object.keys(Pt)[0]],Ht){const{periods:Ee}=Ht,Ne=[],We=Ee.map(({elements:Ve,elementsProps:ot,numberCount:Ue,title:Qe,key:Kt,createdAt:gt})=>(ot.forEach((oe,bt)=>{oe.number=Ue-bt;const mt=`${gt}-${oe.number}`;Ve.push(Yi(Co,{...oe,key:mt}));const Je=oe.record.number;oe.number=Je,Ne.push(Yi(Co,{...oe,key:`${gt}-${Je}`}))}),{label:Qe,key:Kt,children:j(wt,{gap:10,wrap:!0,children:Ve})})).reverse();We.push({label:Ea[1],key:Ea[0],children:j(wt,{gap:10,wrap:!0,children:Ne})}),Dt=j(Is,{tabPosition:"right",items:We,activeKey:V,onChange:x})}}else ft.forEach(Ee=>{const Ne=`resta-anchor-${Ee}`,We=Pt[Ee],{periods:Ve,dateWithWeek:ot,datetime:Ue}=We,Qe=Ee.split("-")[0],Kt=`resta-anchor-${Qe}`,gt=sn[Qe]=sn[Qe]??{yearId:Kt,dateElements:[],anchorItems:[]},{dateElements:oe,anchorItems:bt}=gt,mt=at.tz(Ue).format(ch);bt.push({key:`${Qe}-${mt}`,href:`#${Ne}`,title:mt,children:[]}),!l&&Ve.reverse();const Je=Ve.filter(({elements:L})=>L.length).map(({elements:L,id:K,color:G,title:se})=>{const be={backgroundColor:G};return bt.at(-1).children.push({key:K,href:`#${K}`,title:se}),j(wt,{css:Dp,id:K,"data-title":se,vertical:d,gap:10,wrap:!0,style:be,children:L},K)}),{today:J,AM:zt,PM:en}=We,cn=Math.round(zt.total),Cn=Math.round(en.total),$n=cn+Cn,R=pe("section",{css:Rp,children:[j("h1",{id:Ne,children:ot}),pe(wt,{css:Os,justify:"space-between",children:[j(Dn,{title:Zn[0],value:J.recordCount}),j(Dn,{title:Zn[1],value:J.soldCount}),j(Dn,{title:Zn[3],prefix:"$",value:cn}),j(Dn,{title:Zn[4],prefix:"$",value:Cn}),j(Dn,{title:Zn[2],prefix:"$",value:$n})]}),Je]},Ee);oe.push(R)});if(!on){const Ee={css:Ip};if(!l){const Ne=[],We=Object.keys(sn);o&&We.sort().reverse(),Dt=We.map(Ve=>{const{yearId:ot,dateElements:Ue,anchorItems:Qe}=sn[Ve];return Ne.push({key:Ve,href:`#${ot}`,title:Ve,children:Qe}),j("article",{id:ot,children:Ue},ot)}),gn=j(Pu,{...Ee,items:Ne,offsetTop:64,targetOffset:100,bounds:220})}}xe=j(wt,{css:kp,gap:8,ref:ve,children:pe("div",{css:[Ap,!d&&Mp],children:[i&&j(Du,{placeholder:"?",mode:"tags",style:{width:"100%"},allowClear:!0,onChange:fe,onKeyUp:Ee=>{Ee.preventDefault(),Ee.stopPropagation()},options:Gf}),on?me(on):j(Mt,{children:j("div",{className:"resta-orders-content",children:Dt})})]})}),ze=Math.round(ze);const he=ft.length===1,ye=he?Zn:$p;let Ce=an??0,Be=ue,nt=ze;if(l&&Ht&&(V==="AM"||V==="PM")){const Ee=Ht[V];Ce=Ee.recordCount,Be=Ee.soldCount,nt=Ee.total}Ft=!l&&he?null:pe(wt,{css:Os,justify:"space-between",children:[j("div",{css:!l&&To,children:j(Dn,{title:`${l?So[V]:""}${ye[0]}`,value:Ce})}),j("div",{css:!l&&To,children:j(Dn,{title:`${l?So[V]:""}${ye[1]}`,value:Be})}),j("div",{css:!l&&To,children:j(Dn,{title:`${l?So[V]:""}${ye[2]}`,prefix:"$",value:nt})})]})}else an===0&&(xe=me());return{records:Fe,recordLength:an,totalCount:ze,totalDays:jt,soldItemsCount:ue,periodsOrder:ft,orderListElement:xe,anchorElement:gn,summaryElement:Ft}},[Y,X,de,V,r,p,v,c,l,o,i,d,y,b]),{records:tt,recordLength:Ae,totalCount:_t,totalDays:Ze,soldItemsCount:Et,periodsOrder:St,orderListElement:Rt,anchorElement:Nt,summaryElement:Ct}=et??{periodsOrder:[]};return{records:tt,recordLength:Ae,totalCount:_t,totalDays:Ze,soldItemsCount:Et,periodsOrder:St,orderListElement:pe(Mt,{children:[B,Z,Rt]}),anchorElement:Nt,summaryElement:Ct,contentRef:ve,callOrderAPI:Le}}const Ps=[pe(Mt,{children:[j("p",{children:"? ? ?"}),j("p",{children:""})]}),pe(Mt,{children:[j("p",{children:""}),j("p",{children:""})]}),pe(Mt,{children:[j("p",{children:"..."}),j("p",{children:""})]}),pe(Mt,{children:[j("p",{children:""}),j("p",{children:""})]}),pe(Mt,{children:[j("p",{children:""}),j("p",{children:""})]}),pe(Mt,{children:[j("p",{children:""}),j("p",{children:""})]}),pe(Mt,{children:[j("p",{children:""}),j("p",{children:"8"})]})],jp=ce`
  position: relative;
  overflow: hidden;

  .resta-order-card {
    // for iPad 10
    @media only screen and (max-device-width: 1080px) and (orientation: landscape) {
      --resta-order-card-width: ${Tc};
    }
  }

  .ant-drawer {
    .ant-drawer-header {
      background: radial-gradient(
        circle at 10% 20%,
        #cef5e6 42%,
        #c0e9f9 93.6%
      );
    }
    .ant-drawer-body {
      overflow: hidden;
    }
  }

  .ant-empty {
    font-size: 1rem;
  }
`,Fp=ce`
  position: relative;
`,Kp=k.memo(()=>{const{DATE_FORMAT:t}=k.useContext(zr),{orderListElement:r,summaryElement:o,contentRef:i,callOrderAPI:c}=Np({datetime:"today",orderPageMode:!0,emptyDescription:Ps[Math.floor(Math.random()*Ps.length)]}),l=k.useCallback(d=>{var h,p,v;d==="add"&&((v=(p=(h=i.current)==null?void 0:h.querySelector(".ant-tabs-tabpane"))==null?void 0:p.scroll)==null||v.call(p,0,0))},[i]);return pe("div",{css:jp,children:[j(sp,{callOrderAPI:c,submitCallback:l}),j(Au,{css:Fp,title:pe("span",{children:[" - ",at.tz().format(t)]}),getContainer:!1,placement:"right",open:!0,mask:!1,closeIcon:null,footer:o,children:r})]})}),Oo=t=>{const r=k.lazy(t);return j(k.Suspense,{children:j(r,{})})},zp=k.memo(()=>{const t=j(Kp,{});return j(ef,{children:pe(An,{element:j(Yf,{}),children:[j(An,{path:"/",element:t}),j(An,{path:"order",element:t}),j(An,{path:"order-list",element:Oo(()=>wo(()=>import("./index-CECCKTF2.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url))}),j(An,{path:"statistics",element:Oo(()=>wo(()=>import("./index-DsOfUyw8.js"),__vite__mapDeps([6,1,2,3,7,4,5]),import.meta.url))}),j(An,{path:"settings",element:Oo(()=>wo(()=>import("./index-CSWg37Qk.js"),__vite__mapDeps([8,1,3,2,4,5]),import.meta.url))}),j(An,{path:"login",element:j(Mt,{children:"Login"})})]})})}),ko="gapi-token",Up=rf([{path:"*",element:j(zp,{})}]),Yp=()=>{const[t,r]=k.useState(()=>{try{return localStorage.getItem(ko)}catch{return null}}),o=k.useCallback(c=>{r(c);try{c?localStorage.setItem(ko,c):localStorage.removeItem(ko)}catch{}},[]),i=k.useMemo(()=>({...Ac,gAPIToken:t,setGAPIToken:o}),[t,o]);return pe(zr.Provider,{value:i,children:[j(Kl,{styles:[Lf]}),j(Mu,{theme:{components:jf},children:j(hf,{router:Up})})]})};nc(document.getElementById("root")).render(j(Yp,{}));export{zr as A,_n as C,ih as D,Mt as F,sp as K,om as L,Xf as M,ys as N,uh as O,wf as Q,j as a,sh as b,Gf as c,lm as d,fm as e,hm as f,ce as g,cm as h,ar as i,pe as j,dm as k,um as l,sm as m,fh as n,dh as o,oi as p,$f as q,kr as r,pm as s,mm as t,Np as u,Ts as v,_a as w,im as x,th as y};
